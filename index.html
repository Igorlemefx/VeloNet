<!DOCTYPE html>
<!-- VeloNet v4.0 - Última atualização: 31/07/2025 17:00 -->
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeloNet - Portal Corporativo Avançado v4.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
            color: #ffffff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        
        .glass-panel:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(0, 122, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .sidebar {
            background: linear-gradient(145deg, #1c1c1e 0%, #2c2c2e 100%);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.12);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .menu-item {
            background: transparent;
            color: #ffffff;
            transition: all 0.3s ease;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .menu-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .menu-item:hover::before {
            left: 100%;
        }
        
        .menu-item:hover {
            background: rgba(0, 122, 255, 0.15);
            color: #007AFF;
            transform: translateX(5px);
        }
        
        .menu-item.active {
            background: rgba(0, 122, 255, 0.25);
            color: #007AFF;
            border-left: 3px solid #007AFF;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%);
            color: white;
            border-radius: 12px;
            padding: 12px 24px;
            border: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 122, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .btn-google {
            background: #ffffff;
            color: #333333;
            border: 1px solid #dadce0;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-google:hover {
            background: #f8f9fa;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        
        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            color: #ffffff;
            padding: 12px 16px;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #007AFF;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .login-container {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 16px;
            z-index: 1000;
            min-width: 300px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        .hidden {
            display: none !important;
        }
        
        .reaction-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 8px 12px;
            margin: 4px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .reaction-btn:hover {
            background: #007AFF;
            color: white;
            transform: scale(1.05);
        }
        
        .reaction-btn.active {
            background: #007AFF;
            color: white;
            animation: pulse 0.5s ease;
        }
        
        .metric-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 122, 255, 0.4);
            box-shadow: 0 15px 40px rgba(0, 122, 255, 0.2);
        }
        
        .status-online {
            background: linear-gradient(135deg, #34C759 0%, #30D158 100%);
            box-shadow: 0 0 20px rgba(52, 199, 89, 0.3);
        }
        
        .status-offline {
            background: linear-gradient(135deg, #FF3B30 0%, #FF453A 100%);
            box-shadow: 0 0 20px rgba(255, 59, 48, 0.3);
        }
        
        .status-pause {
            background: linear-gradient(135deg, #FF9500 0%, #FF9F0A 100%);
            box-shadow: 0 0 20px rgba(255, 149, 0, 0.3);
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #007AFF, #00C7FF);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .user-avatar {
            border: 2px solid #007AFF;
            transition: all 0.3s ease;
        }
        
        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 122, 255, 0.5);
        }
        
        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid #007AFF;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Toggle Switch */
        .toggle-switch {
            width: 50px;
            height: 24px;
            background: #374151;
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: #007AFF;
        }

        .toggle-slider {
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(26px);
        }

        /* Media Actions */
        .media-action {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 4px;
            color: #9CA3AF;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .media-action:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #007AFF;
        }

        /* View Toggle */
        .view-toggle {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 6px;
            color: #9CA3AF;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .view-toggle.active,
        .view-toggle:hover {
            background: #007AFF;
            color: white;
        }

        /* Folder Items */
        .folder-item.active {
            background: rgba(0, 122, 255, 0.1);
            border: 1px solid #007AFF;
        }

        /* Chat Styles */
        .chat-message {
            margin-bottom: 1rem;
        }

        .chat-bubble {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .chat-message.user .chat-bubble {
            background: #007AFF;
            margin-left: auto;
        }

        .chat-message.assistant .chat-bubble {
            background: rgba(255, 255, 255, 0.05);
        }

        .chat-container::-webkit-scrollbar {
            width: 6px;
        }

        .chat-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chat-container::-webkit-scrollbar-thumb {
            background: #007AFF;
            border-radius: 3px;
        }

        /* Quick Command Buttons */
        .quick-command-btn {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #E5E7EB;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .quick-command-btn:hover {
            background: rgba(0, 122, 255, 0.1);
            border-color: #007AFF;
            color: #007AFF;
        }

        /* Badge Styles */
        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-info {
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
        }

        .badge-success {
            background: rgba(52, 199, 89, 0.2);
            color: #34C759;
        }

        .badge-warning {
            background: rgba(255, 149, 0, 0.2);
            color: #FF9500;
        }

                .badge-error {
            background: rgba(255, 59, 48, 0.2);
            color: #FF3B30;
        }

        /* Admin Tabs */
        .admin-tab {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }

        .admin-tab.active {
            border-bottom-color: #007AFF;
        }

        .admin-tab:hover {
            color: white !important;
        }

        /* Admin Table */
        table {
            border-collapse: separate;
            border-spacing: 0;
        }

        table thead th {
            position: sticky;
            top: 0;
            background: rgba(17, 24, 39, 0.95);
            backdrop-filter: blur(10px);
        }

        table tbody tr:hover {
            transform: translateY(-1px);
            transition: all 0.2s ease;
        }

        /* Admin Cards */
        .glass-panel:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 122, 255, 0.1);
        }
         
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-success {
            background: rgba(52, 199, 89, 0.2);
            color: #34C759;
        }
        
        .badge-warning {
            background: rgba(255, 149, 0, 0.2);
            color: #FF9500;
        }
        
        .badge-error {
            background: rgba(255, 59, 48, 0.2);
            color: #FF3B30;
        }
        
        .badge-info {
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
        }
        
        .scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }
        
        .scrollbar::-webkit-scrollbar-thumb {
            background: rgba(0, 122, 255, 0.6);
            border-radius: 3px;
        }
        
        .scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 122, 255, 0.8);
        }

        /* Mobile Responsiveness Improvements */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                position: fixed;
                z-index: 1000;
                height: 100vh;
                width: 280px;
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0 !important;
                padding: 1rem;
            }
            
            .glass-panel {
                margin: 0.5rem 0;
                padding: 1rem;
            }
            
            .grid {
                grid-template-columns: 1fr !important;
                gap: 1rem;
            }
            
            .widget-panel {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 0.5rem;
            }
            
            .chat-main-area {
                flex-direction: column;
                height: auto;
            }
            
            .chat-sidebar {
                width: 100% !important;
                margin-right: 0 !important;
                margin-bottom: 1rem;
                max-height: 300px;
                overflow-y: auto;
            }
        }
        
        @media (max-width: 480px) {
            .widget-panel {
                grid-template-columns: 1fr !important;
            }
            
            .btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.875rem;
            }
            
            .header-actions {
                flex-wrap: wrap;
                gap: 0.25rem;
            }
        }

        /* Accessibility Improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for accessibility */
        button:focus,
        input:focus,
        select:focus {
            outline: 2px solid #007AFF !important;
            outline-offset: 2px;
        }

        /* Error handling styles */
        .error-boundary {
            border: 2px solid #ff3b30;
            background: rgba(255, 59, 48, 0.1);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* Loading states */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        /* Widget Enhanced Styles */
        .widget-drag-over {
            border: 2px dashed #007AFF !important;
            background: rgba(0, 122, 255, 0.1) !important;
            transform: scale(1.05) !important;
            transition: all 0.3s ease !important;
        }

        .widget-dragging {
            opacity: 0.7 !important;
            transform: rotate(2deg) scale(0.95) !important;
            z-index: 1000 !important;
            transition: all 0.3s ease !important;
        }

        .drag-enabled {
            cursor: move !important;
            position: relative;
        }

        .drag-enabled:hover {
            border: 2px solid rgba(0, 122, 255, 0.5) !important;
        }

        .widget-controls {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 8px;
            padding: 4px;
            z-index: 10;
        }

        .metric-card:hover .widget-actions {
            display: block !important;
        }

        .widget-value {
            transition: all 0.3s ease;
        }

        .metric-card {
            position: relative;
            transition: all 0.3s ease;
        }

        /* === SISTEMA DE TEMAS === */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
        }

        /* Tema Claro */
        .theme-light {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%) !important;
        }

        .theme-light .glass-panel {
            background: rgba(255, 255, 255, 0.25) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            backdrop-filter: blur(10px);
        }

        .theme-light .text-white {
            color: #2d3748 !important;
        }

        .theme-light .text-gray-400 {
            color: #4a5568 !important;
        }

        .theme-light .text-gray-300 {
            color: #2d3748 !important;
        }

        .theme-light .bg-gray-800 {
            background-color: rgba(255, 255, 255, 0.4) !important;
        }

        .theme-light .bg-gray-700 {
            background-color: rgba(255, 255, 255, 0.3) !important;
        }

        .theme-light .border-gray-600 {
            border-color: rgba(0, 0, 0, 0.2) !important;
        }

        /* Tema Azul */
        .theme-blue {
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 50%, #415a77 100%) !important;
        }

        .theme-blue .glass-panel {
            background: rgba(27, 38, 59, 0.4) !important;
            border: 1px solid rgba(168, 218, 220, 0.2) !important;
        }

        .theme-blue .text-gray-400 {
            color: #a8dadc !important;
        }

        .theme-blue .text-gray-300 {
            color: #e9ecef !important;
        }

        .theme-blue .bg-gray-800 {
            background-color: rgba(27, 38, 59, 0.6) !important;
        }

        .theme-blue .bg-gray-700 {
            background-color: rgba(27, 38, 59, 0.4) !important;
        }

        .theme-blue .border-gray-600 {
            border-color: rgba(168, 218, 220, 0.3) !important;
        }

        /* Tema Escuro (padrão) */
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2a2a2a 100%);
        }

        .theme-dark {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2a2a2a 100%) !important;
        }

        /* === CORREÇÕES DE LAYOUT === */
        .chart-container {
            position: relative !important;
            height: 300px !important;
            width: 100% !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }

        .chart-container canvas {
            max-width: 100% !important;
            max-height: 100% !important;
            width: auto !important;
            height: auto !important;
        }

        /* Responsividade aprimorada */
        @media (max-width: 768px) {
            .chart-container {
                height: 250px !important;
            }
        }

        @media (max-width: 480px) {
            .chart-container {
                height: 200px !important;
            }
        }

        /* Correção para containers de grid */
        .grid {
            display: grid !important;
            width: 100% !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }

        .grid > * {
            min-width: 0 !important;
            min-height: 0 !important;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 z-50 flex items-center justify-center bg-black">
        <div class="text-center">
            <div class="loading-spinner mx-auto mb-4"></div>
            <h2 class="text-2xl font-bold text-white">Carregando VeloNet...</h2>
            <p class="text-gray-400">Preparando sua experiência</p>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <div class="login-container p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <div class="w-24 h-24 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <i class="fas fa-building text-white text-4xl"></i>
                </div>
                <h1 class="text-4xl font-bold text-white mb-2">VeloNet</h1>
                <p class="text-gray-400">Portal Corporativo Avançado</p>
                <div class="mt-4 text-xs text-gray-500">
                    <i class="fas fa-shield-alt mr-1"></i>
                    Sistema Seguro e Confiável
                </div>
            </div>
            
            <!-- Login Options -->
            <div class="space-y-4">
                <!-- Google Login Button -->
                <button onclick="loginWithGoogle()" class="btn-google w-full py-4 px-4 rounded-lg flex items-center justify-center font-medium">
                    <svg width="20" height="20" viewBox="0 0 24 24" class="mr-3">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    <span>Continuar com Google</span>
                </button>
                
                <!-- Divider -->
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-600"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-3 bg-black text-gray-400">ou</span>
                    </div>
                </div>
                
                <!-- Demo Login -->
                <button onclick="loginWithDemo()" class="btn-primary w-full py-4 font-medium">
                    <i class="fas fa-rocket mr-2"></i>
                    Acesso Demo Completo
                </button>
                
                <!-- Manual Login Form -->
                <div class="mt-6">
                    <button onclick="toggleManualLogin()" class="text-blue-400 hover:text-blue-300 text-sm transition-colors">
                        <i class="fas fa-key mr-1"></i>
                        Login com Credenciais
                    </button>
                </div>
                
                <!-- Manual Login Form (Hidden by default) -->
                <div id="manualLoginForm" class="hidden space-y-4 mt-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">E-mail Corporativo</label>
                        <input type="email" id="manualEmail" class="input-field w-full px-4 py-3" placeholder="seu.email@velotax.com.br">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Senha</label>
                        <input type="password" id="manualPassword" class="input-field w-full px-4 py-3" placeholder="Sua senha segura">
                    </div>
                    
                    <button onclick="loginWithManual()" class="btn-primary w-full py-3 font-medium">
                        <i class="fas fa-sign-in-alt mr-2"></i>
                        Entrar no Sistema
                    </button>
                </div>
            </div>
            
            <div class="text-center text-sm text-gray-400 mt-8 space-y-2">
                <p><i class="fas fa-lock mr-1"></i> Apenas e-mails @velotax.com.br</p>
                <p class="text-xs">Demo: admin@velotax.com.br | Senha: admin123</p>
                <div class="flex items-center justify-center space-x-4 mt-4 text-xs">
                    <span><i class="fas fa-shield-alt text-green-400 mr-1"></i>SSL Seguro</span>
                    <span><i class="fas fa-clock text-blue-400 mr-1"></i>24/7 Online</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <!-- Sidebar -->
        <div class="fixed inset-y-0 left-0 w-72 sidebar z-40">
            <div class="flex flex-col h-full">
                <!-- Logo -->
                <div class="p-6 border-b border-gray-700">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 shadow-lg">
                            <i class="fas fa-building text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-white">VeloNet</h1>
                            <p class="text-xs text-gray-400">Portal Corporativo</p>
                        </div>
                    </div>
                    <div class="mt-4 flex items-center text-xs text-gray-500">
                        <div class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></div>
                        Sistema Online
                    </div>
                </div>
                
                <!-- Menu -->
                <nav class="flex-1 p-4 space-y-2 scrollbar overflow-y-auto">
                    <button onclick="showSection('dashboard')" class="menu-item active w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-chart-line mr-3 text-lg"></i>
                        <span>Dash</span>
                        <span class="ml-auto badge badge-info">Live</span>
                    </button>
                    
                    <button onclick="showSection('velonews')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-newspaper mr-3 text-lg"></i>
                        <span>VeloNews</span>
                        <span class="ml-auto badge badge-success">5</span>
                    </button>
                    
                    <button onclick="showSection('processos')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-cogs mr-3 text-lg"></i>
                        <span>Processos</span>
                        <span class="ml-auto badge badge-info">8</span>
                    </button>
                    
                    <button onclick="showSection('veloacademy')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-graduation-cap mr-3 text-lg"></i>
                        <span>VeloAcademy</span>
                        <span class="ml-auto badge badge-warning">6</span>
                    </button>
                    
                    <button onclick="showSection('veloponto')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-clock mr-3 text-lg"></i>
                        <span>VeloPonto</span>
                        <span class="ml-auto badge badge-primary">Live</span>
                    </button>
                    
                    <div class="border-t border-gray-700 my-4"></div>
                    
                    <button onclick="showSection('atendimentos')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-headset mr-3 text-lg"></i>
                        <span>Atendimentos</span>
                        <span class="ml-auto text-xs text-gray-400">93</span>
                    </button>
                    
                    <button onclick="showSection('base')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-book mr-3 text-lg"></i>
                        <span>Base de Conhecimento</span>
                    </button>
                    
                    <button onclick="showSection('media')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-cloud-upload-alt mr-3 text-lg"></i>
                        <span>Mídia</span>
                    </button>
                    
                    <button onclick="showSection('gemini')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-robot mr-3 text-lg"></i>
                        <span>Gemini AI</span>
                        <span class="ml-auto badge badge-info">Beta</span>
                    </button>
                    
                    <button onclick="showSection('calendario')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-calendar-alt mr-3 text-lg"></i>
                        <span>Calendário</span>
                        <span class="ml-auto badge badge-info">3</span>
                    </button>
                    
                    <button onclick="showSection('admin')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-shield-alt mr-3 text-lg"></i>
                        <span>Administração</span>
                    </button>
                    
                    <button onclick="showSection('chat')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-comments mr-3 text-lg"></i>
                        <span>VeloChat</span>
                        <span class="ml-auto badge badge-success">Online</span>
                    </button>
                    
                    <button onclick="showSection('perfil')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-user mr-3 text-lg"></i>
                        <span>Meu Perfil</span>
                    </button>
                </nav>
                
                <!-- User Info -->
                <div class="p-4 border-t border-gray-700">
                    <div class="flex items-center">
                        <img id="userAvatar" src="https://via.placeholder.com/50x50" alt="Avatar" class="w-12 h-12 rounded-full mr-3 user-avatar">
                        <div class="flex-1">
                            <p id="userName" class="text-sm font-bold text-white">Usuário</p>
                            <p id="userEmail" class="text-xs text-gray-400">usuario@velotax.com.br</p>
                            <div class="flex items-center mt-1">
                                <div class="w-2 h-2 bg-green-400 rounded-full mr-1"></div>
                                <span class="text-xs text-green-400">Online</span>
                            </div>
                        </div>
                        <div class="flex flex-col space-y-1">
                            <button onclick="showThemeSelector()" class="text-gray-400 hover:text-blue-400 transition-colors">
                                <i class="fas fa-palette text-sm"></i>
                            </button>
                            <button onclick="logout()" class="text-gray-400 hover:text-red-400 transition-colors">
                                <i class="fas fa-sign-out-alt text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="ml-72 min-h-screen">
            <!-- Header -->
            <header class="bg-black bg-opacity-30 backdrop-filter backdrop-blur-lg border-b border-gray-800 p-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <!-- Mobile Menu Button -->
                        <button onclick="toggleMobileMenu()" class="md:hidden p-2 text-white hover:bg-white hover:bg-opacity-10 rounded-lg">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div>
                            <h1 id="pageTitle" class="text-2xl font-bold text-white">Dashboard</h1>
                            <p id="pageSubtitle" class="text-gray-400">Visão geral do desempenho</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- Global Search -->
                        <div class="relative">
                            <input type="text" id="globalSearch" placeholder="Buscar em todo o sistema..." 
                                   class="glass-input pl-10 pr-4 py-2 w-80 focus:w-96 transition-all duration-300"
                                   onkeyup="performGlobalSearch()" onfocus="showSearchSuggestions()">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            
                            <!-- Search Results Dropdown -->
                            <div id="searchResults" class="absolute top-full left-0 right-0 mt-2 glass-panel max-h-96 overflow-y-auto hidden z-50">
                                <div class="p-4">
                                    <div class="text-gray-400 text-sm mb-3">Resultados da busca</div>
                                    <div id="searchContent" class="space-y-2">
                                        <!-- Search results will be populated here -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-right">
                            <p class="text-sm text-white" id="currentTime">00:00</p>
                            <p class="text-xs text-gray-400" id="currentDate">Data</p>
                        </div>
                        
                        <!-- Voice Commands Button -->
                        <button onclick="toggleVoiceCommands()" id="voiceBtn" class="relative p-2 rounded-lg bg-white bg-opacity-10 hover:bg-opacity-20 transition-all">
                            <i class="fas fa-microphone text-gray-400 hover:text-white transition-colors text-lg"></i>
                            <span id="voiceIndicator" class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full hidden animate-pulse"></span>
                        </button>
                        <button onclick="showNotificationCenter()" class="relative">
                            <i class="fas fa-bell text-gray-400 hover:text-white transition-colors text-lg"></i>
                            <span id="notificationBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse">5</span>
                        </button>
                        
                        <!-- Notification Center Modal -->
                        <div id="notificationCenter" class="fixed inset-0 bg-black bg-opacity-50 backdrop-filter backdrop-blur-sm z-50 hidden">
                            <div class="absolute right-4 top-20 w-96 max-h-96 glass-panel">
                                <div class="p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-xl font-bold text-white">Centro de Notificações</h3>
                                        <div class="flex space-x-2">
                                            <button onclick="markAllAsRead()" class="text-blue-400 hover:text-blue-300 text-sm">
                                                <i class="fas fa-check-double mr-1"></i>Marcar todas como lidas
                                            </button>
                                            <button onclick="closeNotificationCenter()" class="text-gray-400 hover:text-white">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Notification Filters -->
                                    <div class="flex space-x-2 mb-4">
                                        <button onclick="filterNotifications('all')" class="notification-filter active text-xs px-3 py-1 rounded-full bg-blue-500 text-white">
                                            Todas
                                        </button>
                                        <button onclick="filterNotifications('system')" class="notification-filter text-xs px-3 py-1 rounded-full bg-gray-600 text-gray-300">
                                            Sistema
                                        </button>
                                        <button onclick="filterNotifications('user')" class="notification-filter text-xs px-3 py-1 rounded-full bg-gray-600 text-gray-300">
                                            Usuários
                                        </button>
                                        <button onclick="filterNotifications('alert')" class="notification-filter text-xs px-3 py-1 rounded-full bg-gray-600 text-gray-300">
                                            Alertas
                                        </button>
                                    </div>
                                    
                                    <!-- Notifications List -->
                                    <div id="notificationsList" class="space-y-3 max-h-64 overflow-y-auto">
                                        <!-- Notifications will be populated here -->
                                    </div>
                                    
                                    <div class="mt-4 pt-4 border-t border-gray-600">
                                        <button onclick="openNotificationSettings()" class="text-blue-400 hover:text-blue-300 text-sm">
                                            <i class="fas fa-cog mr-1"></i>Configurações de Notificação
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <div class="p-8">
<!DOCTYPE html>
<!-- VeloNet v4.0 - Última atualização: 31/07/2025 17:00 -->
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeloNet - Portal Corporativo Avançado v4.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
            color: #ffffff;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            transition: all 0.3s ease;
        }
        
        .glass-panel:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(0, 122, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .sidebar {
            background: linear-gradient(145deg, #1c1c1e 0%, #2c2c2e 100%);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.12);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.5);
        }
        
        .menu-item {
            background: transparent;
            color: #ffffff;
            transition: all 0.3s ease;
            border-radius: 12px;
            border: none;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .menu-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s;
        }
        
        .menu-item:hover::before {
            left: 100%;
        }
        
        .menu-item:hover {
            background: rgba(0, 122, 255, 0.15);
            color: #007AFF;
            transform: translateX(5px);
        }
        
        .menu-item.active {
            background: rgba(0, 122, 255, 0.25);
            color: #007AFF;
            border-left: 3px solid #007AFF;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #007AFF 0%, #0056CC 100%);
            color: white;
            border-radius: 12px;
            padding: 12px 24px;
            border: none;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 122, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .btn-google {
            background: #ffffff;
            color: #333333;
            border: 1px solid #dadce0;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-google:hover {
            background: #f8f9fa;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        
        .input-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            color: #ffffff;
            padding: 12px 16px;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #007AFF;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.15);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .login-container {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 16px;
            z-index: 1000;
            min-width: 300px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        .hidden {
            display: none !important;
        }
        
        .reaction-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            padding: 8px 12px;
            margin: 4px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .reaction-btn:hover {
            background: #007AFF;
            color: white;
            transform: scale(1.05);
        }
        
        .reaction-btn.active {
            background: #007AFF;
            color: white;
            animation: pulse 0.5s ease;
        }
        
        .metric-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 122, 255, 0.4);
            box-shadow: 0 15px 40px rgba(0, 122, 255, 0.2);
        }
        
        .status-online {
            background: linear-gradient(135deg, #34C759 0%, #30D158 100%);
            box-shadow: 0 0 20px rgba(52, 199, 89, 0.3);
        }
        
        .status-offline {
            background: linear-gradient(135deg, #FF3B30 0%, #FF453A 100%);
            box-shadow: 0 0 20px rgba(255, 59, 48, 0.3);
        }
        
        .status-pause {
            background: linear-gradient(135deg, #FF9500 0%, #FF9F0A 100%);
            box-shadow: 0 0 20px rgba(255, 149, 0, 0.3);
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #007AFF, #00C7FF);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        .user-avatar {
            border: 2px solid #007AFF;
            transition: all 0.3s ease;
        }
        
        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 122, 255, 0.5);
        }
        
        .loading-spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top: 2px solid #007AFF;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Toggle Switch */
        .toggle-switch {
            width: 50px;
            height: 24px;
            background: #374151;
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: #007AFF;
        }

        .toggle-slider {
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s ease;
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(26px);
        }

        /* Media Actions */
        .media-action {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 4px;
            color: #9CA3AF;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .media-action:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #007AFF;
        }

        /* View Toggle */
        .view-toggle {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 6px;
            color: #9CA3AF;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .view-toggle.active,
        .view-toggle:hover {
            background: #007AFF;
            color: white;
        }

        /* Folder Items */
        .folder-item.active {
            background: rgba(0, 122, 255, 0.1);
            border: 1px solid #007AFF;
        }

        /* Chat Styles */
        .chat-message {
            margin-bottom: 1rem;
        }

        .chat-bubble {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px 16px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .chat-message.user .chat-bubble {
            background: #007AFF;
            margin-left: auto;
        }

        .chat-message.assistant .chat-bubble {
            background: rgba(255, 255, 255, 0.05);
        }

        .chat-container::-webkit-scrollbar {
            width: 6px;
        }

        .chat-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chat-container::-webkit-scrollbar-thumb {
            background: #007AFF;
            border-radius: 3px;
        }

        /* Quick Command Buttons */
        .quick-command-btn {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #E5E7EB;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .quick-command-btn:hover {
            background: rgba(0, 122, 255, 0.1);
            border-color: #007AFF;
            color: #007AFF;
        }

        /* Badge Styles */
        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-info {
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
        }

        .badge-success {
            background: rgba(52, 199, 89, 0.2);
            color: #34C759;
        }

        .badge-warning {
            background: rgba(255, 149, 0, 0.2);
            color: #FF9500;
        }

                .badge-error {
            background: rgba(255, 59, 48, 0.2);
            color: #FF3B30;
        }

        /* Admin Tabs */
        .admin-tab {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }

        .admin-tab.active {
            border-bottom-color: #007AFF;
        }

        .admin-tab:hover {
            color: white !important;
        }

        /* Admin Table */
        table {
            border-collapse: separate;
            border-spacing: 0;
        }

        table thead th {
            position: sticky;
            top: 0;
            background: rgba(17, 24, 39, 0.95);
            backdrop-filter: blur(10px);
        }

        table tbody tr:hover {
            transform: translateY(-1px);
            transition: all 0.2s ease;
        }

        /* Admin Cards */
        .glass-panel:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 122, 255, 0.1);
        }
         
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-success {
            background: rgba(52, 199, 89, 0.2);
            color: #34C759;
        }
        
        .badge-warning {
            background: rgba(255, 149, 0, 0.2);
            color: #FF9500;
        }
        
        .badge-error {
            background: rgba(255, 59, 48, 0.2);
            color: #FF3B30;
        }
        
        .badge-info {
            background: rgba(0, 122, 255, 0.2);
            color: #007AFF;
        }
        
        .scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }
        
        .scrollbar::-webkit-scrollbar-thumb {
            background: rgba(0, 122, 255, 0.6);
            border-radius: 3px;
        }
        
        .scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 122, 255, 0.8);
        }

        /* Mobile Responsiveness Improvements */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                position: fixed;
                z-index: 1000;
                height: 100vh;
                width: 280px;
            }
            
            .sidebar.mobile-open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0 !important;
                padding: 1rem;
            }
            
            .glass-panel {
                margin: 0.5rem 0;
                padding: 1rem;
            }
            
            .grid {
                grid-template-columns: 1fr !important;
                gap: 1rem;
            }
            
            .widget-panel {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 0.5rem;
            }
            
            .chat-main-area {
                flex-direction: column;
                height: auto;
            }
            
            .chat-sidebar {
                width: 100% !important;
                margin-right: 0 !important;
                margin-bottom: 1rem;
                max-height: 300px;
                overflow-y: auto;
            }
        }
        
        @media (max-width: 480px) {
            .widget-panel {
                grid-template-columns: 1fr !important;
            }
            
            .btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.875rem;
            }
            
            .header-actions {
                flex-wrap: wrap;
                gap: 0.25rem;
            }
        }

        /* Accessibility Improvements */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles for accessibility */
        button:focus,
        input:focus,
        select:focus {
            outline: 2px solid #007AFF !important;
            outline-offset: 2px;
        }

        /* Error handling styles */
        .error-boundary {
            border: 2px solid #ff3b30;
            background: rgba(255, 59, 48, 0.1);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        /* Loading states */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        /* Widget Enhanced Styles */
        .widget-drag-over {
            border: 2px dashed #007AFF !important;
            background: rgba(0, 122, 255, 0.1) !important;
            transform: scale(1.05) !important;
            transition: all 0.3s ease !important;
        }

        .widget-dragging {
            opacity: 0.7 !important;
            transform: rotate(2deg) scale(0.95) !important;
            z-index: 1000 !important;
            transition: all 0.3s ease !important;
        }

        .drag-enabled {
            cursor: move !important;
            position: relative;
        }

        .drag-enabled:hover {
            border: 2px solid rgba(0, 122, 255, 0.5) !important;
        }

        .widget-controls {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 8px;
            padding: 4px;
            z-index: 10;
        }

        .metric-card:hover .widget-actions {
            display: block !important;
        }

        .widget-value {
            transition: all 0.3s ease;
        }

        .metric-card {
            position: relative;
            transition: all 0.3s ease;
        }

        /* === SISTEMA DE TEMAS === */
        :root {
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
        }

        /* Tema Claro */
        .theme-light {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%) !important;
        }

        .theme-light .glass-panel {
            background: rgba(255, 255, 255, 0.25) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            backdrop-filter: blur(10px);
        }

        .theme-light .text-white {
            color: #2d3748 !important;
        }

        .theme-light .text-gray-400 {
            color: #4a5568 !important;
        }

        .theme-light .text-gray-300 {
            color: #2d3748 !important;
        }

        .theme-light .bg-gray-800 {
            background-color: rgba(255, 255, 255, 0.4) !important;
        }

        .theme-light .bg-gray-700 {
            background-color: rgba(255, 255, 255, 0.3) !important;
        }

        .theme-light .border-gray-600 {
            border-color: rgba(0, 0, 0, 0.2) !important;
        }

        /* Tema Azul */
        .theme-blue {
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 50%, #415a77 100%) !important;
        }

        .theme-blue .glass-panel {
            background: rgba(27, 38, 59, 0.4) !important;
            border: 1px solid rgba(168, 218, 220, 0.2) !important;
        }

        .theme-blue .text-gray-400 {
            color: #a8dadc !important;
        }

        .theme-blue .text-gray-300 {
            color: #e9ecef !important;
        }

        .theme-blue .bg-gray-800 {
            background-color: rgba(27, 38, 59, 0.6) !important;
        }

        .theme-blue .bg-gray-700 {
            background-color: rgba(27, 38, 59, 0.4) !important;
        }

        .theme-blue .border-gray-600 {
            border-color: rgba(168, 218, 220, 0.3) !important;
        }

        /* Tema Escuro (padrão) */
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2a2a2a 100%);
        }

        .theme-dark {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #2a2a2a 100%) !important;
        }

        /* === CORREÇÕES DE LAYOUT === */
        .chart-container {
            position: relative !important;
            height: 300px !important;
            width: 100% !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }

        .chart-container canvas {
            max-width: 100% !important;
            max-height: 100% !important;
            width: auto !important;
            height: auto !important;
        }

        /* Responsividade aprimorada */
        @media (max-width: 768px) {
            .chart-container {
                height: 250px !important;
            }
        }

        @media (max-width: 480px) {
            .chart-container {
                height: 200px !important;
            }
        }

        /* Correção para containers de grid */
        .grid {
            display: grid !important;
            width: 100% !important;
            max-width: 100% !important;
            overflow: hidden !important;
        }

        .grid > * {
            min-width: 0 !important;
            min-height: 0 !important;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 z-50 flex items-center justify-center bg-black">
        <div class="text-center">
            <div class="loading-spinner mx-auto mb-4"></div>
            <h2 class="text-2xl font-bold text-white">Carregando VeloNet...</h2>
            <p class="text-gray-400">Preparando sua experiência</p>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="loginScreen" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
        <div class="login-container p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <div class="w-24 h-24 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <i class="fas fa-building text-white text-4xl"></i>
                </div>
                <h1 class="text-4xl font-bold text-white mb-2">VeloNet</h1>
                <p class="text-gray-400">Portal Corporativo Avançado</p>
                <div class="mt-4 text-xs text-gray-500">
                    <i class="fas fa-shield-alt mr-1"></i>
                    Sistema Seguro e Confiável
                </div>
            </div>
            
            <!-- Login Options -->
            <div class="space-y-4">
                <!-- Google Login Button -->
                <button onclick="loginWithGoogle()" class="btn-google w-full py-4 px-4 rounded-lg flex items-center justify-center font-medium">
                    <svg width="20" height="20" viewBox="0 0 24 24" class="mr-3">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    <span>Continuar com Google</span>
                </button>
                
                <!-- Divider -->
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-600"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-3 bg-black text-gray-400">ou</span>
                    </div>
                </div>
                
                <!-- Demo Login -->
                <button onclick="loginWithDemo()" class="btn-primary w-full py-4 font-medium">
                    <i class="fas fa-rocket mr-2"></i>
                    Acesso Demo Completo
                </button>
                
                <!-- Manual Login Form -->
                <div class="mt-6">
                    <button onclick="toggleManualLogin()" class="text-blue-400 hover:text-blue-300 text-sm transition-colors">
                        <i class="fas fa-key mr-1"></i>
                        Login com Credenciais
                    </button>
                </div>
                
                <!-- Manual Login Form (Hidden by default) -->
                <div id="manualLoginForm" class="hidden space-y-4 mt-4">
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">E-mail Corporativo</label>
                        <input type="email" id="manualEmail" class="input-field w-full px-4 py-3" placeholder="seu.email@velotax.com.br">
                    </div>
                    
                    <div>
                        <label class="block text-gray-300 text-sm font-medium mb-2">Senha</label>
                        <input type="password" id="manualPassword" class="input-field w-full px-4 py-3" placeholder="Sua senha segura">
                    </div>
                    
                    <button onclick="loginWithManual()" class="btn-primary w-full py-3 font-medium">
                        <i class="fas fa-sign-in-alt mr-2"></i>
                        Entrar no Sistema
                    </button>
                </div>
            </div>
            
            <div class="text-center text-sm text-gray-400 mt-8 space-y-2">
                <p><i class="fas fa-lock mr-1"></i> Apenas e-mails @velotax.com.br</p>
                <p class="text-xs">Demo: admin@velotax.com.br | Senha: admin123</p>
                <div class="flex items-center justify-center space-x-4 mt-4 text-xs">
                    <span><i class="fas fa-shield-alt text-green-400 mr-1"></i>SSL Seguro</span>
                    <span><i class="fas fa-clock text-blue-400 mr-1"></i>24/7 Online</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <!-- Sidebar -->
        <div class="fixed inset-y-0 left-0 w-72 sidebar z-40">
            <div class="flex flex-col h-full">
                <!-- Logo -->
                <div class="p-6 border-b border-gray-700">
                    <div class="flex items-center">
                        <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center mr-4 shadow-lg">
                            <i class="fas fa-building text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-white">VeloNet</h1>
                            <p class="text-xs text-gray-400">Portal Corporativo</p>
                        </div>
                    </div>
                    <div class="mt-4 flex items-center text-xs text-gray-500">
                        <div class="w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"></div>
                        Sistema Online
                    </div>
                </div>
                
                <!-- Menu -->
                <nav class="flex-1 p-4 space-y-2 scrollbar overflow-y-auto">
                    <button onclick="showSection('dashboard')" class="menu-item active w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-chart-line mr-3 text-lg"></i>
                        <span>Dash</span>
                        <span class="ml-auto badge badge-info">Live</span>
                    </button>
                    
                    <button onclick="showSection('velonews')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-newspaper mr-3 text-lg"></i>
                        <span>VeloNews</span>
                        <span class="ml-auto badge badge-success">5</span>
                    </button>
                    
                    <button onclick="showSection('processos')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-cogs mr-3 text-lg"></i>
                        <span>Processos</span>
                        <span class="ml-auto badge badge-info">8</span>
                    </button>
                    
                    <button onclick="showSection('veloacademy')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-graduation-cap mr-3 text-lg"></i>
                        <span>VeloAcademy</span>
                        <span class="ml-auto badge badge-warning">6</span>
                    </button>
                    
                    <button onclick="showSection('veloponto')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-clock mr-3 text-lg"></i>
                        <span>VeloPonto</span>
                        <span class="ml-auto badge badge-primary">Live</span>
                    </button>
                    
                    <div class="border-t border-gray-700 my-4"></div>
                    
                    <button onclick="showSection('atendimentos')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-headset mr-3 text-lg"></i>
                        <span>Atendimentos</span>
                        <span class="ml-auto text-xs text-gray-400">93</span>
                    </button>
                    
                    <button onclick="showSection('base')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-book mr-3 text-lg"></i>
                        <span>Base de Conhecimento</span>
                    </button>
                    
                    <button onclick="showSection('media')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-cloud-upload-alt mr-3 text-lg"></i>
                        <span>Mídia</span>
                    </button>
                    
                    <button onclick="showSection('gemini')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-robot mr-3 text-lg"></i>
                        <span>Gemini AI</span>
                        <span class="ml-auto badge badge-info">Beta</span>
                    </button>
                    
                    <button onclick="showSection('calendario')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-calendar-alt mr-3 text-lg"></i>
                        <span>Calendário</span>
                        <span class="ml-auto badge badge-info">3</span>
                    </button>
                    
                    <button onclick="showSection('admin')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-shield-alt mr-3 text-lg"></i>
                        <span>Administração</span>
                    </button>
                    
                    <button onclick="showSection('chat')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-comments mr-3 text-lg"></i>
                        <span>VeloChat</span>
                        <span class="ml-auto badge badge-success">Online</span>
                    </button>
                    
                    <button onclick="showSection('perfil')" class="menu-item w-full text-left p-4 rounded-lg flex items-center">
                        <i class="fas fa-user mr-3 text-lg"></i>
                        <span>Meu Perfil</span>
                    </button>
                </nav>
                
                <!-- User Info -->
                <div class="p-4 border-t border-gray-700">
                    <div class="flex items-center">
                        <img id="userAvatar" src="https://via.placeholder.com/50x50" alt="Avatar" class="w-12 h-12 rounded-full mr-3 user-avatar">
                        <div class="flex-1">
                            <p id="userName" class="text-sm font-bold text-white">Usuário</p>
                            <p id="userEmail" class="text-xs text-gray-400">usuario@velotax.com.br</p>
                            <div class="flex items-center mt-1">
                                <div class="w-2 h-2 bg-green-400 rounded-full mr-1"></div>
                                <span class="text-xs text-green-400">Online</span>
                            </div>
                        </div>
                        <div class="flex flex-col space-y-1">
                            <button onclick="showThemeSelector()" class="text-gray-400 hover:text-blue-400 transition-colors">
                                <i class="fas fa-palette text-sm"></i>
                            </button>
                            <button onclick="logout()" class="text-gray-400 hover:text-red-400 transition-colors">
                                <i class="fas fa-sign-out-alt text-sm"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="ml-72 min-h-screen">
            <!-- Header -->
            <header class="bg-black bg-opacity-30 backdrop-filter backdrop-blur-lg border-b border-gray-800 p-6">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <!-- Mobile Menu Button -->
                        <button onclick="toggleMobileMenu()" class="md:hidden p-2 text-white hover:bg-white hover:bg-opacity-10 rounded-lg">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div>
                            <h1 id="pageTitle" class="text-2xl font-bold text-white">Dashboard</h1>
                            <p id="pageSubtitle" class="text-gray-400">Visão geral do desempenho</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <!-- Global Search -->
                        <div class="relative">
                            <input type="text" id="globalSearch" placeholder="Buscar em todo o sistema..." 
                                   class="glass-input pl-10 pr-4 py-2 w-80 focus:w-96 transition-all duration-300"
                                   onkeyup="performGlobalSearch()" onfocus="showSearchSuggestions()">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            
                            <!-- Search Results Dropdown -->
                            <div id="searchResults" class="absolute top-full left-0 right-0 mt-2 glass-panel max-h-96 overflow-y-auto hidden z-50">
                                <div class="p-4">
                                    <div class="text-gray-400 text-sm mb-3">Resultados da busca</div>
                                    <div id="searchContent" class="space-y-2">
                                        <!-- Search results will be populated here -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-right">
                            <p class="text-sm text-white" id="currentTime">00:00</p>
                            <p class="text-xs text-gray-400" id="currentDate">Data</p>
                        </div>
                        
                        <!-- Voice Commands Button -->
                        <button onclick="toggleVoiceCommands()" id="voiceBtn" class="relative p-2 rounded-lg bg-white bg-opacity-10 hover:bg-opacity-20 transition-all">
                            <i class="fas fa-microphone text-gray-400 hover:text-white transition-colors text-lg"></i>
                            <span id="voiceIndicator" class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full hidden animate-pulse"></span>
                        </button>
                        <button onclick="showNotificationCenter()" class="relative">
                            <i class="fas fa-bell text-gray-400 hover:text-white transition-colors text-lg"></i>
                            <span id="notificationBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse">5</span>
                        </button>
                        
                        <!-- Notification Center Modal -->
                        <div id="notificationCenter" class="fixed inset-0 bg-black bg-opacity-50 backdrop-filter backdrop-blur-sm z-50 hidden">
                            <div class="absolute right-4 top-20 w-96 max-h-96 glass-panel">
                                <div class="p-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <h3 class="text-xl font-bold text-white">Centro de Notificações</h3>
                                        <div class="flex space-x-2">
                                            <button onclick="markAllAsRead()" class="text-blue-400 hover:text-blue-300 text-sm">
                                                <i class="fas fa-check-double mr-1"></i>Marcar todas como lidas
                                            </button>
                                            <button onclick="closeNotificationCenter()" class="text-gray-400 hover:text-white">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Notification Filters -->
                                    <div class="flex space-x-2 mb-4">
                                        <button onclick="filterNotifications('all')" class="notification-filter active text-xs px-3 py-1 rounded-full bg-blue-500 text-white">
                                            Todas
                                        </button>
                                        <button onclick="filterNotifications('system')" class="notification-filter text-xs px-3 py-1 rounded-full bg-gray-600 text-gray-300">
                                            Sistema
                                        </button>
                                        <button onclick="filterNotifications('user')" class="notification-filter text-xs px-3 py-1 rounded-full bg-gray-600 text-gray-300">
                                            Usuários
                                        </button>
                                        <button onclick="filterNotifications('alert')" class="notification-filter text-xs px-3 py-1 rounded-full bg-gray-600 text-gray-300">
                                            Alertas
                                        </button>
                                    </div>
                                    
                                    <!-- Notifications List -->
                                    <div id="notificationsList" class="space-y-3 max-h-64 overflow-y-auto">
                                        <!-- Notifications will be populated here -->
                                    </div>
                                    
                                    <div class="mt-4 pt-4 border-t border-gray-600">
                                        <button onclick="openNotificationSettings()" class="text-blue-400 hover:text-blue-300 text-sm">
                                            <i class="fas fa-cog mr-1"></i>Configurações de Notificação
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <div class="p-8">
                <!-- Dashboard Section -->
                <div id="dashboard" class="content-section active">
                    <!-- Dashboard Header -->
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">📊 Dashboard Executivo</h2>
                            <p class="text-gray-400">Visão geral da performance em tempo real - Widgets personalizáveis</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="toggleEditMode()" id="editModeBtn" class="btn-secondary">
                                <i class="fas fa-edit mr-2"></i>Personalizar
                            </button>
                            <button onclick="addWidget()" class="btn-success">
                                <i class="fas fa-plus mr-2"></i>Widget
                            </button>
                            <button onclick="refreshDashboard()" class="btn-secondary">
                                <i class="fas fa-sync-alt mr-2"></i>Atualizar
                            </button>
                            <button onclick="generateSystemReport()" class="btn-primary">
                                <i class="fas fa-download mr-2"></i>Relatório
                            </button>
                        </div>
                    </div>

                    <!-- Widget Customization Panel -->
                    <div id="widgetPanel" class="hidden mb-6 glass-panel p-4">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-white">🎨 Personalização de Widgets</h3>
                            <button onclick="saveWidgetLayout()" class="btn-primary">
                                <i class="fas fa-save mr-2"></i>Salvar Layout
                            </button>
                        </div>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <button onclick="addSpecificWidget('performance')" class="widget-option p-3 rounded-lg bg-blue-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-chart-line text-blue-400 mb-2"></i>
                                <div class="text-white text-sm">Performance</div>
                            </button>
                            <button onclick="addSpecificWidget('weather')" class="widget-option p-3 rounded-lg bg-green-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-cloud-sun text-green-400 mb-2"></i>
                                <div class="text-white text-sm">Clima</div>
                            </button>
                            <button onclick="addSpecificWidget('tasks')" class="widget-option p-3 rounded-lg bg-purple-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-tasks text-purple-400 mb-2"></i>
                                <div class="text-white text-sm">Tarefas</div>
                            </button>
                            <button onclick="addSpecificWidget('calendar')" class="widget-option p-3 rounded-lg bg-orange-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-calendar text-orange-400 mb-2"></i>
                                <div class="text-white text-sm">Agenda</div>
                            </button>
                            <button onclick="addSpecificWidget('news')" class="widget-option p-3 rounded-lg bg-red-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-newspaper text-red-400 mb-2"></i>
                                <div class="text-white text-sm">Notícias</div>
                            </button>
                            <button onclick="addSpecificWidget('team')" class="widget-option p-3 rounded-lg bg-yellow-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-users text-yellow-400 mb-2"></i>
                                <div class="text-white text-sm">Equipe</div>
                            </button>
                            <button onclick="addSpecificWidget('analytics')" class="widget-option p-3 rounded-lg bg-indigo-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-chart-pie text-indigo-400 mb-2"></i>
                                <div class="text-white text-sm">Analytics</div>
                            </button>
                            <button onclick="addSpecificWidget('clock')" class="widget-option p-3 rounded-lg bg-pink-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                <i class="fas fa-clock text-pink-400 mb-2"></i>
                                <div class="text-white text-sm">Relógio</div>
                            </button>
                        </div>
                    </div>

                    <!-- Dynamic Widgets Container -->
                    <div id="widgetsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="metric-card p-6" onclick="showMetricDetails('phone')">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Telefone Hoje</p>
                                    <p class="text-3xl font-bold text-white">47</p>
                                    <p class="text-green-400 text-xs">+12% vs ontem</p>
                                </div>
                                <div class="w-16 h-16 bg-blue-500 bg-opacity-20 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-phone text-blue-400 text-2xl"></i>
                                </div>
                            </div>
                            <div class="progress-bar mt-4">
                                <div class="progress-fill" style="width: 78%"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card p-6" onclick="showMetricDetails('tickets')">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Tickets Hoje</p>
                                    <p class="text-3xl font-bold text-white">23</p>
                                    <p class="text-green-400 text-xs">+8% vs ontem</p>
                                </div>
                                <div class="w-16 h-16 bg-green-500 bg-opacity-20 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-ticket-alt text-green-400 text-2xl"></i>
                                </div>
                            </div>
                            <div class="progress-bar mt-4">
                                <div class="progress-fill" style="width: 65%"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card p-6" onclick="showMetricDetails('satisfaction')">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">Satisfação</p>
                                    <p class="text-3xl font-bold text-white">8.5</p>
                                    <p class="text-yellow-400 text-xs">Meta: 8.0</p>
                                </div>
                                <div class="w-16 h-16 bg-yellow-500 bg-opacity-20 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-star text-yellow-400 text-2xl"></i>
                                </div>
                            </div>
                            <div class="progress-bar mt-4">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                        </div>
                        
                        <div class="metric-card p-6" onclick="showMetricDetails('tma')">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-400 text-sm">TMA</p>
                                    <p class="text-3xl font-bold text-white">4:30</p>
                                    <p class="text-red-400 text-xs">Meta: 4:00</p>
                                </div>
                                <div class="w-16 h-16 bg-purple-500 bg-opacity-20 rounded-xl flex items-center justify-center">
                                    <i class="fas fa-clock text-purple-400 text-2xl"></i>
                                </div>
                            </div>
                            <div class="progress-bar mt-4">
                                <div class="progress-fill" style="width: 70%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Charts and Additional Info -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                        <div class="glass-panel p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-white">Desempenho Semanal</h3>
                                <button onclick="refreshChart('performance')" class="text-blue-400 hover:text-blue-300">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                            <div class="chart-container" style="position: relative; height: 300px; width: 100%;">
                    <canvas id="desempenhoChart"></canvas>
                </div>
                        </div>
                        
                        <div class="glass-panel p-6">
                            <div class="flex items-center justify-between mb-6">
                                <h3 class="text-xl font-bold text-white">Distribuição de Canais</h3>
                                <button onclick="refreshChart('distribution')" class="text-blue-400 hover:text-blue-300">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                            </div>
                            <div class="chart-container" style="position: relative; height: 300px; width: 100%;">
                    <canvas id="distribuicaoChart"></canvas>
                </div>
                        </div>
                    </div>

                    <!-- Real-time Stats -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="glass-panel p-6">
                            <h3 class="text-lg font-bold text-white mb-4">Atividade em Tempo Real</h3>
                            <div class="space-y-3" id="realTimeActivity">
                                <!-- Real-time updates will be inserted here -->
                            </div>
                        </div>

                        <div class="glass-panel p-6">
                            <h3 class="text-lg font-bold text-white mb-4">Metas do Mês</h3>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-400">Atendimentos</span>
                                        <span class="text-white">850/1000</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-400">Satisfação</span>
                                        <span class="text-white">8.5/8.0</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-gray-400">Resolução</span>
                                        <span class="text-white">92%/90%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 92%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="glass-panel p-6">
                            <h3 class="text-lg font-bold text-white mb-4">Quick Actions</h3>
                            <div class="space-y-3">
                                <button onclick="quickAction('newTicket')" class="btn-secondary w-full text-left">
                                    <i class="fas fa-plus mr-2"></i>Novo Ticket
                                </button>
                                <button onclick="quickAction('callTransfer')" class="btn-secondary w-full text-left">
                                    <i class="fas fa-phone-alt mr-2"></i>Transferir Chamada
                                </button>
                                <button onclick="quickAction('breakTime')" class="btn-secondary w-full text-left">
                                    <i class="fas fa-coffee mr-2"></i>Solicitar Pausa
                                </button>
                                <button onclick="quickAction('help')" class="btn-secondary w-full text-left">
                                    <i class="fas fa-life-ring mr-2"></i>Ajuda Rápida
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Atendimentos Section -->
                <div id="atendimentos" class="content-section">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        <!-- Painel de Controle de Atendimento -->
                        <div class="lg:col-span-2">
                            <div class="glass-panel p-6 mb-6">
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xl font-bold text-white">Central de Atendimento</h3>
                                    <div class="flex space-x-2">
                                        <button onclick="startCall()" class="btn-primary px-4 py-2">
                                            <i class="fas fa-phone mr-2"></i>Iniciar Chamada
                                        </button>
                                        <button onclick="pauseAttendance()" class="btn-secondary px-4 py-2">
                                            <i class="fas fa-pause mr-2"></i>Pausar
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                                    <div class="text-center p-4 bg-green-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-green-400">47</div>
                                        <div class="text-xs text-gray-400">Chamadas Hoje</div>
                                    </div>
                                    <div class="text-center p-4 bg-blue-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-blue-400">23</div>
                                        <div class="text-xs text-gray-400">Tickets Abertos</div>
                                    </div>
                                    <div class="text-center p-4 bg-yellow-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-yellow-400">4:30</div>
                                        <div class="text-xs text-gray-400">TMA Atual</div>
                                    </div>
                                    <div class="text-center p-4 bg-purple-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-purple-400">8.5</div>
                                        <div class="text-xs text-gray-400">Satisfação</div>
                                    </div>
                                </div>

                                <!-- Lista de Chamadas -->
                                <div class="space-y-3">
                                    <h4 class="font-semibold text-white mb-3">Fila de Atendimento</h4>
                                    <div class="call-item flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-phone text-white"></i>
                                            </div>
                                            <div>
                                                <div class="text-white font-medium">João Silva - (11) 99999-9999</div>
                                                <div class="text-gray-400 text-sm">Problema com faturamento</div>
                                            </div>
                                        </div>
                                        <button onclick="acceptCall('call1')" class="btn-primary px-4 py-2 text-sm">
                                            Atender
                                        </button>
                                    </div>
                                    
                                    <div class="call-item flex items-center justify-between p-4 bg-white bg-opacity-5 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-ticket-alt text-white"></i>
                                            </div>
                                            <div>
                                                <div class="text-white font-medium">Ticket #1234 - Maria Santos</div>
                                                <div class="text-gray-400 text-sm">Dúvida sobre declaração</div>
                                            </div>
                                        </div>
                                        <button onclick="openTicket('1234')" class="btn-primary px-4 py-2 text-sm">
                                            Abrir
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Painel de Tempo -->
                        <div class="space-y-6">
                            <div class="glass-panel p-6">
                                <h3 class="text-lg font-bold text-white mb-4">Controle de Tempo</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Trabalho Hoje</span>
                                        <span class="text-white font-bold">6h 45min</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Pausa Almoço</span>
                                        <span class="text-white font-bold">1h 00min</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400">Pausas Extras</span>
                                        <span class="text-white font-bold">0h 15min</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 84%"></div>
                                    </div>
                                    <div class="text-center text-sm text-gray-400">84% da jornada</div>
                                </div>
                            </div>

                            <div class="glass-panel p-6">
                                <h3 class="text-lg font-bold text-white mb-4">Ranking Mensal</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-2">
                                            <div class="w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center">
                                                <span class="text-black text-xs font-bold">1</span>
                                            </div>
                                            <span class="text-yellow-400 text-sm">Ana Costa</span>
                                        </div>
                                        <span class="text-white text-sm">9.2</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-2">
                                            <div class="w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center">
                                                <span class="text-black text-xs font-bold">2</span>
                                            </div>
                                            <span class="text-gray-400 text-sm">Carlos Lima</span>
                                        </div>
                                        <span class="text-white text-sm">8.9</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center space-x-2">
                                            <div class="w-6 h-6 bg-orange-400 rounded-full flex items-center justify-center">
                                                <span class="text-black text-xs font-bold">3</span>
                                            </div>
                                            <span class="text-orange-400 text-sm">Pedro Silva</span>
                                        </div>
                                        <span class="text-white text-sm">8.7</span>
                                    </div>
                                    <div class="flex items-center justify-between border-t border-gray-600 pt-2">
                                        <div class="flex items-center space-x-2">
                                            <div class="w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center">
                                                <span class="text-white text-xs font-bold">5</span>
                                            </div>
                                            <span class="text-blue-400 text-sm font-bold">Você</span>
                                        </div>
                                        <span class="text-white text-sm">8.5</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VeloNews Section -->
                <div id="velonews" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">🗞️ VeloNews</h2>
                            <p class="text-gray-400">Comunicados e atualizações da empresa</p>
                        </div>
                        <button onclick="addNews()" class="btn-primary">
                            <i class="fas fa-plus mr-2"></i>Nova Notícia
                        </button>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-2 space-y-6">
                            <!-- Notícia Principal -->
                            <div class="glass-panel p-6 news-card">
                                <div class="flex items-start justify-between mb-4">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <span class="badge badge-info">Urgente</span>
                                            <span class="text-xs text-gray-400">
                                                <i class="fas fa-calendar mr-1"></i>15 Jan, 2025
                                            </span>
                                        </div>
                                        <h3 class="text-xl font-bold text-white mb-3">
                                            Nova Política de Atendimento ao Cliente
                                        </h3>
                                        <p class="text-gray-300 mb-4">
                                            A partir de segunda-feira, implementaremos novas diretrizes para melhorar 
                                            a qualidade do atendimento. Todos os colaboradores devem participar do 
                                            treinamento obrigatório até sexta-feira.
                                        </p>
                                        <div class="flex items-center text-sm text-gray-400">
                                            <img src="https://via.placeholder.com/24x24" class="w-6 h-6 rounded-full mr-2">
                                            <span>Por: RH - Recursos Humanos</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center justify-between pt-4 border-t border-gray-600">
                                    <div class="flex space-x-2">
                                        <button onclick="reactToNews(1, 'like')" class="reaction-btn">
                                            <i class="fas fa-thumbs-up mr-1"></i>
                                            <span>12</span>
                                        </button>
                                        <button onclick="reactToNews(1, 'heart')" class="reaction-btn">
                                            <i class="fas fa-heart mr-1"></i>
                                            <span>8</span>
                                        </button>
                                        <button onclick="reactToNews(1, 'star')" class="reaction-btn">
                                            <i class="fas fa-star mr-1"></i>
                                            <span>5</span>
                                        </button>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button onclick="shareNews(1)" class="text-gray-400 hover:text-blue-400">
                                            <i class="fas fa-share mr-1"></i>Compartilhar
                                        </button>
                                        <button onclick="markAsRead(1)" class="text-gray-400 hover:text-green-400">
                                            <i class="fas fa-check mr-1"></i>Marcar como Lida
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Outras Notícias -->
                            <div class="glass-panel p-6 news-card">
                                <div class="flex items-start space-x-4">
                                    <img src="https://via.placeholder.com/80x80" class="w-20 h-20 rounded-lg object-cover">
                                    <div class="flex-1">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <span class="badge badge-success">Novidade</span>
                                            <span class="text-xs text-gray-400">14 Jan, 2025</span>
                                        </div>
                                        <h4 class="font-bold text-white mb-2">
                                            Sistema de Treinamentos Atualizado
                                        </h4>
                                        <p class="text-gray-300 text-sm mb-3">
                                            Novos módulos de capacitação disponíveis na plataforma...
                                        </p>
                                        <div class="flex items-center justify-between">
                                            <div class="flex space-x-2">
                                                <button onclick="reactToNews(2, 'like')" class="reaction-btn text-xs">
                                                    <i class="fas fa-thumbs-up mr-1"></i>7
                                                </button>
                                                <button onclick="reactToNews(2, 'heart')" class="reaction-btn text-xs">
                                                    <i class="fas fa-heart mr-1"></i>3
                                                </button>
                                            </div>
                                            <button onclick="markAsRead(2)" class="text-xs text-gray-400 hover:text-green-400">
                                                <i class="fas fa-check mr-1"></i>Lida
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Sidebar de Notícias -->
                        <div class="space-y-6">
                            <div class="glass-panel p-6">
                                <h3 class="font-bold text-white mb-4">Notícias Rápidas</h3>
                                <div class="space-y-4">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-2 h-2 bg-blue-400 rounded-full mt-2"></div>
                                        <div>
                                            <p class="text-sm text-white">Manutenção programada para domingo</p>
                                            <p class="text-xs text-gray-400">13 Jan</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="w-2 h-2 bg-green-400 rounded-full mt-2"></div>
                                        <div>
                                            <p class="text-sm text-white">Novo colaborador na equipe</p>
                                            <p class="text-xs text-gray-400">12 Jan</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-3">
                                        <div class="w-2 h-2 bg-yellow-400 rounded-full mt-2"></div>
                                        <div>
                                            <p class="text-sm text-white">Reunião de equipe sexta-feira</p>
                                            <p class="text-xs text-gray-400">10 Jan</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="glass-panel p-6">
                                <h3 class="font-bold text-white mb-4">Estatísticas</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-gray-400 text-sm">Notícias Lidas</span>
                                        <span class="text-white font-bold">15/18</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400 text-sm">Reações Dadas</span>
                                        <span class="text-white font-bold">23</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-400 text-sm">Compartilhamentos</span>
                                        <span class="text-white font-bold">5</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Processos Section -->
                <div id="processos" class="content-section">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-white">Gestão de Processos</h2>
                        <p class="text-gray-400">Procedimentos, fluxos e documentação operacional</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Processo de Atendimento -->
                        <div class="glass-panel p-6 hover:border-blue-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-headset text-blue-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Atendimento ao Cliente</h3>
                                    <p class="text-xs text-gray-400">Versão 2.1</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Fluxo completo para atendimento telefônico e via chat, incluindo scripts e escalações.
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-success">Ativo</span>
                                <button onclick="openProcess('atendimento')" class="btn-primary px-4 py-2 text-sm">
                                    Abrir Processo
                                </button>
                            </div>
                        </div>

                        <!-- Processo de Escalação -->
                        <div class="glass-panel p-6 hover:border-yellow-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-yellow-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-level-up-alt text-yellow-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Escalação de Problemas</h3>
                                    <p class="text-xs text-gray-400">Versão 1.8</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Critérios e procedimentos para escalação de casos complexos para supervisores.
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-warning">Em Revisão</span>
                                <button onclick="openProcess('escalacao')" class="btn-primary px-4 py-2 text-sm">
                                    Abrir Processo
                                </button>
                            </div>
                        </div>

                        <!-- Processo de Qualidade -->
                        <div class="glass-panel p-6 hover:border-green-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-green-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-award text-green-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Controle de Qualidade</h3>
                                    <p class="text-xs text-gray-400">Versão 3.0</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Métricas, avaliações e procedimentos para manutenção da qualidade do atendimento.
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-success">Ativo</span>
                                <button onclick="openProcess('qualidade')" class="btn-primary px-4 py-2 text-sm">
                                    Abrir Processo
                                </button>
                            </div>
                        </div>

                        <!-- Processo de Emergência -->
                        <div class="glass-panel p-6 hover:border-red-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-red-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-exclamation-triangle text-red-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Emergência e Crise</h3>
                                    <p class="text-xs text-gray-400">Versão 1.5</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Protocolos para situações críticas, falhas de sistema e atendimento prioritário.
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-error">Crítico</span>
                                <button onclick="openProcess('emergencia')" class="btn-primary px-4 py-2 text-sm">
                                    Abrir Processo
                                </button>
                            </div>
                        </div>

                        <!-- Processo de Onboarding -->
                        <div class="glass-panel p-6 hover:border-purple-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-purple-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-user-plus text-purple-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Integração de Novatos</h3>
                                    <p class="text-xs text-gray-400">Versão 2.3</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Processo completo de integração para novos colaboradores do atendimento.
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-info">Atualizado</span>
                                <button onclick="openProcess('onboarding')" class="btn-primary px-4 py-2 text-sm">
                                    Abrir Processo
                                </button>
                            </div>
                        </div>

                        <!-- Processo de Feedback -->
                        <div class="glass-panel p-6 hover:border-indigo-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-indigo-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-comments text-indigo-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Feedback e Avaliação</h3>
                                    <p class="text-xs text-gray-400">Versão 1.9</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Coleta e análise de feedback de clientes e processos de melhoria contínua.
                            </p>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-success">Ativo</span>
                                <button onclick="openProcess('feedback')" class="btn-primary px-4 py-2 text-sm">
                                    Abrir Processo
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Estatísticas de Processos -->
                    <div class="mt-8 grid grid-cols-1 md:grid-cols-4 gap-6">
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-blue-400 mb-2">12</div>
                            <div class="text-gray-400 text-sm">Processos Ativos</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-green-400 mb-2">95%</div>
                            <div class="text-gray-400 text-sm">Conformidade</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-yellow-400 mb-2">3</div>
                            <div class="text-gray-400 text-sm">Em Revisão</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-purple-400 mb-2">28</div>
                            <div class="text-gray-400 text-sm">Atualizações</div>
                        </div>
                                         </div>
                </div>

                <!-- VeloAcademy Section -->
                <div id="veloacademy" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">🎓 VeloAcademy</h2>
                            <p class="text-gray-400">Academia corporativa de capacitação e desenvolvimento</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="viewProgress()" class="btn-secondary">
                                <i class="fas fa-chart-line mr-2"></i>Meu Progresso
                            </button>
                            <button onclick="createTraining()" class="btn-primary">
                                <i class="fas fa-plus mr-2"></i>Novo Curso
                            </button>
                        </div>
                    </div>

                    <!-- Progresso Geral -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-blue-400 mb-2">12</div>
                            <div class="text-gray-400 text-sm">Cursos Concluídos</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-green-400 mb-2">3</div>
                            <div class="text-gray-400 text-sm">Em Andamento</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-yellow-400 mb-2">85%</div>
                            <div class="text-gray-400 text-sm">Taxa de Conclusão</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-purple-400 mb-2">45h</div>
                            <div class="text-gray-400 text-sm">Horas de Estudo</div>
                        </div>
                    </div>

                    <!-- Cursos Disponíveis -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Curso 1 -->
                        <div class="glass-panel p-6 hover:border-blue-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 bg-blue-500 bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-headset text-blue-400 text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white text-lg">Excelência no Atendimento</h3>
                                    <p class="text-sm text-gray-400">4.8 ⭐ • 2h 30min</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Desenvolva habilidades avançadas de comunicação e resolução de problemas para oferecer um atendimento excepcional.
                            </p>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 75%"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-info">75% Concluído</span>
                                <button onclick="startTraining('atendimento')" class="btn-primary px-4 py-2 text-sm">
                                    Continuar
                                </button>
                            </div>
                        </div>

                        <!-- Curso 2 -->
                        <div class="glass-panel p-6 hover:border-green-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 bg-green-500 bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-box text-green-400 text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white text-lg">Conhecimento de Produtos</h3>
                                    <p class="text-sm text-gray-400">4.9 ⭐ • 3h 15min</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Conheça em detalhes todos os produtos e serviços da VeloTax para oferecer suporte especializado.
                            </p>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-warning">Novo</span>
                                <button onclick="startTraining('produtos')" class="btn-primary px-4 py-2 text-sm">
                                    Iniciar
                                </button>
                            </div>
                        </div>

                        <!-- Curso 3 -->
                        <div class="glass-panel p-6 hover:border-purple-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 bg-purple-500 bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-chart-line text-purple-400 text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white text-lg">Técnicas de Vendas</h3>
                                    <p class="text-sm text-gray-400">4.7 ⭐ • 1h 45min</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Aprenda estratégias eficazes de vendas e como identificar oportunidades durante o atendimento.
                            </p>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 100%"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-success">Concluído</span>
                                <button onclick="reviewTraining('vendas')" class="btn-secondary px-4 py-2 text-sm">
                                    Revisar
                                </button>
                            </div>
                        </div>

                        <!-- Curso 4 -->
                        <div class="glass-panel p-6 hover:border-yellow-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 bg-yellow-500 bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-comments text-yellow-400 text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white text-lg">Comunicação Efetiva</h3>
                                    <p class="text-sm text-gray-400">4.6 ⭐ • 2h 00min</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Desenvolva habilidades de comunicação assertiva e empática para melhorar o relacionamento com clientes.
                            </p>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 45%"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-info">45% Concluído</span>
                                <button onclick="startTraining('comunicacao')" class="btn-primary px-4 py-2 text-sm">
                                    Continuar
                                </button>
                            </div>
                        </div>

                        <!-- Curso 5 -->
                        <div class="glass-panel p-6 hover:border-red-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 bg-red-500 bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-shield-alt text-red-400 text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white text-lg">Segurança da Informação</h3>
                                    <p class="text-sm text-gray-400">4.8 ⭐ • 1h 30min</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Aprenda as melhores práticas de segurança para proteger dados confidenciais dos clientes.
                            </p>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 0%"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-error">Obrigatório</span>
                                <button onclick="startTraining('seguranca')" class="btn-primary px-4 py-2 text-sm">
                                    Iniciar
                                </button>
                            </div>
                        </div>

                        <!-- Curso 6 -->
                        <div class="glass-panel p-6 hover:border-indigo-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-16 h-16 bg-indigo-500 bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                                    <i class="fas fa-laptop text-indigo-400 text-2xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white text-lg">Sistema VeloNet</h3>
                                    <p class="text-sm text-gray-400">4.9 ⭐ • 2h 45min</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">
                                Domine todas as funcionalidades do sistema VeloNet para maximizar sua produtividade.
                            </p>
                            <div class="progress-bar mb-4">
                                <div class="progress-fill" style="width: 90%"></div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="badge badge-info">90% Concluído</span>
                                <button onclick="startTraining('sistema')" class="btn-primary px-4 py-2 text-sm">
                                    Finalizar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VeloPonto Section -->
                <div id="veloponto" class="content-section">
                    <div class="mb-6">
                        <h2 class="text-2xl font-bold text-white">⏰ VeloPonto</h2>
                        <p class="text-gray-400">Sistema inteligente de controle de ponto e jornada</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Relógio de Ponto -->
                        <div class="lg:col-span-1">
                            <div class="glass-panel p-8 text-center">
                                <h3 class="text-xl font-bold text-white mb-6">Registrar Ponto</h3>
                                
                                <!-- Relógio Digital -->
                                <div class="mb-8">
                                    <div id="clockDisplay" class="text-4xl font-bold text-blue-400 mb-2">--:--:--</div>
                                    <div id="dateDisplay" class="text-gray-400">--/--/----</div>
                                </div>

                                <!-- Status Atual -->
                                <div class="mb-8">
                                    <div id="currentStatus" class="w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4 status-online">
                                        <span class="text-white text-lg font-bold">Trabalhando</span>
                                    </div>
                                    <p class="text-gray-400" id="statusTime">Entrada: 08:00</p>
                                </div>

                                <!-- Botões de Controle -->
                                <div class="space-y-3">
                                    <button onclick="registerEntry()" class="btn-primary w-full py-3">
                                        <i class="fas fa-sign-in-alt mr-2"></i>Registrar Entrada
                                    </button>
                                    <button onclick="registerExit()" class="btn-secondary w-full py-3">
                                        <i class="fas fa-sign-out-alt mr-2"></i>Registrar Saída
                                    </button>
                                    <button onclick="startBreak()" class="btn-secondary w-full py-3">
                                        <i class="fas fa-coffee mr-2"></i>Iniciar Pausa
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Informações Detalhadas -->
                        <div class="lg:col-span-2 space-y-6">
                            <!-- Resumo do Dia -->
                            <div class="glass-panel p-6">
                                <h3 class="text-xl font-bold text-white mb-4">Resumo de Hoje</h3>
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-green-400">8h 45min</div>
                                        <div class="text-gray-400 text-sm">Trabalhadas</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-blue-400">1h 00min</div>
                                        <div class="text-gray-400 text-sm">Almoço</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-yellow-400">0h 15min</div>
                                        <div class="text-gray-400 text-sm">Pausas</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-purple-400">108%</div>
                                        <div class="text-gray-400 text-sm">Eficiência</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Histórico Recente -->
                            <div class="glass-panel p-6">
                                <h3 class="text-xl font-bold text-white mb-4">Registros de Hoje</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-sign-in-alt text-white text-sm"></i>
                                            </div>
                                            <div>
                                                <div class="text-white font-medium">Entrada</div>
                                                <div class="text-gray-400 text-sm">Início da jornada</div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-white font-bold">08:00</div>
                                            <div class="text-gray-400 text-xs">No horário</div>
                                        </div>
                                    </div>

                                    <div class="flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-utensils text-white text-sm"></i>
                                            </div>
                                            <div>
                                                <div class="text-white font-medium">Almoço</div>
                                                <div class="text-gray-400 text-sm">Pausa para refeição</div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-white font-bold">12:00 - 13:00</div>
                                            <div class="text-gray-400 text-xs">1h 00min</div>
                                        </div>
                                    </div>

                                    <div class="flex items-center justify-between p-3 bg-white bg-opacity-5 rounded-lg">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-coffee text-white text-sm"></i>
                                            </div>
                                            <div>
                                                <div class="text-white font-medium">Pausa</div>
                                                <div class="text-gray-400 text-sm">Intervalo</div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-white font-bold">15:30 - 15:45</div>
                                            <div class="text-gray-400 text-xs">15min</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Estatísticas Semanais -->
                            <div class="glass-panel p-6">
                                <h3 class="text-xl font-bold text-white mb-4">Resumo Semanal</h3>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-white mb-1">42h 30min</div>
                                        <div class="text-gray-400 text-sm">Horas Trabalhadas</div>
                                        <div class="progress-bar mt-2">
                                            <div class="progress-fill" style="width: 95%"></div>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-white mb-1">5h 00min</div>
                                        <div class="text-gray-400 text-sm">Pausas Totais</div>
                                        <div class="progress-bar mt-2">
                                            <div class="progress-fill" style="width: 70%"></div>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-2xl font-bold text-white mb-1">98%</div>
                                        <div class="text-gray-400 text-sm">Pontualidade</div>
                                        <div class="progress-bar mt-2">
                                            <div class="progress-fill" style="width: 98%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- VeloChat Section -->
                <div id="chat" class="content-section">
                    <div class="flex h-full max-h-screen">
                        <!-- Chat Sidebar -->
                        <div class="w-1/3 glass-panel p-4 mr-4">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold text-white">💬 VeloChat</h3>
                                <div class="flex space-x-2">
                                    <button onclick="startGroupChat()" class="btn-success text-sm">
                                        <i class="fas fa-plus mr-1"></i>Grupo
                                    </button>
                                    <button onclick="toggleChatStatus()" class="btn-secondary text-sm">
                                        <i class="fas fa-circle text-green-400 mr-1"></i>Online
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Search Contacts -->
                            <div class="mb-4">
                                <input type="text" placeholder="Buscar contatos..." class="w-full p-3 rounded-lg bg-white bg-opacity-10 text-white placeholder-gray-400">
                            </div>
                            
                            <!-- Online Users -->
                            <div class="mb-6">
                                <h4 class="text-gray-400 text-sm mb-3">Online agora (8)</h4>
                                <div class="space-y-2">
                                    <div onclick="openChat('maria.silva')" class="chat-contact p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all">
                                        <div class="flex items-center space-x-3">
                                            <div class="relative">
                                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=maria" class="w-10 h-10 rounded-full">
                                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-gray-800"></div>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-white font-medium">Maria Silva</div>
                                                <div class="text-gray-400 text-xs">Supervisora de Qualidade</div>
                                            </div>
                                            <div class="text-green-400 text-xs">2 min</div>
                                        </div>
                                    </div>
                                    
                                    <div onclick="openChat('joao.santos')" class="chat-contact p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all">
                                        <div class="flex items-center space-x-3">
                                            <div class="relative">
                                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=joao" class="w-10 h-10 rounded-full">
                                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-gray-800"></div>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-white font-medium">João Santos</div>
                                                <div class="text-gray-400 text-xs">Analista de Sistemas</div>
                                            </div>
                                            <div class="bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</div>
                                        </div>
                                    </div>
                                    
                                    <div onclick="openChat('ana.costa')" class="chat-contact p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all">
                                        <div class="flex items-center space-x-3">
                                            <div class="relative">
                                                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=ana" class="w-10 h-10 rounded-full">
                                                <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full border-2 border-gray-800"></div>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-white font-medium">Ana Costa</div>
                                                <div class="text-gray-400 text-xs">Gestora de RH</div>
                                            </div>
                                            <div class="text-yellow-400 text-xs">Ausente</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Groups -->
                            <div>
                                <h4 class="text-gray-400 text-sm mb-3">Grupos (3)</h4>
                                <div class="space-y-2">
                                    <div onclick="openGroupChat('equipe-vendas')" class="chat-contact p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 bg-blue-500 bg-opacity-20 rounded-full flex items-center justify-center">
                                                <i class="fas fa-users text-blue-400"></i>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-white font-medium">Equipe Vendas</div>
                                                <div class="text-gray-400 text-xs">12 membros</div>
                                            </div>
                                            <div class="bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">7</div>
                                        </div>
                                    </div>
                                    
                                    <div onclick="openGroupChat('suporte-tecnico')" class="chat-contact p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all">
                                        <div class="flex items-center space-x-3">
                                            <div class="w-10 h-10 bg-green-500 bg-opacity-20 rounded-full flex items-center justify-center">
                                                <i class="fas fa-tools text-green-400"></i>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-white font-medium">Suporte Técnico</div>
                                                <div class="text-gray-400 text-xs">8 membros</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Chat Main Area -->
                        <div class="flex-1 glass-panel p-4 flex flex-col">
                            <div id="chatHeader" class="flex items-center justify-between pb-4 border-b border-gray-600 mb-4">
                                <div class="flex items-center space-x-3">
                                    <img id="activeChatAvatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=maria" class="w-12 h-12 rounded-full">
                                    <div>
                                        <div id="activeChatName" class="text-white font-bold">Maria Silva</div>
                                        <div id="activeChatStatus" class="text-green-400 text-sm">Online • Digitando...</div>
                                    </div>
                                </div>
                                <div class="flex space-x-2">
                                    <button onclick="startVideoCall()" class="p-2 rounded-lg bg-green-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                        <i class="fas fa-video text-green-400"></i>
                                    </button>
                                    <button onclick="startVoiceCall()" class="p-2 rounded-lg bg-blue-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                        <i class="fas fa-phone text-blue-400"></i>
                                    </button>
                                    <button onclick="toggleChatInfo()" class="p-2 rounded-lg bg-gray-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                        <i class="fas fa-info-circle text-gray-400"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Chat Messages -->
                            <div id="chatMessages" class="flex-1 overflow-y-auto space-y-4 mb-4">
                                <div class="chat-message-received">
                                    <div class="flex items-start space-x-3">
                                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=maria" class="w-8 h-8 rounded-full">
                                        <div class="max-w-xs bg-white bg-opacity-10 rounded-lg p-3">
                                            <div class="text-white text-sm">Olá! Como está o progresso do projeto VeloNet?</div>
                                            <div class="text-gray-400 text-xs mt-1">14:32</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="chat-message-sent">
                                    <div class="flex items-start space-x-3 justify-end">
                                        <div class="max-w-xs bg-blue-500 bg-opacity-80 rounded-lg p-3">
                                            <div class="text-white text-sm">Está indo muito bem! Acabamos de implementar o sistema de widgets personalizáveis.</div>
                                            <div class="text-blue-100 text-xs mt-1">14:35 ✓✓</div>
                                        </div>
                                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=user" class="w-8 h-8 rounded-full">
                                    </div>
                                </div>
                                
                                <div class="chat-message-received">
                                    <div class="flex items-start space-x-3">
                                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=maria" class="w-8 h-8 rounded-full">
                                        <div class="max-w-xs bg-white bg-opacity-10 rounded-lg p-3">
                                            <div class="text-white text-sm">Excelente! Preciso testar essa funcionalidade. Pode me enviar o link?</div>
                                            <div class="text-gray-400 text-xs mt-1">14:36</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="chat-message-system">
                                    <div class="text-center text-gray-400 text-xs">Maria Silva está digitando...</div>
                                </div>
                            </div>
                            
                            <!-- Chat Input -->
                            <div class="flex items-center space-x-3">
                                <button onclick="toggleEmojiPicker()" class="p-3 rounded-lg bg-white bg-opacity-10 hover:bg-opacity-20 transition-all">
                                    <i class="fas fa-smile text-gray-400"></i>
                                </button>
                                <button onclick="attachFile()" class="p-3 rounded-lg bg-white bg-opacity-10 hover:bg-opacity-20 transition-all">
                                    <i class="fas fa-paperclip text-gray-400"></i>
                                </button>
                                <input type="text" id="chatInput" placeholder="Digite sua mensagem..." 
                                       class="flex-1 p-3 rounded-lg bg-white bg-opacity-10 text-white placeholder-gray-400"
                                       onkeypress="handleChatKeyPress(event)">
                                <button onclick="sendChatMessage()" class="p-3 rounded-lg bg-blue-500 hover:bg-blue-600 transition-all">
                                    <i class="fas fa-paper-plane text-white"></i>
                                </button>
                                <button onclick="startVoiceMessage()" class="p-3 rounded-lg bg-green-500 bg-opacity-20 hover:bg-opacity-30 transition-all">
                                    <i class="fas fa-microphone text-green-400"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Perfil Section -->
                <div id="perfil" class="content-section">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Informações Pessoais -->
                        <div class="lg:col-span-1">
                            <div class="glass-panel p-6 text-center">
                                <div class="relative mb-6">
                                    <img id="profileAvatar" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face" 
                                         alt="Avatar" class="w-32 h-32 rounded-full mx-auto object-cover border-4 border-blue-400">
                                    <button onclick="changeAvatar()" class="absolute bottom-0 right-1/2 transform translate-x-1/2 translate-y-2 bg-blue-500 text-white rounded-full p-2 hover:bg-blue-600 transition-colors">
                                        <i class="fas fa-camera text-sm"></i>
                                    </button>
                                </div>
                                
                                <h3 class="text-xl font-bold text-white mb-2" id="profileName">João Silva</h3>
                                <p class="text-gray-400 mb-4" id="profileRole">Analista de Atendimento</p>
                                
                                <div class="space-y-3">
                                    <div class="flex items-center justify-center space-x-2 text-gray-300">
                                        <i class="fas fa-envelope text-blue-400"></i>
                                        <span class="text-sm">joao.silva@velotax.com.br</span>
                                    </div>
                                    <div class="flex items-center justify-center space-x-2 text-gray-300">
                                        <i class="fas fa-phone text-green-400"></i>
                                        <span class="text-sm">(11) 99999-9999</span>
                                    </div>
                                    <div class="flex items-center justify-center space-x-2 text-gray-300">
                                        <i class="fas fa-calendar text-purple-400"></i>
                                        <span class="text-sm">Admissão: 15/03/2023</span>
                                    </div>
                                </div>

                                <div class="mt-6 pt-6 border-t border-gray-600">
                                    <h4 class="text-white font-semibold mb-3">Status Atual</h4>
                                    <div class="flex items-center justify-center space-x-2">
                                        <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                                        <span class="text-green-400 text-sm">Online</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Informações Detalhadas -->
                        <div class="lg:col-span-2 space-y-6">
                            <!-- Estatísticas Pessoais -->
                            <div class="glass-panel p-6">
                                <h3 class="text-xl font-bold text-white mb-4">Estatísticas Pessoais</h3>
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    <div class="text-center p-4 bg-blue-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-blue-400">1,247</div>
                                        <div class="text-xs text-gray-400">Atendimentos</div>
                                    </div>
                                    <div class="text-center p-4 bg-green-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-green-400">4.8</div>
                                        <div class="text-xs text-gray-400">Avaliação</div>
                                    </div>
                                    <div class="text-center p-4 bg-yellow-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-yellow-400">12</div>
                                        <div class="text-xs text-gray-400">Certificados</div>
                                    </div>
                                    <div class="text-center p-4 bg-purple-500 bg-opacity-10 rounded-lg">
                                        <div class="text-2xl font-bold text-purple-400">95%</div>
                                        <div class="text-xs text-gray-400">Pontualidade</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Configurações Pessoais -->
                            <div class="glass-panel p-6">
                                <h3 class="text-xl font-bold text-white mb-4">Configurações Pessoais</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <label class="text-white font-medium">Notificações por Email</label>
                                            <p class="text-gray-400 text-sm">Receber emails sobre atualizações</p>
                                        </div>
                                        <button onclick="toggleSetting('email')" class="toggle-switch active">
                                            <div class="toggle-slider"></div>
                                        </button>
                                    </div>
                                    
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <label class="text-white font-medium">Notificações Push</label>
                                            <p class="text-gray-400 text-sm">Receber notificações no navegador</p>
                                        </div>
                                        <button onclick="toggleSetting('push')" class="toggle-switch active">
                                            <div class="toggle-slider"></div>
                                        </button>
                                    </div>
                                    
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <label class="text-white font-medium">Modo Escuro</label>
                                            <p class="text-gray-400 text-sm">Tema escuro da interface</p>
                                        </div>
                                        <button onclick="toggleSetting('dark')" class="toggle-switch active">
                                            <div class="toggle-slider"></div>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Atividade Recente -->
                            <div class="glass-panel p-6">
                                <h3 class="text-xl font-bold text-white mb-4">Atividade Recente</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center space-x-3 p-3 bg-white bg-opacity-5 rounded-lg">
                                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-check text-white text-xs"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="text-white text-sm">Concluiu o treinamento "Excelência no Atendimento"</div>
                                            <div class="text-gray-400 text-xs">Há 2 horas</div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center space-x-3 p-3 bg-white bg-opacity-5 rounded-lg">
                                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-phone text-white text-xs"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="text-white text-sm">Realizou 15 atendimentos hoje</div>
                                            <div class="text-gray-400 text-xs">Há 3 horas</div>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-center space-x-3 p-3 bg-white bg-opacity-5 rounded-lg">
                                        <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-star text-white text-xs"></i>
                                        </div>
                                        <div class="flex-1">
                                            <div class="text-white text-sm">Recebeu avaliação 5 estrelas de cliente</div>
                                            <div class="text-gray-400 text-xs">Ontem</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Base de Conhecimento Section -->
                <div id="base" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Base de Conhecimento</h2>
                            <p class="text-gray-400">Documentação completa e recursos de apoio</p>
                        </div>
                        <div class="flex space-x-2">
                            <div class="relative">
                                <input type="text" placeholder="Buscar documentos..." class="glass-input pl-10 pr-4 py-2">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            </div>
                            <button onclick="addDocument()" class="btn-primary">
                                <i class="fas fa-plus mr-2"></i>Novo Documento
                            </button>
                        </div>
                    </div>

                    <!-- Categorias de Documentos -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <!-- Categoria 1 -->
                        <div class="glass-panel p-6 hover:border-blue-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-book text-blue-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Manuais</h3>
                                    <p class="text-gray-400 text-sm">15 documentos</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">Manuais operacionais e guias de procedimentos</p>
                            <button onclick="openCategory('manuais')" class="btn-primary w-full">
                                <i class="fas fa-folder-open mr-2"></i>Explorar
                            </button>
                        </div>

                        <!-- Categoria 2 -->
                        <div class="glass-panel p-6 hover:border-green-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-green-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-question-circle text-green-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">FAQ</h3>
                                    <p class="text-gray-400 text-sm">42 perguntas</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">Perguntas frequentes e respostas rápidas</p>
                            <button onclick="openCategory('faq')" class="btn-primary w-full">
                                <i class="fas fa-folder-open mr-2"></i>Explorar
                            </button>
                        </div>

                        <!-- Categoria 3 -->
                        <div class="glass-panel p-6 hover:border-purple-400 transition-all duration-300">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 bg-purple-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-cogs text-purple-400 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-white">Processos</h3>
                                    <p class="text-gray-400 text-sm">28 processos</p>
                                </div>
                            </div>
                            <p class="text-gray-300 text-sm mb-4">Fluxos de trabalho e procedimentos técnicos</p>
                            <button onclick="openCategory('processos')" class="btn-primary w-full">
                                <i class="fas fa-folder-open mr-2"></i>Explorar
                            </button>
                        </div>
                    </div>

                    <!-- Documentos Recentes -->
                    <div class="glass-panel p-6">
                        <h3 class="text-xl font-bold text-white mb-4">Documentos Acessados Recentemente</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Documento 1 -->
                            <div class="flex items-center p-4 bg-white bg-opacity-5 rounded-lg hover:bg-opacity-10 transition-all cursor-pointer" onclick="openDocument('manual-atendimento')">
                                <div class="w-10 h-10 bg-red-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-file-pdf text-red-400"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="text-white font-medium">Manual de Atendimento 2025</div>
                                    <div class="text-gray-400 text-sm">Atualizado há 2 dias • 2.3 MB</div>
                                </div>
                                <div class="text-gray-400">
                                    <i class="fas fa-download hover:text-blue-400 cursor-pointer"></i>
                                </div>
                            </div>

                            <!-- Documento 2 -->
                            <div class="flex items-center p-4 bg-white bg-opacity-5 rounded-lg hover:bg-opacity-10 transition-all cursor-pointer" onclick="openDocument('faq-produtos')">
                                <div class="w-10 h-10 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-file-word text-blue-400"></i>
                                </div>
                                <div class="flex-1">
                                    <div class="text-white font-medium">FAQ - Produtos VeloTax</div>
                                    <div class="text-gray-400 text-sm">Atualizado há 1 semana • 1.8 MB</div>
                                </div>
                                <div class="text-gray-400">
                                    <i class="fas fa-download hover:text-blue-400 cursor-pointer"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Mídia Section -->
                <div id="media" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Centro de Mídia</h2>
                            <p class="text-gray-400">Gerenciamento de arquivos e recursos multimídia</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="createFolder()" class="btn-secondary">
                                <i class="fas fa-folder-plus mr-2"></i>Nova Pasta
                            </button>
                            <button onclick="uploadFiles()" class="btn-primary">
                                <i class="fas fa-cloud-upload-alt mr-2"></i>Upload
                            </button>
                        </div>
                    </div>

                    <!-- Upload Zone -->
                    <div class="glass-panel p-8 mb-6 text-center border-2 border-dashed border-gray-600 hover:border-blue-400 transition-colors" id="dropZone">
                        <div class="space-y-4">
                            <i class="fas fa-cloud-upload-alt text-6xl text-gray-400"></i>
                            <div>
                                <h3 class="text-xl font-bold text-white mb-2">Arraste arquivos aqui</h3>
                                <p class="text-gray-400">ou clique para selecionar arquivos</p>
                            </div>
                            <button onclick="selectFiles()" class="btn-primary px-6 py-3">
                                <i class="fas fa-folder-open mr-2"></i>Selecionar Arquivos
                            </button>
                        </div>
                    </div>

                    <!-- Galeria de Mídia -->
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <!-- Sidebar de Pastas -->
                        <div class="lg:col-span-1">
                            <div class="glass-panel p-6">
                                <h3 class="text-lg font-bold text-white mb-4">Pastas</h3>
                                <div class="space-y-2">
                                    <div class="folder-item active flex items-center p-2 rounded-lg cursor-pointer">
                                        <i class="fas fa-folder text-blue-400 mr-3"></i>
                                        <span class="text-white">Todos os Arquivos</span>
                                    </div>
                                    <div class="folder-item flex items-center p-2 rounded-lg cursor-pointer hover:bg-white hover:bg-opacity-5">
                                        <i class="fas fa-folder text-yellow-400 mr-3"></i>
                                        <span class="text-gray-300">Documentos</span>
                                    </div>
                                    <div class="folder-item flex items-center p-2 rounded-lg cursor-pointer hover:bg-white hover:bg-opacity-5">
                                        <i class="fas fa-folder text-green-400 mr-3"></i>
                                        <span class="text-gray-300">Imagens</span>
                                    </div>
                                    <div class="folder-item flex items-center p-2 rounded-lg cursor-pointer hover:bg-white hover:bg-opacity-5">
                                        <i class="fas fa-folder text-purple-400 mr-3"></i>
                                        <span class="text-gray-300">Vídeos</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Grid de Arquivos -->
                        <div class="lg:col-span-3">
                            <div class="glass-panel p-6">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-lg font-bold text-white">Arquivos Recentes</h3>
                                    <div class="flex space-x-2">
                                        <button class="view-toggle active" onclick="toggleView('grid')">
                                            <i class="fas fa-th-large"></i>
                                        </button>
                                        <button class="view-toggle" onclick="toggleView('list')">
                                            <i class="fas fa-list"></i>
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="mediaGrid">
                                    <!-- Item de Mídia 1 -->
                                    <div class="media-item bg-white bg-opacity-5 rounded-lg p-4 hover:bg-opacity-10 transition-all cursor-pointer">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="w-10 h-10 bg-red-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                                                <i class="fas fa-file-pdf text-red-400"></i>
                                            </div>
                                            <div class="flex space-x-1">
                                                <button class="media-action" onclick="downloadFile('doc1')">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <button class="media-action" onclick="shareFile('doc1')">
                                                    <i class="fas fa-share"></i>
                                                </button>
                                                <button class="media-action" onclick="deleteFile('doc1')">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <h4 class="text-white font-medium mb-1">Relatório Mensal</h4>
                                        <p class="text-gray-400 text-sm">2.3 MB • 15/01/2025</p>
                                    </div>

                                    <!-- Item de Mídia 2 -->
                                    <div class="media-item bg-white bg-opacity-5 rounded-lg p-4 hover:bg-opacity-10 transition-all cursor-pointer">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="w-10 h-10 bg-green-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                                                <i class="fas fa-file-excel text-green-400"></i>
                                            </div>
                                            <div class="flex space-x-1">
                                                <button class="media-action" onclick="downloadFile('doc2')">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <button class="media-action" onclick="shareFile('doc2')">
                                                    <i class="fas fa-share"></i>
                                                </button>
                                                <button class="media-action" onclick="deleteFile('doc2')">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <h4 class="text-white font-medium mb-1">Planilha Atendimentos</h4>
                                        <p class="text-gray-400 text-sm">856 KB • 14/01/2025</p>
                                    </div>

                                    <!-- Item de Mídia 3 -->
                                    <div class="media-item bg-white bg-opacity-5 rounded-lg p-4 hover:bg-opacity-10 transition-all cursor-pointer">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="w-10 h-10 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                                                <i class="fas fa-image text-blue-400"></i>
                                            </div>
                                            <div class="flex space-x-1">
                                                <button class="media-action" onclick="downloadFile('img1')">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <button class="media-action" onclick="shareFile('img1')">
                                                    <i class="fas fa-share"></i>
                                                </button>
                                                <button class="media-action" onclick="deleteFile('img1')">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <h4 class="text-white font-medium mb-1">Logo VeloTax</h4>
                                        <p class="text-gray-400 text-sm">245 KB • 13/01/2025</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calendário Section -->
                <div id="calendario" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Calendário Corporativo</h2>
                            <p class="text-gray-400">Agenda, eventos e compromissos da equipe</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="changeCalendarView('week')" class="btn-secondary">
                                <i class="fas fa-calendar-week mr-2"></i>Semana
                            </button>
                            <button onclick="addNewEvent()" class="btn-primary">
                                <i class="fas fa-plus mr-2"></i>Novo Evento
                            </button>
                        </div>
                    </div>

                    <!-- Calendar Navigation -->
                    <div class="glass-panel p-6 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-4">
                                <button onclick="previousMonth()" class="text-gray-400 hover:text-white">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <h3 id="currentMonthYear" class="text-xl font-bold text-white">Janeiro 2025</h3>
                                <button onclick="nextMonth()" class="text-gray-400 hover:text-white">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div class="flex space-x-2">
                                <button onclick="setCalendarView('month')" class="calendar-view-btn active text-sm px-3 py-1 rounded bg-blue-500 text-white">
                                    Mês
                                </button>
                                <button onclick="setCalendarView('week')" class="calendar-view-btn text-sm px-3 py-1 rounded bg-gray-600 text-gray-300">
                                    Semana
                                </button>
                                <button onclick="setCalendarView('day')" class="calendar-view-btn text-sm px-3 py-1 rounded bg-gray-600 text-gray-300">
                                    Dia
                                </button>
                            </div>
                        </div>

                        <!-- Calendar Grid -->
                        <div class="grid grid-cols-7 gap-1" id="calendarGrid">
                            <!-- Calendar days will be populated here -->
                        </div>
                    </div>

                    <!-- Today's Events and Upcoming -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Today's Events -->
                        <div class="glass-panel p-6">
                            <h3 class="text-lg font-bold text-white mb-4">Eventos de Hoje</h3>
                            <div class="space-y-3">
                                <div class="event-item p-3 rounded-lg bg-blue-500 bg-opacity-10 border-l-4 border-blue-400">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h4 class="text-white font-medium">Reunião de Equipe</h4>
                                            <p class="text-gray-400 text-sm">Revisão semanal de metas</p>
                                            <p class="text-blue-400 text-xs">09:00 - 10:00</p>
                                        </div>
                                        <div class="flex space-x-2">
                                            <button onclick="joinMeeting('meeting1')" class="text-green-400 hover:text-green-300">
                                                <i class="fas fa-video"></i>
                                            </button>
                                            <button onclick="editEvent('meeting1')" class="text-blue-400 hover:text-blue-300">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="event-item p-3 rounded-lg bg-green-500 bg-opacity-10 border-l-4 border-green-400">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h4 class="text-white font-medium">Treinamento - Novos Produtos</h4>
                                            <p class="text-gray-400 text-sm">Capacitação sobre linha de produtos 2025</p>
                                            <p class="text-green-400 text-xs">14:00 - 16:00</p>
                                        </div>
                                        <div class="flex space-x-2">
                                            <button onclick="joinTraining('training1')" class="text-green-400 hover:text-green-300">
                                                <i class="fas fa-play"></i>
                                            </button>
                                            <button onclick="editEvent('training1')" class="text-blue-400 hover:text-blue-300">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="event-item p-3 rounded-lg bg-purple-500 bg-opacity-10 border-l-4 border-purple-400">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h4 class="text-white font-medium">1:1 com Supervisor</h4>
                                            <p class="text-gray-400 text-sm">Avaliação de performance mensal</p>
                                            <p class="text-purple-400 text-xs">16:30 - 17:00</p>
                                        </div>
                                        <div class="flex space-x-2">
                                            <button onclick="prepareOneOnOne('one_on_one1')" class="text-yellow-400 hover:text-yellow-300">
                                                <i class="fas fa-clipboard-list"></i>
                                            </button>
                                            <button onclick="editEvent('one_on_one1')" class="text-blue-400 hover:text-blue-300">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Upcoming Events -->
                        <div class="glass-panel p-6">
                            <h3 class="text-lg font-bold text-white mb-4">Próximos Eventos</h3>
                            <div class="space-y-3">
                                <div class="upcoming-event p-3 rounded-lg bg-white bg-opacity-5">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-red-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-exclamation text-red-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="text-white font-medium">Apresentação Trimestral</h4>
                                            <p class="text-gray-400 text-sm">Resultados Q1 2025</p>
                                            <p class="text-red-400 text-xs">Amanhã - 10:00</p>
                                        </div>
                                        <button onclick="setReminder('presentation1')" class="text-yellow-400 hover:text-yellow-300">
                                            <i class="fas fa-bell"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="upcoming-event p-3 rounded-lg bg-white bg-opacity-5">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-users text-blue-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="text-white font-medium">Workshop de Comunicação</h4>
                                            <p class="text-gray-400 text-sm">Técnicas avançadas de atendimento</p>
                                            <p class="text-blue-400 text-xs">Quinta-feira - 09:00</p>
                                        </div>
                                        <button onclick="setReminder('workshop1')" class="text-yellow-400 hover:text-yellow-300">
                                            <i class="fas fa-bell"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="upcoming-event p-3 rounded-lg bg-white bg-opacity-5">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-green-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-birthday-cake text-green-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="text-white font-medium">Aniversário - Maria Santos</h4>
                                            <p class="text-gray-400 text-sm">Supervisora de Qualidade</p>
                                            <p class="text-green-400 text-xs">Sexta-feira</p>
                                        </div>
                                        <button onclick="sendWishes('birthday1')" class="text-pink-400 hover:text-pink-300">
                                            <i class="fas fa-heart"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Actions -->
                            <div class="mt-6 pt-4 border-t border-gray-600">
                                <div class="grid grid-cols-2 gap-3">
                                    <button onclick="scheduleBreak()" class="btn-secondary w-full py-2 text-sm">
                                        <i class="fas fa-coffee mr-2"></i>Agendar Pausa
                                    </button>
                                    <button onclick="bookRoom()" class="btn-secondary w-full py-2 text-sm">
                                        <i class="fas fa-door-open mr-2"></i>Reservar Sala
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Administração Section -->
                <div id="admin" class="content-section">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Administração do Sistema</h2>
                            <p class="text-gray-400">Gestão completa de usuários, configurações e relatórios</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="exportSystemData()" class="btn-secondary">
                                <i class="fas fa-download mr-2"></i>Exportar Dados
                            </button>
                            <button onclick="openSystemSettings()" class="btn-primary">
                                <i class="fas fa-cogs mr-2"></i>Configurações
                            </button>
                        </div>
                    </div>

                    <!-- Admin Cards Overview -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-blue-400 mb-2">47</div>
                            <div class="text-gray-400 text-sm">Usuários Ativos</div>
                            <div class="text-green-400 text-xs mt-1">+3 esta semana</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-green-400 mb-2">12</div>
                            <div class="text-gray-400 text-sm">Administradores</div>
                            <div class="text-blue-400 text-xs mt-1">2 super admins</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-yellow-400 mb-2">3</div>
                            <div class="text-gray-400 text-sm">Pendências</div>
                            <div class="text-orange-400 text-xs mt-1">Requer atenção</div>
                        </div>
                        <div class="glass-panel p-6 text-center">
                            <div class="text-3xl font-bold text-purple-400 mb-2">98%</div>
                            <div class="text-gray-400 text-sm">Sistema Health</div>
                            <div class="text-green-400 text-xs mt-1">Excelente</div>
                        </div>
                    </div>

                    <!-- Admin Tabs -->
                    <div class="glass-panel p-6">
                        <div class="flex border-b border-gray-600 mb-6">
                            <button onclick="switchAdminTab('users')" class="admin-tab active px-6 py-3 text-white border-b-2 border-blue-400">
                                <i class="fas fa-users mr-2"></i>Usuários
                            </button>
                            <button onclick="switchAdminTab('roles')" class="admin-tab px-6 py-3 text-gray-400 hover:text-white">
                                <i class="fas fa-user-shield mr-2"></i>Permissões
                            </button>
                            <button onclick="switchAdminTab('logs')" class="admin-tab px-6 py-3 text-gray-400 hover:text-white">
                                <i class="fas fa-list-alt mr-2"></i>Logs
                            </button>
                            <button onclick="switchAdminTab('reports')" class="admin-tab px-6 py-3 text-gray-400 hover:text-white">
                                <i class="fas fa-chart-line mr-2"></i>Relatórios
                            </button>
                        </div>

                        <!-- Users Tab -->
                        <div id="admin-users" class="admin-tab-content">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-xl font-bold text-white">Gestão de Usuários</h3>
                                <div class="flex space-x-2">
                                    <div class="relative">
                                        <input type="text" placeholder="Buscar usuários..." class="glass-input pl-10 pr-4 py-2 w-64">
                                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                    </div>
                                    <button onclick="addNewUser()" class="btn-primary">
                                        <i class="fas fa-plus mr-2"></i>Novo Usuário
                                    </button>
                                </div>
                            </div>

                            <!-- Users Table -->
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b border-gray-600">
                                            <th class="text-left py-3 px-4 text-gray-400">Avatar</th>
                                            <th class="text-left py-3 px-4 text-gray-400">Nome</th>
                                            <th class="text-left py-3 px-4 text-gray-400">Email</th>
                                            <th class="text-left py-3 px-4 text-gray-400">Cargo</th>
                                            <th class="text-left py-3 px-4 text-gray-400">Status</th>
                                            <th class="text-left py-3 px-4 text-gray-400">Último Acesso</th>
                                            <th class="text-center py-3 px-4 text-gray-400">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="border-b border-gray-700 hover:bg-white hover:bg-opacity-5">
                                            <td class="py-3 px-4">
                                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face" 
                                                     alt="João" class="w-10 h-10 rounded-full">
                                            </td>
                                            <td class="py-3 px-4 text-white font-medium">João Silva</td>
                                            <td class="py-3 px-4 text-gray-300">joao.silva@velotax.com.br</td>
                                            <td class="py-3 px-4 text-gray-300">Analista de Atendimento</td>
                                            <td class="py-3 px-4">
                                                <span class="badge badge-success">Ativo</span>
                                            </td>
                                            <td class="py-3 px-4 text-gray-300">Agora</td>
                                            <td class="py-3 px-4 text-center">
                                                <div class="flex justify-center space-x-2">
                                                    <button onclick="editUser('joao')" class="text-blue-400 hover:text-blue-300">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button onclick="viewUserDetails('joao')" class="text-green-400 hover:text-green-300">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button onclick="toggleUserStatus('joao')" class="text-yellow-400 hover:text-yellow-300">
                                                        <i class="fas fa-user-slash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="border-b border-gray-700 hover:bg-white hover:bg-opacity-5">
                                            <td class="py-3 px-4">
                                                <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=40&h=40&fit=crop&crop=face" 
                                                     alt="Maria" class="w-10 h-10 rounded-full">
                                            </td>
                                            <td class="py-3 px-4 text-white font-medium">Maria Santos</td>
                                            <td class="py-3 px-4 text-gray-300">maria.santos@velotax.com.br</td>
                                            <td class="py-3 px-4 text-gray-300">Supervisora de Qualidade</td>
                                            <td class="py-3 px-4">
                                                <span class="badge badge-success">Ativo</span>
                                            </td>
                                            <td class="py-3 px-4 text-gray-300">15 min atrás</td>
                                            <td class="py-3 px-4 text-center">
                                                <div class="flex justify-center space-x-2">
                                                    <button onclick="editUser('maria')" class="text-blue-400 hover:text-blue-300">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button onclick="viewUserDetails('maria')" class="text-green-400 hover:text-green-300">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button onclick="toggleUserStatus('maria')" class="text-yellow-400 hover:text-yellow-300">
                                                        <i class="fas fa-user-slash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="border-b border-gray-700 hover:bg-white hover:bg-opacity-5">
                                            <td class="py-3 px-4">
                                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" 
                                                     alt="Carlos" class="w-10 h-10 rounded-full">
                                            </td>
                                            <td class="py-3 px-4 text-white font-medium">Carlos Oliveira</td>
                                            <td class="py-3 px-4 text-gray-300">carlos.oliveira@velotax.com.br</td>
                                            <td class="py-3 px-4 text-gray-300">Coordenador de Treinamentos</td>
                                            <td class="py-3 px-4">
                                                <span class="badge badge-warning">Ausente</span>
                                            </td>
                                            <td class="py-3 px-4 text-gray-300">2 horas atrás</td>
                                            <td class="py-3 px-4 text-center">
                                                <div class="flex justify-center space-x-2">
                                                    <button onclick="editUser('carlos')" class="text-blue-400 hover:text-blue-300">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button onclick="viewUserDetails('carlos')" class="text-green-400 hover:text-green-300">
                                                        <i class="fas fa-eye"></i>
                                                    </button>
                                                    <button onclick="toggleUserStatus('carlos')" class="text-yellow-400 hover:text-yellow-300">
                                                        <i class="fas fa-user-slash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Roles Tab -->
                        <div id="admin-roles" class="admin-tab-content hidden">
                            <h3 class="text-xl font-bold text-white mb-6">Sistema de Permissões</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div class="glass-panel p-6 bg-blue-500 bg-opacity-10 border border-blue-400">
                                    <h4 class="text-lg font-bold text-blue-400 mb-3">Super Admin</h4>
                                    <p class="text-gray-300 text-sm mb-4">Acesso total ao sistema</p>
                                    <ul class="space-y-2 text-sm">
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Gestão completa de usuários</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Configurações do sistema</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Relatórios avançados</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Logs de auditoria</li>
                                    </ul>
                                </div>

                                <div class="glass-panel p-6 bg-green-500 bg-opacity-10 border border-green-400">
                                    <h4 class="text-lg font-bold text-green-400 mb-3">Administrador</h4>
                                    <p class="text-gray-300 text-sm mb-4">Gestão operacional</p>
                                    <ul class="space-y-2 text-sm">
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Gestão de usuários</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Relatórios básicos</li>
                                        <li class="text-red-400"><i class="fas fa-times mr-2"></i>Configurações do sistema</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Processos e treinamentos</li>
                                    </ul>
                                </div>

                                <div class="glass-panel p-6 bg-yellow-500 bg-opacity-10 border border-yellow-400">
                                    <h4 class="text-lg font-bold text-yellow-400 mb-3">Usuário Padrão</h4>
                                    <p class="text-gray-300 text-sm mb-4">Acesso básico</p>
                                    <ul class="space-y-2 text-sm">
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Dashboard pessoal</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Treinamentos</li>
                                        <li class="text-green-400"><i class="fas fa-check mr-2"></i>Base de conhecimento</li>
                                        <li class="text-red-400"><i class="fas fa-times mr-2"></i>Administração</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Logs Tab -->
                        <div id="admin-logs" class="admin-tab-content hidden">
                            <h3 class="text-xl font-bold text-white mb-6">Logs de Auditoria</h3>
                            <div class="space-y-3">
                                <div class="flex items-center p-4 bg-white bg-opacity-5 rounded-lg">
                                    <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-4">
                                        <i class="fas fa-sign-in-alt text-white text-sm"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="text-white text-sm">João Silva realizou login</div>
                                        <div class="text-gray-400 text-xs">IP: 192.168.1.100 • Há 5 minutos</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center p-4 bg-white bg-opacity-5 rounded-lg">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mr-4">
                                        <i class="fas fa-edit text-white text-sm"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="text-white text-sm">Maria Santos atualizou perfil</div>
                                        <div class="text-gray-400 text-xs">IP: 192.168.1.101 • Há 15 minutos</div>
                                    </div>
                                </div>
                                
                                <div class="flex items-center p-4 bg-white bg-opacity-5 rounded-lg">
                                    <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center mr-4">
                                        <i class="fas fa-download text-white text-sm"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="text-white text-sm">Carlos Oliveira baixou documento</div>
                                        <div class="text-gray-400 text-xs">Arquivo: manual-atendimento.pdf • Há 1 hora</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Reports Tab -->
                        <div id="admin-reports" class="admin-tab-content hidden">
                            <h3 class="text-xl font-bold text-white mb-6">Relatórios do Sistema</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="glass-panel p-6 hover:border-blue-400 transition-all cursor-pointer" onclick="generateReport('users')">
                                    <h4 class="font-bold text-white mb-2">Relatório de Usuários</h4>
                                    <p class="text-gray-400 text-sm mb-4">Atividade e estatísticas dos usuários</p>
                                    <button class="btn-primary w-full">
                                        <i class="fas fa-file-alt mr-2"></i>Gerar Relatório
                                    </button>
                                </div>

                                <div class="glass-panel p-6 hover:border-green-400 transition-all cursor-pointer" onclick="generateReport('performance')">
                                    <h4 class="font-bold text-white mb-2">Relatório de Performance</h4>
                                    <p class="text-gray-400 text-sm mb-4">Métricas de desempenho do sistema</p>
                                    <button class="btn-primary w-full">
                                        <i class="fas fa-chart-bar mr-2"></i>Gerar Relatório
                                    </button>
                                </div>

                                <div class="glass-panel p-6 hover:border-purple-400 transition-all cursor-pointer" onclick="generateReport('training')">
                                    <h4 class="font-bold text-white mb-2">Relatório de Treinamentos</h4>
                                    <p class="text-gray-400 text-sm mb-4">Progresso e conclusões de cursos</p>
                                    <button class="btn-primary w-full">
                                        <i class="fas fa-graduation-cap mr-2"></i>Gerar Relatório
                                    </button>
                                </div>

                                <div class="glass-panel p-6 hover:border-yellow-400 transition-all cursor-pointer" onclick="generateReport('attendance')">
                                    <h4 class="font-bold text-white mb-2">Relatório de Ponto</h4>
                                    <p class="text-gray-400 text-sm mb-4">Controle de horários e frequência</p>
                                    <button class="btn-primary w-full">
                                        <i class="fas fa-clock mr-2"></i>Gerar Relatório
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gemini AI Section -->
                <div id="gemini" class="content-section">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold text-white mb-4">🤖 Assistente Gemini AI</h2>
                        <p class="text-gray-400 text-lg">Seu assistente de IA integrado para máxima produtividade</p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <!-- Interface do Chat -->
                        <div class="lg:col-span-2">
                            <div class="glass-panel p-6">
                                <div class="flex items-center justify-between mb-4">
                                    <h3 class="text-xl font-bold text-white">Chat com Gemini</h3>
                                    <div class="flex space-x-2">
                                        <button onclick="clearChat()" class="btn-secondary text-sm px-3 py-1">
                                            <i class="fas fa-trash mr-1"></i>Limpar
                                        </button>
                                        <button onclick="exportChat()" class="btn-secondary text-sm px-3 py-1">
                                            <i class="fas fa-download mr-1"></i>Exportar
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Área de Chat -->
                                <div class="chat-container bg-black bg-opacity-20 rounded-lg p-4 h-96 overflow-y-auto mb-4" id="chatContainer">
                                    <div class="chat-message assistant">
                                        <div class="flex items-start space-x-3">
                                            <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                                <i class="fas fa-robot text-white text-sm"></i>
                                            </div>
                                            <div class="chat-bubble">
                                                <p>Olá! Eu sou o Gemini AI, seu assistente pessoal. Como posso ajudá-lo hoje?</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Input do Chat -->
                                <div class="flex space-x-2">
                                    <input type="text" id="chatInput" placeholder="Digite sua pergunta aqui..." 
                                           class="glass-input flex-1 px-4 py-3" 
                                           onkeypress="handleChatInput(event)">
                                    <button onclick="sendMessage()" class="btn-primary px-6 py-3">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Painel de Recursos -->
                        <div class="space-y-6">
                            <!-- Comandos Rápidos -->
                            <div class="glass-panel p-6">
                                <h3 class="text-lg font-bold text-white mb-4">Comandos Rápidos</h3>
                                <div class="space-y-2">
                                    <button onclick="quickCommand('resumo')" class="quick-command-btn">
                                        <i class="fas fa-chart-bar mr-2"></i>Resumo do Dia
                                    </button>
                                    <button onclick="quickCommand('agenda')" class="quick-command-btn">
                                        <i class="fas fa-calendar mr-2"></i>Minha Agenda
                                    </button>
                                    <button onclick="quickCommand('tickets')" class="quick-command-btn">
                                        <i class="fas fa-ticket-alt mr-2"></i>Tickets Pendentes
                                    </button>
                                    <button onclick="quickCommand('ajuda')" class="quick-command-btn">
                                        <i class="fas fa-question-circle mr-2"></i>Como usar o sistema
                                    </button>
                                </div>
                            </div>

                            <!-- Status da IA -->
                            <div class="glass-panel p-6">
                                <h3 class="text-lg font-bold text-white mb-4">Status da IA</h3>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-400">Conexão</span>
                                        <div class="flex items-center space-x-2">
                                            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                                            <span class="text-green-400 text-sm">Online</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-400">Modelo</span>
                                        <span class="text-white text-sm">Gemini Pro</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <span class="text-gray-400">Versão</span>
                                        <span class="text-white text-sm">1.5 Pro</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Acesso Direto -->
                            <div class="glass-panel p-6 text-center">
                                <h3 class="text-lg font-bold text-white mb-4">Acesso Externo</h3>
                                <p class="text-gray-400 text-sm mb-4">Abrir Gemini em nova aba para recursos avançados</p>
                                <button onclick="openGemini()" class="btn-primary w-full py-3">
                                    <i class="fas fa-external-link-alt mr-2"></i>
                                    Abrir Gemini AI
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <!-- Theme Selector Modal -->
    <div id="themeModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="glass-panel p-6 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-bold text-white">Escolher Tema</h3>
                <button onclick="closeThemeModal()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="grid grid-cols-3 gap-4">
                <button onclick="setTheme('dark')" class="theme-option p-4 rounded-lg border-2 border-gray-600 hover:border-blue-400">
                    <div class="w-full h-16 bg-gray-900 rounded mb-2"></div>
                    <p class="text-sm text-white">Escuro</p>
                </button>
                <button onclick="setTheme('light')" class="theme-option p-4 rounded-lg border-2 border-gray-600 hover:border-blue-400">
                    <div class="w-full h-16 bg-gray-100 rounded mb-2"></div>
                    <p class="text-sm text-white">Claro</p>
                </button>
                <button onclick="setTheme('blue')" class="theme-option p-4 rounded-lg border-2 border-gray-600 hover:border-blue-400">
                    <div class="w-full h-16 bg-blue-900 rounded mb-2"></div>
                    <p class="text-sm text-white">Azul</p>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Estado global da aplicação
        const appState = {
            currentUser: null,
            currentTheme: 'dark',
            realTimeData: [],
            notifications: [],
            isLoading: false
        };

        // Sistema de Login Melhorado
        function loginWithGoogle() {
            showLoadingState(true);
            
            setTimeout(() => {
                const userInfo = {
                    name: 'João Silva',
                    email: 'joao.silva@velotax.com.br',
                    picture: 'https://via.placeholder.com/50x50/007AFF/white?text=JS',
                    loginMethod: 'google',
                    role: 'Atendente Senior',
                    department: 'Atendimento',
                    lastLogin: new Date().toISOString()
                };
                
                performLogin(userInfo);
                showNotification('Login com Google realizado com sucesso!', 'success');
                showLoadingState(false);
            }, 2000);
        }

        function loginWithDemo() {
            showLoadingState(true);
            
            setTimeout(() => {
                const userInfo = {
                    name: 'Demo User',
                    email: 'demo@velotax.com.br',
                    picture: 'https://via.placeholder.com/50x50/34C759/white?text=DU',
                    loginMethod: 'demo',
                    role: 'Administrador',
                    department: 'TI',
                    lastLogin: new Date().toISOString()
                };
                
                performLogin(userInfo);
                showNotification('Bem-vindo ao modo demonstração!', 'success');
                showLoadingState(false);
            }, 1500);
        }

        function loginWithManual() {
            const email = document.getElementById('manualEmail').value;
            const password = document.getElementById('manualPassword').value;
            
            if (!email || !password) {
                showNotification('Preencha todos os campos!', 'error');
                return;
            }
            
            if (!email.endsWith('@velotax.com.br')) {
                showNotification('Apenas e-mails @velotax.com.br são permitidos.', 'error');
                return;
            }

            if (email === 'admin@velotax.com.br' && password === 'admin123') {
                showLoadingState(true);
                
                setTimeout(() => {
                    const userInfo = {
                        name: 'Administrador',
                        email: email,
                        picture: 'https://via.placeholder.com/50x50/FF3B30/white?text=AD',
                        loginMethod: 'manual',
                        role: 'Administrador do Sistema',
                        department: 'TI',
                        lastLogin: new Date().toISOString()
                    };
                    
                    performLogin(userInfo);
                    showNotification('Login manual realizado com sucesso!', 'success');
                    showLoadingState(false);
                }, 2000);
            } else {
                showNotification('Credenciais inválidas!', 'error');
            }
        }

        function performLogin(userInfo) {
            appState.currentUser = userInfo;
            localStorage.setItem('velonet-user', JSON.stringify(userInfo));
            localStorage.setItem('velonet-last-login', new Date().toISOString());
            
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            updateUserInfo();
            initializeApp();
        }

        function toggleManualLogin() {
            const form = document.getElementById('manualLoginForm');
            form.classList.toggle('hidden');
        }

        function showLoadingState(show) {
            const loadingScreen = document.getElementById('loadingScreen');
            if (show) {
                loadingScreen.classList.remove('hidden');
            } else {
                loadingScreen.classList.add('hidden');
            }
            appState.isLoading = show;
        }

        // Sistema de Notificações Avançado
        function showNotification(message, type = 'info', duration = 5000) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            
            let icon, color;
            switch(type) {
                case 'error':
                    icon = 'exclamation-triangle';
                    color = '#FF3B30';
                    break;
                case 'success':
                    icon = 'check-circle';
                    color = '#34C759';
                    break;
                case 'warning':
                    icon = 'exclamation-circle';
                    color = '#FF9500';
                    break;
                default:
                    icon = 'info-circle';
                    color = '#007AFF';
            }
            
            notification.innerHTML = `
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <i class="fas fa-${icon}" style="color: ${color}; margin-right: 12px; font-size: 18px;"></i>
                        <span class="text-white font-medium">${message}</span>
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" class="text-gray-400 hover:text-white ml-4">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            notification.style.animation = 'slideInRight 0.4s ease';
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.4s ease';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.remove();
                    }
                }, 400);
            }, duration);

            // Adicionar ao estado
            appState.notifications.push({
                id: Date.now(),
                message,
                type,
                timestamp: new Date().toISOString()
            });
        }

        // Gerenciamento de Usuário
        function updateUserInfo() {
            const userInfo = appState.currentUser || JSON.parse(localStorage.getItem('velonet-user') || '{}');
            
            if (userInfo && userInfo.name) {
                const elements = {
                    userName: document.getElementById('userName'),
                    userEmail: document.getElementById('userEmail'),
                    userAvatar: document.getElementById('userAvatar')
                };
                
                if (elements.userName) elements.userName.textContent = userInfo.name;
                if (elements.userEmail) elements.userEmail.textContent = userInfo.email;
                if (elements.userAvatar) elements.userAvatar.src = userInfo.picture;
                
                appState.currentUser = userInfo;
            }
        }

        // Navegação Melhorada
        function showSection(sectionId) {
            // Atualizar estado ativo
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Mostrar seção selecionada
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Ativar item do menu
            const clickedItem = event.target.closest('.menu-item');
            if (clickedItem) {
                clickedItem.classList.add('active');
            }

            // Atualizar título da página
            updatePageTitle(sectionId);
            
            // Carregar dados específicos da seção se necessário
            loadSectionData(sectionId);
        }

        function updatePageTitle(sectionId) {
            const titles = {
                dashboard: { title: 'Dashboard', subtitle: 'Visão geral do desempenho' },
                atendimentos: { title: 'Atendimentos', subtitle: 'Gestão de atendimentos e métricas' },
                noticias: { title: 'Notícias', subtitle: 'Comunicados e novidades' },
                processos: { title: 'Processos', subtitle: 'Procedimentos e fluxos' },
                treinamentos: { title: 'Treinamentos', subtitle: 'Capacitação e desenvolvimento' },
                ponto: { title: 'Controle de Ponto', subtitle: 'Gestão de horários' },
                base: { title: 'Base de Conhecimento', subtitle: 'Documentação e manuais' },
                media: { title: 'Mídia', subtitle: 'Upload e organização de arquivos' },
                gemini: { title: 'Gemini AI', subtitle: 'Assistente inteligente' },
                admin: { title: 'Administração', subtitle: 'Configurações do sistema' },
                perfil: { title: 'Meu Perfil', subtitle: 'Informações pessoais' }
            };

            const pageInfo = titles[sectionId] || { title: 'VeloNet', subtitle: 'Portal Corporativo' };
            
            const titleElement = document.getElementById('pageTitle');
            const subtitleElement = document.getElementById('pageSubtitle');
            
            if (titleElement) titleElement.textContent = pageInfo.title;
            if (subtitleElement) subtitleElement.textContent = pageInfo.subtitle;
        }

        function loadSectionData(sectionId) {
            // Implementar carregamento específico de dados para cada seção
            switch(sectionId) {
                case 'dashboard':
                    updateRealTimeActivity();
                    break;
                case 'atendimentos':
                    // Carregar dados de atendimento
                    break;
                // Adicionar outros casos conforme necessário
            }
        }

        function logout() {
            if (confirm('Deseja realmente sair do sistema?')) {
                localStorage.removeItem('velonet-user');
                localStorage.removeItem('velonet-last-login');
                
                appState.currentUser = null;
                
                document.getElementById('mainApp').classList.add('hidden');
                document.getElementById('loginScreen').classList.remove('hidden');
                
                showNotification('Logout realizado com sucesso!', 'success');
            }
        }

        // Funcionalidades do Dashboard
        function showMetricDetails(metric) {
            const details = {
                phone: 'Detalhes dos atendimentos telefônicos: 47 chamadas atendidas hoje com tempo médio de 4:30',
                tickets: 'Detalhes dos tickets: 23 tickets processados com 95% de resolução',
                satisfaction: 'Satisfação do cliente: 8.5/10 baseado em 156 avaliações',
                tma: 'Tempo Médio de Atendimento: 4:30 minutos (meta: 4:00)'
            };
            
            showNotification(details[metric] || 'Informação não disponível', 'info', 7000);
        }

        function refreshChart(chartType) {
            showNotification(`Atualizando gráfico de ${chartType}...`, 'info', 2000);
            
            // Simular atualização do gráfico
            setTimeout(() => {
                if (chartType === 'performance') {
                    initCharts();
                }
                showNotification('Gráfico atualizado com sucesso!', 'success');
            }, 2000);
        }

        function quickAction(action) {
            const actions = {
                newTicket: 'Abrindo formulário de novo ticket...',
                callTransfer: 'Iniciando transferência de chamada...',
                breakTime: 'Solicitação de pausa enviada!',
                help: 'Abrindo central de ajuda...'
            };
            
            showNotification(actions[action] || 'Ação executada', 'info');
        }

        // Atividade em Tempo Real
        function updateRealTimeActivity() {
            const activities = [
                { icon: 'phone', text: 'Nova chamada recebida', time: '1 min ago', color: 'blue' },
                { icon: 'ticket-alt', text: 'Ticket #1234 resolvido', time: '3 min ago', color: 'green' },
                { icon: 'user', text: 'Cliente satisfeito (5 estrelas)', time: '5 min ago', color: 'yellow' },
                { icon: 'comment', text: 'Novo chat iniciado', time: '7 min ago', color: 'purple' }
            ];
            
            const container = document.getElementById('realTimeActivity');
            if (container) {
                container.innerHTML = activities.map(activity => `
                    <div class="flex items-center space-x-3 p-2 rounded-lg hover:bg-white hover:bg-opacity-5">
                        <div class="w-8 h-8 bg-${activity.color}-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                            <i class="fas fa-${activity.icon} text-${activity.color}-400 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <p class="text-sm text-white">${activity.text}</p>
                            <p class="text-xs text-gray-400">${activity.time}</p>
                        </div>
                    </div>
                `).join('');
            }
        }

        // Sistema de Temas
        function showThemeSelector() {
            document.getElementById('themeModal').classList.remove('hidden');
        }

        function closeThemeModal() {
            document.getElementById('themeModal').classList.add('hidden');
        }

        function setTheme(theme) {
            appState.currentTheme = theme;
            localStorage.setItem('velonet-theme', theme);
            
            // Aplicar tema
            document.body.setAttribute('data-theme', theme);
            
            // Aplicar classes CSS baseadas no tema
            const body = document.body;
            body.classList.remove('theme-dark', 'theme-light', 'theme-blue');
            body.classList.add(`theme-${theme}`);
            
            // Atualizar variáveis CSS do tema
            const root = document.documentElement;
            if (theme === 'light') {
                root.style.setProperty('--bg-primary', '#ffffff');
                root.style.setProperty('--bg-secondary', '#f8f9fa');
                root.style.setProperty('--text-primary', '#000000');
                root.style.setProperty('--text-secondary', '#6c757d');
                root.style.setProperty('--glass-bg', 'rgba(255, 255, 255, 0.1)');
            } else if (theme === 'blue') {
                root.style.setProperty('--bg-primary', '#0d1b2a');
                root.style.setProperty('--bg-secondary', '#1b263b');
                root.style.setProperty('--text-primary', '#ffffff');
                root.style.setProperty('--text-secondary', '#a8dadc');
                root.style.setProperty('--glass-bg', 'rgba(27, 38, 59, 0.3)');
            } else { // dark (padrão)
                root.style.setProperty('--bg-primary', '#0a0a0a');
                root.style.setProperty('--bg-secondary', '#1a1a1a');
                root.style.setProperty('--text-primary', '#ffffff');
                root.style.setProperty('--text-secondary', '#cccccc');
                root.style.setProperty('--glass-bg', 'rgba(255, 255, 255, 0.1)');
            }
            
            // Reinicializar gráficos com novo tema
            setTimeout(() => {
                initCharts();
            }, 100);
            
            closeThemeModal();
            showNotification(`🎨 Tema ${theme} aplicado com sucesso!`, 'success');
        }

        // Central de Notificações
        function showNotificationCenter() {
            showNotification('Central de notificações em desenvolvimento', 'info');
        }

        // Relógio e Data
        function updateDateTime() {
            const now = new Date();
            const timeElement = document.getElementById('currentTime');
            const dateElement = document.getElementById('currentDate');
            
            if (timeElement) {
                timeElement.textContent = now.toLocaleTimeString('pt-BR', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
            
            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('pt-BR', {
                    weekday: 'short',
                    day: '2-digit',
                    month: 'short'
                });
            }
        }

        // Gráficos Melhorados
        function initCharts() {
            // Gráfico de Performance
            const desempenhoCtx = document.getElementById('desempenhoChart');
            if (desempenhoCtx) {
                new Chart(desempenhoCtx, {
                    type: 'line',
                    data: {
                        labels: ['Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta'],
                        datasets: [{
                            label: 'Atendimentos',
                            data: [45, 52, 48, 61, 47],
                            borderColor: '#007AFF',
                            backgroundColor: 'rgba(0, 122, 255, 0.1)',
                            tension: 0.4,
                            fill: true,
                            pointBackgroundColor: '#007AFF',
                            pointBorderColor: '#ffffff',
                            pointBorderWidth: 2,
                            pointRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { 
                                    color: '#ffffff',
                                    font: { size: 14 }
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: { 
                                    color: '#ffffff',
                                    font: { size: 12 }
                                },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            },
                            y: {
                                ticks: { 
                                    color: '#ffffff',
                                    font: { size: 12 }
                                },
                                grid: { color: 'rgba(255, 255, 255, 0.1)' }
                            }
                        }
                    }
                });
            }

            // Gráfico de Distribuição
            const distribuicaoCtx = document.getElementById('distribuicaoChart');
            if (distribuicaoCtx) {
                new Chart(distribuicaoCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Telefone', 'Tickets', 'Chat', 'Email'],
                        datasets: [{
                            data: [47, 23, 15, 8],
                            backgroundColor: [
                                '#007AFF',
                                '#34C759',
                                '#FF9500',
                                '#FF3B30'
                            ],
                            borderWidth: 0,
                            hoverOffset: 10
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { 
                                    color: '#ffffff',
                                    font: { size: 12 },
                                    padding: 20
                                }
                            }
                        }
                    }
                });
            }
        }

        // Inicialização da Aplicação
        function initializeApp() {
            // Carregar tema salvo
            const savedTheme = localStorage.getItem('velonet-theme') || 'dark';
            setTheme(savedTheme);
            
            // Inicializar componentes
            initCharts();
            updateDateTime();
            updateRealTimeActivity();
            
            // Configurar intervalos
            setInterval(updateDateTime, 1000);
            setInterval(updateClockDisplay, 1000);
            setInterval(updateRealTimeActivity, 30000);
            
            // Inicializar sistemas avançados
            generateCalendar();
            updateNotificationBadge();
            
            // Inicializar simulações de atividade em tempo real
            setInterval(simulateRealTimeActivity, 30000); // Nova notificação a cada 30 segundos
            setInterval(updateDashboardMetrics, 60000); // Atualizar métricas a cada minuto
            setInterval(updateAllWidgetsData, 45000); // Atualizar dados dos widgets a cada 45 segundos
            
            // Inicializar sistemas avançados
            renderWidgets(); // Renderizar widgets do dashboard
            
            // Carregar layout salvo de widgets
            const savedWidgets = localStorage.getItem('velonet_widgets');
            if (savedWidgets) {
                widgets = JSON.parse(savedWidgets);
                renderWidgets();
            }
            
            // Verificar compatibilidade do navegador
            checkBrowserCompatibility();
            
            // Monitorar performance
            monitorPerformance();
            
            // Carregar tema salvo
            const currentTheme = localStorage.getItem('velonet-theme') || 'dark';
            setTheme(currentTheme);
            
            // Carregar preferências do usuário
            loadUserPreferences();
            
            // Inicializar sistema de widgets em tempo real
            startWidgetRealTimeUpdates();
            
            // Mensagem de boas-vindas
            setTimeout(() => {
                const user = appState.currentUser;
                if (user) {
                    showNotification(`Bem-vindo de volta, ${user.name}!`, 'success');
                }
            }, 1000);
            
            console.log('✅ VeloNet inicializado com sucesso!');
        }

        // Funções das Seções Específicas
        
        // === ATENDIMENTOS ===
        function startCall() {
            showNotification('Iniciando nova chamada...', 'info');
            setTimeout(() => {
                showNotification('Chamada conectada! Cliente: João Silva', 'success');
            }, 2000);
        }
        
        function pauseAttendance() {
            showNotification('Atendimento pausado. Você não receberá novas chamadas.', 'warning');
        }
        
        function acceptCall(callId) {
            showNotification('Atendendo chamada...', 'info');
            setTimeout(() => {
                showNotification('Chamada conectada com sucesso!', 'success');
                // Remover item da fila
                const callItem = event.target.closest('.call-item');
                if (callItem) {
                    callItem.style.animation = 'fadeOut 0.3s ease';
                    setTimeout(() => callItem.remove(), 300);
                }
            }, 1500);
        }
        
        function openTicket(ticketId) {
            showNotification(`Abrindo ticket #${ticketId}...`, 'info');
            setTimeout(() => {
                showNotification('Ticket carregado com sucesso!', 'success');
            }, 1000);
        }
        
        // === NOTÍCIAS ===
        function reactToNews(newsId, reaction) {
            const reactionMap = {
                'like': '👍',
                'heart': '❤️',
                'star': '⭐'
            };
            
            showNotification(`Reação ${reactionMap[reaction]} adicionada!`, 'success');
            
            // Atualizar contadores
            const button = event.target.closest('.reaction-btn');
            if (button) {
                const countSpan = button.querySelector('span');
                if (countSpan) {
                    const currentCount = parseInt(countSpan.textContent);
                    countSpan.textContent = currentCount + 1;
                }
                button.classList.add('active');
                setTimeout(() => button.classList.remove('active'), 1000);
            }
        }
        
        function shareNews(newsId) {
            showNotification('Link da notícia copiado para a área de transferência!', 'success');
        }
        
        function markAsRead(newsId) {
            showNotification('Notícia marcada como lida!', 'success');
            
            const newsCard = event.target.closest('.news-card');
            if (newsCard) {
                newsCard.style.opacity = '0.7';
                newsCard.style.borderColor = '#34C759';
            }
        }
        
        function addNews() {
            showNotification('Funcionalidade de adicionar notícias em desenvolvimento!', 'info');
        }
        
        // === PROCESSOS ===
        function openProcess(processType) {
            const processes = {
                'atendimento': 'Processo de Atendimento ao Cliente',
                'escalacao': 'Escalação de Problemas',
                'qualidade': 'Controle de Qualidade',
                'emergencia': 'Procedimentos de Emergência',
                'onboarding': 'Integração de Novatos',
                'feedback': 'Feedback e Avaliação'
            };
            
            const processName = processes[processType] || 'Processo';
            
            showNotification(`Carregando ${processName}...`, 'info');
            
            setTimeout(() => {
                showNotification(`${processName} aberto com sucesso!`, 'success');
                // Simular abertura de documento
                window.open(`#processo-${processType}`, '_blank');
            }, 1500);
        }
        
        // === TREINAMENTOS ===
        function startTraining(trainingType) {
            const trainings = {
                'atendimento': 'Treinamento de Atendimento ao Cliente',
                'produtos': 'Treinamento de Produtos e Serviços',
                'sistema': 'Treinamento do Sistema VeloNet',
                'vendas': 'Técnicas de Vendas',
                'comunicacao': 'Comunicação Efetiva'
            };
            
            const trainingName = trainings[trainingType] || 'Treinamento';
            
            showNotification(`Iniciando ${trainingName}...`, 'info');
            
            setTimeout(() => {
                showNotification(`${trainingName} iniciado! Boa sorte!`, 'success');
            }, 2000);
        }
        
        function completeTraining(trainingId) {
            showNotification('Parabéns! Treinamento concluído com sucesso!', 'success');
        }
        
        // === PONTO ===
        function registerEntry() {
            const now = new Date();
            const time = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
            
            showNotification(`Entrada registrada às ${time}`, 'success');
            updateTimeStatus('online');
        }
        
        function registerExit() {
            const now = new Date();
            const time = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
            
            showNotification(`Saída registrada às ${time}`, 'success');
            updateTimeStatus('offline');
        }
        
        function startPause() {
            const now = new Date();
            const time = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
            
            showNotification(`Pausa iniciada às ${time}`, 'info');
            updateTimeStatus('pause');
        }
        
        function updateTimeStatus(status) {
            // Atualizar indicadores visuais de status
            const statusColors = {
                'online': 'bg-green-400',
                'offline': 'bg-red-400',
                'pause': 'bg-yellow-400'
            };
            
            // Implementar mudança visual do status
        }
        
        // === PERFIL ===
        function changeAvatar() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const userAvatar = document.getElementById('userAvatar');
                        if (userAvatar) {
                            userAvatar.src = e.target.result;
                            showNotification('Foto de perfil atualizada!', 'success');
                        }
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        }
        
        function updateProfile() {
            showNotification('Perfil atualizado com sucesso!', 'success');
        }
        
        // === MÍDIA ===
        function selectMediaFiles() {
            const input = document.createElement('input');
            input.type = 'file';
            input.multiple = true;
            input.accept = 'image/*,video/*,audio/*,.pdf,.doc,.docx';
            
            input.onchange = (e) => {
                const files = Array.from(e.target.files);
                handleMediaFiles(files);
            };
            
            input.click();
        }
        
        function handleMediaFiles(files) {
            files.forEach(file => {
                showNotification(`Uploading ${file.name}...`, 'info');
                
                setTimeout(() => {
                    showNotification(`${file.name} uploaded successfully!`, 'success');
                }, 2000);
            });
        }
        
        // === GEMINI AI ===
        function openGemini() {
            showNotification('Abrindo Gemini AI em nova aba...', 'info');
            window.open('https://gemini.google.com/', '_blank');
        }
        
        // === ADMINISTRAÇÃO ===
        function openUserManagement() {
            showNotification('Abrindo gestão de usuários...', 'info');
        }
        
        function openReports() {
            showNotification('Gerando relatórios...', 'info');
        }
        
        function openSettings() {
            showNotification('Abrindo configurações do sistema...', 'info');
        }

        // === TREINAMENTOS EXTRAS ===
        function viewProgress() {
            showNotification('Carregando seu progresso de treinamentos...', 'info');
            setTimeout(() => {
                showNotification('Progresso carregado! 85% de conclusão geral.', 'success');
            }, 1500);
        }

        function createTraining() {
            showNotification('Funcionalidade de criar treinamento disponível para administradores!', 'info');
        }

        function reviewTraining(trainingType) {
            showNotification(`Iniciando revisão do treinamento de ${trainingType}...`, 'info');
        }

        // === PONTO AVANÇADO ===
        function startBreak() {
            const now = new Date();
            const time = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
            
            showNotification(`Pausa iniciada às ${time}`, 'info');
            updateTimeStatus('pause');
            
            // Atualizar status visual
            const statusElement = document.getElementById('currentStatus');
            if (statusElement) {
                statusElement.className = 'w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-4 status-pause';
                statusElement.innerHTML = '<span class="text-white text-lg font-bold">Em Pausa</span>';
            }
        }

        function updateClockDisplay() {
            const now = new Date();
            const clockElement = document.getElementById('clockDisplay');
            const dateElement = document.getElementById('dateDisplay');
            
            if (clockElement) {
                clockElement.textContent = now.toLocaleTimeString('pt-BR');
            }
            
            if (dateElement) {
                dateElement.textContent = now.toLocaleDateString('pt-BR');
            }
        }

        // === PERFIL FUNCTIONS ===
        function toggleSetting(settingType) {
            const button = event.target.closest('.toggle-switch');
            if (button) {
                button.classList.toggle('active');
                const isActive = button.classList.contains('active');
                showNotification(`${settingType.charAt(0).toUpperCase() + settingType.slice(1)} ${isActive ? 'ativado' : 'desativado'}!`, 'success');
            }
        }

        function changeProfileAvatar() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.onchange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const avatar = document.getElementById('profileAvatar');
                        const userAvatar = document.getElementById('userAvatar');
                        if (avatar) {
                            avatar.src = e.target.result;
                        }
                        if (userAvatar) {
                            userAvatar.src = e.target.result;
                        }
                        showNotification('Avatar atualizado com sucesso!', 'success');
                    };
                    reader.readAsDataURL(file);
                }
            };
            input.click();
        }

        // === BASE DE CONHECIMENTO FUNCTIONS ===
        function addDocument() {
            showNotification('Função de adicionar documento disponível para administradores!', 'info');
        }

        function openCategory(category) {
            const categories = {
                'manuais': 'Manuais Operacionais',
                'faq': 'Perguntas Frequentes',
                'processos': 'Processos Técnicos'
            };
            showNotification(`Abrindo categoria: ${categories[category]}`, 'info');
            setTimeout(() => {
                showNotification(`${categories[category]} carregados com sucesso!`, 'success');
            }, 1000);
        }

        function openDocument(docId) {
            const docs = {
                'manual-atendimento': 'Manual de Atendimento 2025',
                'faq-produtos': 'FAQ - Produtos VeloTax'
            };
            showNotification(`Abrindo documento: ${docs[docId]}`, 'info');
            setTimeout(() => {
                showNotification(`Documento "${docs[docId]}" carregado!`, 'success');
            }, 800);
        }

        // === MÍDIA FUNCTIONS ===
        function createFolder() {
            const folderName = prompt('Nome da nova pasta:');
            if (folderName) {
                showNotification(`Pasta "${folderName}" criada com sucesso!`, 'success');
            }
        }

        function uploadFiles() {
            const input = document.createElement('input');
            input.type = 'file';
            input.multiple = true;
            input.onchange = (e) => {
                const files = Array.from(e.target.files);
                showNotification(`${files.length} arquivo(s) sendo enviado(s)...`, 'info');
                setTimeout(() => {
                    showNotification(`Upload de ${files.length} arquivo(s) concluído!`, 'success');
                }, 2000);
            };
            input.click();
        }

        function selectFiles() {
            uploadFiles();
        }

        function downloadFile(fileId) {
            showNotification('Iniciando download...', 'info');
            setTimeout(() => {
                showNotification('Download concluído!', 'success');
            }, 1500);
        }

        function shareFile(fileId) {
            showNotification('Link de compartilhamento copiado para a área de transferência!', 'success');
        }

        function deleteFile(fileId) {
            if (confirm('Tem certeza que deseja excluir este arquivo?')) {
                showNotification('Arquivo excluído com sucesso!', 'success');
                // Remover elemento da interface
                const mediaItem = event.target.closest('.media-item');
                if (mediaItem) {
                    mediaItem.style.animation = 'fadeOut 0.3s ease';
                    setTimeout(() => mediaItem.remove(), 300);
                }
            }
        }

        function toggleView(viewType) {
            const buttons = document.querySelectorAll('.view-toggle');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.closest('.view-toggle').classList.add('active');
            
            const grid = document.getElementById('mediaGrid');
            if (viewType === 'list') {
                grid.className = 'space-y-3';
                showNotification('Visualização alterada para lista', 'info');
            } else {
                grid.className = 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4';
                showNotification('Visualização alterada para grade', 'info');
            }
        }

        // === GEMINI AI FUNCTIONS ===
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (message) {
                addChatMessage(message, 'user');
                input.value = '';
                
                // Simular resposta da IA
                setTimeout(() => {
                    const responses = [
                        'Entendi sua pergunta! Baseado nos dados do sistema, posso te ajudar com isso.',
                        'Ótima pergunta! Aqui estão algumas informações que podem ser úteis.',
                        'Vou analisar os dados do sistema para te dar a melhor resposta.',
                        'Com base no seu histórico de atendimentos, recomendo...',
                        'Posso te ajudar com essa dúvida! Deixe-me verificar as informações.'
                    ];
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    addChatMessage(response, 'assistant');
                }, 1000);
            }
        }

        function addChatMessage(message, type) {
            const container = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${type}`;
            
            const iconClass = type === 'user' ? 'fa-user' : 'fa-robot';
            const iconColor = type === 'user' ? '#34C759' : '#007AFF';
            
            messageDiv.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 rounded-full flex items-center justify-center" style="background: ${iconColor};">
                        <i class="fas ${iconClass} text-white text-sm"></i>
                    </div>
                    <div class="chat-bubble">
                        <p>${message}</p>
                    </div>
                </div>
            `;
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function handleChatInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function clearChat() {
            const container = document.getElementById('chatContainer');
            container.innerHTML = `
                <div class="chat-message assistant">
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-robot text-white text-sm"></i>
                        </div>
                        <div class="chat-bubble">
                            <p>Chat limpo! Como posso ajudá-lo agora?</p>
                        </div>
                    </div>
                </div>
            `;
            showNotification('Conversa limpa com sucesso!', 'info');
        }

        function exportChat() {
            showNotification('Exportando conversa...', 'info');
            setTimeout(() => {
                showNotification('Conversa exportada para Downloads!', 'success');
            }, 1500);
        }

        function quickCommand(command) {
            const commands = {
                'resumo': 'Gerando resumo do seu dia de trabalho...',
                'agenda': 'Carregando sua agenda de hoje...',
                'tickets': 'Buscando tickets pendentes...',
                'ajuda': 'Abrindo guia de uso do sistema...'
            };
            
            const input = document.getElementById('chatInput');
            input.value = commands[command];
            sendMessage();
        }

        function openExternalGemini() {
            window.open('https://gemini.google.com', '_blank');
            showNotification('Gemini AI aberto em nova aba!', 'info');
        }

        // === ADMINISTRAÇÃO FUNCTIONS ===
        function switchAdminTab(tabName) {
            // Remove active class from all tabs
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active', 'text-white', 'border-blue-400');
                tab.classList.add('text-gray-400');
            });
            
            // Hide all tab contents
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Activate selected tab
            const activeTab = event.target.closest('.admin-tab');
            activeTab.classList.add('active', 'text-white', 'border-blue-400');
            activeTab.classList.remove('text-gray-400');
            
            // Show selected content
            document.getElementById(`admin-${tabName}`).classList.remove('hidden');
            
            showNotification(`Carregando ${tabName}...`, 'info');
        }

        function exportSystemData() {
            showNotification('Iniciando exportação de dados do sistema...', 'info');
            
            // Simular processo de exportação
            setTimeout(() => {
                showNotification('Dados do sistema exportados com sucesso!', 'success');
            }, 2000);
        }

        function openSystemSettings() {
            showNotification('Abrindo configurações avançadas do sistema...', 'info');
            
            // Simular abertura de configurações
            setTimeout(() => {
                showNotification('Painel de configurações carregado!', 'success');
            }, 1000);
        }

        function addNewUser() {
            const userName = prompt('Nome do novo usuário:');
            if (userName) {
                showNotification(`Criando usuário "${userName}"...`, 'info');
                setTimeout(() => {
                    showNotification(`Usuário "${userName}" criado com sucesso!`, 'success');
                }, 1500);
            }
        }

        function editUser(userId) {
            const users = {
                'joao': 'João Silva',
                'maria': 'Maria Santos',
                'carlos': 'Carlos Oliveira'
            };
            
            showNotification(`Abrindo editor para ${users[userId]}...`, 'info');
            setTimeout(() => {
                showNotification(`Editor de usuário carregado!`, 'success');
            }, 800);
        }

        function viewUserDetails(userId) {
            const users = {
                'joao': 'João Silva',
                'maria': 'Maria Santos',
                'carlos': 'Carlos Oliveira'
            };
            
            showNotification(`Carregando detalhes de ${users[userId]}...`, 'info');
            setTimeout(() => {
                showNotification(`Perfil detalhado exibido!`, 'success');
            }, 800);
        }

        function toggleUserStatus(userId) {
            const users = {
                'joao': 'João Silva',
                'maria': 'Maria Santos',
                'carlos': 'Carlos Oliveira'
            };
            
            if (confirm(`Deseja alterar o status de ${users[userId]}?`)) {
                showNotification(`Status de ${users[userId]} alterado!`, 'success');
                
                // Simular mudança visual
                const row = event.target.closest('tr');
                const statusBadge = row.querySelector('.badge');
                if (statusBadge.textContent === 'Ativo') {
                    statusBadge.textContent = 'Inativo';
                    statusBadge.className = 'badge badge-error';
                } else {
                    statusBadge.textContent = 'Ativo';
                    statusBadge.className = 'badge badge-success';
                }
            }
        }

        function generateReport(reportType) {
            const reports = {
                'users': 'Relatório de Usuários',
                'performance': 'Relatório de Performance',
                'training': 'Relatório de Treinamentos',
                'attendance': 'Relatório de Ponto'
            };
            
            showNotification(`Gerando ${reports[reportType]}...`, 'info');
            
            // Simular geração de relatório
            setTimeout(() => {
                showNotification(`${reports[reportType]} gerado com sucesso!`, 'success');
                setTimeout(() => {
                    showNotification('Relatório baixado para Downloads!', 'info');
                }, 1000);
                         }, 2500);
         }

         // === BUSCA GLOBAL AVANÇADA ===
         let searchTimeout;
         const searchDatabase = {
             users: [
                 { name: 'João Silva', type: 'Usuário', section: 'admin', description: 'Analista de Atendimento' },
                 { name: 'Maria Santos', type: 'Usuário', section: 'admin', description: 'Supervisora de Qualidade' },
                 { name: 'Carlos Oliveira', type: 'Usuário', section: 'admin', description: 'Coordenador de Treinamentos' }
             ],
             content: [
                 { name: 'Excelência no Atendimento', type: 'Treinamento', section: 'treinamentos', description: 'Curso de comunicação e resolução de problemas' },
                 { name: 'Manual de Atendimento', type: 'Documento', section: 'base', description: 'Guia completo de procedimentos' },
                 { name: 'FAQ Produtos', type: 'Documento', section: 'base', description: 'Perguntas frequentes sobre produtos' },
                 { name: 'Processo de Escalação', type: 'Processo', section: 'processos', description: 'Como escalar problemas complexos' },
                 { name: 'Controle de Ponto', type: 'Sistema', section: 'ponto', description: 'Registro de horários e jornada' },
                 { name: 'Dashboard', type: 'Sistema', section: 'dashboard', description: 'Métricas e indicadores em tempo real' },
                 { name: 'Gemini AI', type: 'Assistente', section: 'gemini', description: 'Chat com inteligência artificial' },
                 { name: 'Relatórios', type: 'Administração', section: 'admin', description: 'Relatórios de sistema e usuários' }
             ]
         };

         function performGlobalSearch() {
             const query = document.getElementById('globalSearch').value.toLowerCase();
             const resultsContainer = document.getElementById('searchResults');
             
             // Clear previous timeout
             clearTimeout(searchTimeout);
             
             if (query.length < 2) {
                 resultsContainer.classList.add('hidden');
                 return;
             }
             
             // Debounce search
             searchTimeout = setTimeout(() => {
                 const results = searchContent(query);
                 displaySearchResults(results);
                 resultsContainer.classList.remove('hidden');
             }, 300);
         }

         function searchContent(query) {
             const allItems = [...searchDatabase.users, ...searchDatabase.content];
             return allItems.filter(item => 
                 item.name.toLowerCase().includes(query) ||
                 item.description.toLowerCase().includes(query) ||
                 item.type.toLowerCase().includes(query)
             ).slice(0, 8); // Limit to 8 results
         }

         function displaySearchResults(results) {
             const contentContainer = document.getElementById('searchContent');
             
             if (results.length === 0) {
                 contentContainer.innerHTML = `
                     <div class="text-center py-4">
                         <i class="fas fa-search text-gray-500 text-2xl mb-2"></i>
                         <p class="text-gray-400">Nenhum resultado encontrado</p>
                     </div>
                 `;
                 return;
             }
             
             contentContainer.innerHTML = results.map(item => `
                 <div class="search-result-item p-3 rounded-lg bg-white bg-opacity-5 hover:bg-opacity-10 cursor-pointer transition-all"
                      onclick="selectSearchResult('${item.section}', '${item.name}')">
                     <div class="flex items-center space-x-3">
                         <div class="w-10 h-10 bg-blue-500 bg-opacity-20 rounded-lg flex items-center justify-center">
                             <i class="fas fa-${getIconForType(item.type)} text-blue-400"></i>
                         </div>
                         <div class="flex-1">
                             <div class="text-white font-medium">${item.name}</div>
                             <div class="text-gray-400 text-sm">${item.description}</div>
                         </div>
                         <div class="text-xs text-gray-500 bg-gray-700 px-2 py-1 rounded">
                             ${item.type}
                         </div>
                     </div>
                 </div>
             `).join('');
         }

         function getIconForType(type) {
             const icons = {
                 'Usuário': 'user',
                 'Treinamento': 'graduation-cap',
                 'Documento': 'file-alt',
                 'Processo': 'cogs',
                 'Sistema': 'desktop',
                 'Assistente': 'robot',
                 'Administração': 'shield-alt'
             };
             return icons[type] || 'search';
         }

         function selectSearchResult(section, itemName) {
             showSection(section);
             document.getElementById('globalSearch').value = '';
             document.getElementById('searchResults').classList.add('hidden');
             showNotification(`Navegando para: ${itemName}`, 'info');
         }

         function showSearchSuggestions() {
             const contentContainer = document.getElementById('searchContent');
             const resultsContainer = document.getElementById('searchResults');
             
             if (document.getElementById('globalSearch').value === '') {
                 contentContainer.innerHTML = `
                     <div class="space-y-2">
                         <div class="text-gray-400 text-sm mb-3">Sugestões populares</div>
                         <div class="search-suggestion p-2 rounded hover:bg-white hover:bg-opacity-5 cursor-pointer" onclick="searchFor('usuários')">
                             <i class="fas fa-users mr-2 text-blue-400"></i>Usuários
                         </div>
                         <div class="search-suggestion p-2 rounded hover:bg-white hover:bg-opacity-5 cursor-pointer" onclick="searchFor('treinamentos')">
                             <i class="fas fa-graduation-cap mr-2 text-green-400"></i>Treinamentos
                         </div>
                         <div class="search-suggestion p-2 rounded hover:bg-white hover:bg-opacity-5 cursor-pointer" onclick="searchFor('documentos')">
                             <i class="fas fa-file-alt mr-2 text-yellow-400"></i>Documentos
                         </div>
                         <div class="search-suggestion p-2 rounded hover:bg-white hover:bg-opacity-5 cursor-pointer" onclick="searchFor('relatórios')">
                             <i class="fas fa-chart-bar mr-2 text-purple-400"></i>Relatórios
                         </div>
                     </div>
                 `;
                 resultsContainer.classList.remove('hidden');
             }
         }

         function searchFor(term) {
             document.getElementById('globalSearch').value = term;
             performGlobalSearch();
         }

                   // Close search when clicking outside
          document.addEventListener('click', function(event) {
              const searchContainer = event.target.closest('#globalSearch, #searchResults');
              if (!searchContainer) {
                  document.getElementById('searchResults').classList.add('hidden');
              }
          });

          // === SISTEMA DE NOTIFICAÇÕES AVANÇADO ===
          let notifications = [
              { id: 1, type: 'system', title: 'Sistema Atualizado', message: 'Nova versão do VeloNet disponível', time: '2 min atrás', read: false },
              { id: 2, type: 'user', title: 'Nova Mensagem', message: 'João Silva enviou uma mensagem', time: '5 min atrás', read: false },
              { id: 3, type: 'alert', title: 'Backup Concluído', message: 'Backup automático realizado com sucesso', time: '1 hora atrás', read: false },
              { id: 4, type: 'system', title: 'Manutenção Programada', message: 'Manutenção agendada para amanhã às 2h', time: '2 horas atrás', read: true },
              { id: 5, type: 'user', title: 'Aniversário', message: 'Hoje é aniversário de Maria Santos', time: '3 horas atrás', read: false }
          ];

          function showNotificationCenter() {
              document.getElementById('notificationCenter').classList.remove('hidden');
              updateNotificationsList();
          }

          function closeNotificationCenter() {
              document.getElementById('notificationCenter').classList.add('hidden');
          }

          function updateNotificationsList(filter = 'all') {
              const list = document.getElementById('notificationsList');
              const filteredNotifications = filter === 'all' ? notifications : notifications.filter(n => n.type === filter);
              
              list.innerHTML = filteredNotifications.map(notification => `
                  <div class="notification-item p-3 rounded-lg ${notification.read ? 'bg-white bg-opacity-5' : 'bg-blue-500 bg-opacity-10'} cursor-pointer hover:bg-opacity-15 transition-all"
                       onclick="markAsRead(${notification.id})">
                      <div class="flex items-start space-x-3">
                          <div class="w-8 h-8 ${getNotificationColor(notification.type)} rounded-full flex items-center justify-center">
                              <i class="fas fa-${getNotificationIcon(notification.type)} text-white text-sm"></i>
                          </div>
                          <div class="flex-1">
                              <div class="flex items-center space-x-2">
                                  <h4 class="text-white font-medium text-sm">${notification.title}</h4>
                                  ${!notification.read ? '<div class="w-2 h-2 bg-blue-400 rounded-full"></div>' : ''}
                              </div>
                              <p class="text-gray-400 text-xs">${notification.message}</p>
                              <p class="text-gray-500 text-xs mt-1">${notification.time}</p>
                          </div>
                      </div>
                  </div>
              `).join('');
              
              updateNotificationBadge();
          }

          function getNotificationColor(type) {
              const colors = {
                  'system': 'bg-blue-500',
                  'user': 'bg-green-500',
                  'alert': 'bg-red-500'
              };
              return colors[type] || 'bg-gray-500';
          }

          function getNotificationIcon(type) {
              const icons = {
                  'system': 'cog',
                  'user': 'user',
                  'alert': 'exclamation-triangle'
              };
              return icons[type] || 'bell';
          }

          function markAsRead(notificationId) {
              const notification = notifications.find(n => n.id === notificationId);
              if (notification) {
                  notification.read = true;
                  updateNotificationsList();
                  showNotification('Notificação marcada como lida', 'success');
              }
          }

          function markAllAsRead() {
              notifications.forEach(n => n.read = true);
              updateNotificationsList();
              showNotification('Todas as notificações marcadas como lidas!', 'success');
          }

          function filterNotifications(type) {
              // Update filter buttons
              document.querySelectorAll('.notification-filter').forEach(btn => {
                  btn.classList.remove('active', 'bg-blue-500', 'text-white');
                  btn.classList.add('bg-gray-600', 'text-gray-300');
              });
              event.target.classList.add('active', 'bg-blue-500', 'text-white');
              event.target.classList.remove('bg-gray-600', 'text-gray-300');
              
              updateNotificationsList(type);
          }

          function updateNotificationBadge() {
              const unreadCount = notifications.filter(n => !n.read).length;
              const badge = document.getElementById('notificationBadge');
              if (unreadCount > 0) {
                  badge.textContent = unreadCount;
                  badge.classList.remove('hidden');
              } else {
                  badge.classList.add('hidden');
              }
          }

          function openNotificationSettings() {
              showNotification('Abrindo configurações de notificação...', 'info');
              closeNotificationCenter();
          }

          // === SISTEMA DE CALENDÁRIO ===
          let currentDate = new Date();
          let currentView = 'month';
          
          function generateCalendar() {
              const grid = document.getElementById('calendarGrid');
              const monthYear = document.getElementById('currentMonthYear');
              
              const months = ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho',
                             'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'];
              
              monthYear.textContent = `${months[currentDate.getMonth()]} ${currentDate.getFullYear()}`;
              
              // Clear grid
              grid.innerHTML = '';
              
              // Add day headers
              const dayHeaders = ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'];
              dayHeaders.forEach(day => {
                  const dayHeader = document.createElement('div');
                  dayHeader.className = 'text-center text-gray-400 text-sm font-medium py-2';
                  dayHeader.textContent = day;
                  grid.appendChild(dayHeader);
              });
              
              // Get first day of month and number of days
              const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
              const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
              const startDate = new Date(firstDay);
              startDate.setDate(startDate.getDate() - firstDay.getDay());
              
              // Generate calendar days
              for (let i = 0; i < 42; i++) {
                  const cellDate = new Date(startDate);
                  cellDate.setDate(startDate.getDate() + i);
                  
                  const dayCell = document.createElement('div');
                  const isCurrentMonth = cellDate.getMonth() === currentDate.getMonth();
                  const isToday = cellDate.toDateString() === new Date().toDateString();
                  
                  dayCell.className = `calendar-day text-center p-2 cursor-pointer rounded transition-all ${
                      isCurrentMonth ? 'text-white hover:bg-white hover:bg-opacity-10' : 'text-gray-600'
                  } ${isToday ? 'bg-blue-500 text-white' : ''}`;
                  
                  dayCell.textContent = cellDate.getDate();
                  dayCell.onclick = () => selectDate(cellDate);
                  
                  // Add event indicators
                  if (hasEvents(cellDate)) {
                      const indicator = document.createElement('div');
                      indicator.className = 'w-2 h-2 bg-green-400 rounded-full mx-auto mt-1';
                      dayCell.appendChild(indicator);
                  }
                  
                  grid.appendChild(dayCell);
              }
          }

          function previousMonth() {
              currentDate.setMonth(currentDate.getMonth() - 1);
              generateCalendar();
          }

          function nextMonth() {
              currentDate.setMonth(currentDate.getMonth() + 1);
              generateCalendar();
          }

          function setCalendarView(view) {
              currentView = view;
              
              // Update view buttons
              document.querySelectorAll('.calendar-view-btn').forEach(btn => {
                  btn.classList.remove('active', 'bg-blue-500', 'text-white');
                  btn.classList.add('bg-gray-600', 'text-gray-300');
              });
              event.target.classList.add('active', 'bg-blue-500', 'text-white');
              event.target.classList.remove('bg-gray-600', 'text-gray-300');
              
              showNotification(`Visualização alterada para: ${view}`, 'info');
              generateCalendar();
          }

          function hasEvents(date) {
              // Simulate events on specific dates
              const day = date.getDate();
              return [5, 12, 18, 25].includes(day);
          }

          function selectDate(date) {
              showNotification(`Data selecionada: ${date.toLocaleDateString('pt-BR')}`, 'info');
          }

          function addNewEvent() {
              const eventName = prompt('Nome do evento:');
              if (eventName) {
                  showNotification(`Evento "${eventName}" criado com sucesso!`, 'success');
              }
          }

          function joinMeeting(meetingId) {
              showNotification('Entrando na reunião...', 'info');
              setTimeout(() => {
                  showNotification('Conectado à reunião!', 'success');
              }, 1500);
          }

          function joinTraining(trainingId) {
              showNotification('Acessando treinamento...', 'info');
              setTimeout(() => {
                  showNotification('Treinamento iniciado!', 'success');
              }, 1000);
          }

          function prepareOneOnOne(meetingId) {
              showNotification('Preparando checklist para 1:1...', 'info');
              setTimeout(() => {
                  showNotification('Checklist carregado!', 'success');
              }, 800);
          }

          function editEvent(eventId) {
              showNotification(`Editando evento ${eventId}...`, 'info');
          }

          function setReminder(eventId) {
              showNotification('Lembrete configurado!', 'success');
          }

          function sendWishes(eventId) {
              showNotification('Parabéns enviados!', 'success');
          }

          function scheduleBreak() {
              const breakTime = prompt('Horário da pausa (ex: 15:30):');
              if (breakTime) {
                  showNotification(`Pausa agendada para ${breakTime}`, 'success');
              }
          }

          function bookRoom() {
              showNotification('Abrindo sistema de reserva de salas...', 'info');
          }

          // === SISTEMA AVANÇADO DE FUNCIONALIDADES ===
          
          // Funcionalidades VeloNews
          function addVeloNews() {
              const title = prompt('Título da notícia:');
              if (title) {
                  showNotification(`📰 Notícia "${title}" criada no VeloNews!`, 'success');
                  // Simular adição à lista
                  setTimeout(() => {
                      showNotification('Notícia publicada com sucesso!', 'success');
                  }, 2000);
              }
          }

          function shareNews(newsId) {
              if (navigator.share) {
                  navigator.share({
                      title: 'VeloNews - Notícia',
                      text: 'Confira esta notícia do VeloNews',
                      url: window.location.href
                  });
              } else {
                  // Fallback para cópia do link
                  navigator.clipboard.writeText(window.location.href);
                  showNotification('Link copiado para a área de transferência!', 'success');
              }
          }

          function reactToNews(newsId, reaction) {
              const reactions = { like: '👍', love: '❤️', helpful: '💡', wow: '😮' };
              showNotification(`Você reagiu com ${reactions[reaction]} à notícia!`, 'success');
              
              // Atualizar contador visual
              const reactionBtn = document.querySelector(`[onclick="reactToNews('${newsId}', '${reaction}')"]`);
              if (reactionBtn) {
                  const currentCount = parseInt(reactionBtn.textContent.match(/\d+/)?.[0] || '0');
                  reactionBtn.innerHTML = reactionBtn.innerHTML.replace(/\d+/, currentCount + 1);
                  reactionBtn.classList.add('animate-pulse');
                  setTimeout(() => reactionBtn.classList.remove('animate-pulse'), 1000);
              }
          }

          // === VELOACADEMY SISTEMA COMPLETO ===
          
          let currentCourse = null;
          let courseProgress = JSON.parse(localStorage.getItem('courseProgress') || '{}');
          let userCertificates = JSON.parse(localStorage.getItem('userCertificates') || '[]');
          
          const courseDatabase = {
              'course1': {
                  id: 'course1',
                  title: 'Excelência no Atendimento',
                  instructor: 'Prof. Maria Silva',
                  duration: '4h 30min',
                  level: 'Básico',
                  description: 'Curso completo sobre excelência no atendimento ao cliente.',
                  thumbnail: 'https://via.placeholder.com/300x200/007AFF/FFFFFF?text=Atendimento',
                  modules: [
                      {
                          id: 'mod1',
                          title: 'Fundamentos do Atendimento',
                          lessons: [
                              { id: 'les1', title: 'Princípios do Atendimento', duration: '15min', type: 'video', content: 'Introdução aos conceitos básicos de atendimento ao cliente.' },
                              { id: 'les2', title: 'Comunicação Verbal e Não-Verbal', duration: '20min', type: 'video', content: 'Como se comunicar efetivamente com clientes.' },
                              { id: 'les3', title: 'Quiz - Conceitos Básicos', duration: '10min', type: 'quiz', content: 'Teste seus conhecimentos sobre atendimento.' }
                          ]
                      },
                      {
                          id: 'mod2',
                          title: 'Técnicas Avançadas',
                          lessons: [
                              { id: 'les4', title: 'Resolução de Conflitos', duration: '25min', type: 'video', content: 'Como lidar com situações difíceis no atendimento.' },
                              { id: 'les5', title: 'Fidelização de Clientes', duration: '30min', type: 'video', content: 'Estratégias para manter clientes satisfeitos.' },
                              { id: 'les6', title: 'Exercício Prático', duration: '20min', type: 'exercise', content: 'Pratique situações reais de atendimento.' }
                          ]
                      },
                      {
                          id: 'mod3',
                          title: 'Avaliação Final',
                          lessons: [
                              { id: 'les7', title: 'Revisão Geral', duration: '20min', type: 'video', content: 'Revisão de todos os conceitos aprendidos.' },
                              { id: 'les8', title: 'Prova Final', duration: '30min', type: 'exam', content: 'Avaliação final do curso com certificação.' }
                          ]
                      }
                  ]
              },
              'course2': {
                  id: 'course2',
                  title: 'Conhecimento de Produtos',
                  instructor: 'Dr. João Santos',
                  duration: '3h 45min',
                  level: 'Intermediário',
                  description: 'Conheça profundamente os produtos e serviços da VeloTax.',
                  thumbnail: 'https://via.placeholder.com/300x200/28A745/FFFFFF?text=Produtos',
                  modules: [
                      {
                          id: 'mod1',
                          title: 'Portfolio VeloTax',
                          lessons: [
                              { id: 'les1', title: 'Sistema VeloTax Core', duration: '25min', type: 'video', content: 'Funcionalidades principais do sistema.' },
                              { id: 'les2', title: 'Módulos Adicionais', duration: '20min', type: 'video', content: 'Módulos especializados do sistema.' },
                              { id: 'les3', title: 'Casos de Uso', duration: '30min', type: 'case-study', content: 'Exemplos práticos de implementação.' }
                          ]
                      },
                      {
                          id: 'mod2',
                          title: 'Demonstrações Práticas',
                          lessons: [
                              { id: 'les4', title: 'Demo Interativa', duration: '40min', type: 'exercise', content: 'Demonstração hands-on do sistema.' },
                              { id: 'les5', title: 'Avaliação de Produtos', duration: '25min', type: 'exam', content: 'Teste de conhecimento dos produtos.' }
                          ]
                      }
                  ]
              },
              'course3': {
                  id: 'course3',
                  title: 'Técnicas de Vendas',
                  instructor: 'Ana Costa',
                  duration: '5h 20min',
                  level: 'Avançado',
                  description: 'Domine as técnicas mais eficazes de vendas consultivas.',
                  thumbnail: 'https://via.placeholder.com/300x200/DC3545/FFFFFF?text=Vendas',
                  modules: [
                      {
                          id: 'mod1',
                          title: 'Fundamentos de Vendas',
                          lessons: [
                              { id: 'les1', title: 'Processo de Vendas', duration: '30min', type: 'video', content: 'Etapas do processo de vendas eficaz.' },
                              { id: 'les2', title: 'Qualificação de Leads', duration: '25min', type: 'video', content: 'Como identificar prospects qualificados.' },
                              { id: 'les3', title: 'Apresentação de Propostas', duration: '35min', type: 'video', content: 'Técnicas para apresentações persuasivas.' }
                          ]
                      }
                  ]
              }
          };

          function startCourse(courseId) {
              const course = courseDatabase[courseId];
              if (!course) {
                  showNotification('❌ Curso não encontrado!', 'error');
                  return;
              }
              
              currentCourse = course;
              
              // Inicializar progresso se não existir
              if (!courseProgress[courseId]) {
                  courseProgress[courseId] = {
                      started: true,
                      currentModule: 0,
                      currentLesson: 0,
                      completedLessons: [],
                      startDate: new Date().toISOString(),
                      lastAccessed: new Date().toISOString()
                  };
                  saveCourseProgress();
              }
              
              showCoursePlayer(course);
              showNotification(`📚 Curso "${course.title}" iniciado com sucesso!`, 'success');
          }

          function continueCourse(courseId) {
              const course = courseDatabase[courseId];
              const progress = courseProgress[courseId];
              
              if (!course) {
                  showNotification('❌ Curso não encontrado!', 'error');
                  return;
              }
              
              if (!progress) {
                  startCourse(courseId);
                  return;
              }
              
              currentCourse = course;
              
              // Atualizar último acesso
              progress.lastAccessed = new Date().toISOString();
              saveCourseProgress();
              
              showCoursePlayer(course, progress.currentModule, progress.currentLesson);
              showNotification(`📖 Continuando curso "${course.title}" de onde parou!`, 'info');
          }

          function showCoursePlayer(course, moduleIndex = 0, lessonIndex = 0) {
              const modal = document.createElement('div');
              modal.className = 'fixed inset-0 bg-black bg-opacity-50 backdrop-filter backdrop-blur-sm z-50 flex items-center justify-center p-4';
              modal.id = 'coursePlayerModal';
              
              const currentModule = course.modules[moduleIndex];
              const currentLesson = currentModule.lessons[lessonIndex];
              const progress = courseProgress[course.id] || {};
              const completionPercentage = calculateCourseCompletion(course.id);
              
              modal.innerHTML = `
                  <div class="glass-panel w-full max-w-6xl h-full max-h-[90vh] overflow-hidden flex">
                      <!-- Sidebar do Curso -->
                      <div class="w-80 bg-gray-800 bg-opacity-50 p-6 overflow-y-auto">
                          <div class="flex justify-between items-start mb-6">
                              <div>
                                  <h3 class="text-xl font-bold text-white mb-2">${course.title}</h3>
                                  <p class="text-gray-400 text-sm">Prof. ${course.instructor}</p>
                                  <p class="text-gray-400 text-sm">${course.duration} • ${course.level}</p>
                              </div>
                              <button onclick="closeCoursePlayer()" class="text-gray-400 hover:text-white">
                                  <i class="fas fa-times text-xl"></i>
                              </button>
                          </div>
                          
                          <div class="mb-6">
                              <div class="flex justify-between items-center mb-2">
                                  <span class="text-white text-sm">Progresso</span>
                                  <span class="text-blue-400 text-sm">${completionPercentage}%</span>
                              </div>
                              <div class="progress-bar h-2">
                                  <div class="progress-fill h-full" style="width: ${completionPercentage}%"></div>
                              </div>
                          </div>
                          
                          <div class="space-y-4">
                              ${course.modules.map((module, mIndex) => `
                                  <div class="course-module">
                                      <div class="flex items-center justify-between p-3 bg-gray-700 bg-opacity-50 rounded-lg cursor-pointer"
                                           onclick="toggleModule(${mIndex})">
                                          <span class="text-white font-medium">${module.title}</span>
                                          <i class="fas fa-chevron-down text-gray-400 module-chevron-${mIndex}"></i>
                                      </div>
                                      <div class="module-lessons-${mIndex} mt-2 space-y-1 ${mIndex === moduleIndex ? '' : 'hidden'}">
                                          ${module.lessons.map((lesson, lIndex) => {
                                              const isCompleted = progress.completedLessons?.includes(`${mIndex}-${lIndex}`);
                                              const isCurrent = mIndex === moduleIndex && lIndex === lessonIndex;
                                              return `
                                                  <div class="flex items-center p-2 rounded cursor-pointer lesson-item ${isCurrent ? 'bg-blue-600 bg-opacity-50' : 'hover:bg-gray-600 hover:bg-opacity-30'}"
                                                       onclick="playLesson(${mIndex}, ${lIndex})">
                                                      <i class="fas fa-${getLessonIcon(lesson.type)} text-${isCurrent ? 'blue' : 'gray'}-400 w-4 mr-3"></i>
                                                      <div class="flex-1">
                                                          <p class="text-white text-sm">${lesson.title}</p>
                                                          <p class="text-gray-400 text-xs">${lesson.duration}</p>
                                                      </div>
                                                      ${isCompleted ? '<i class="fas fa-check-circle text-green-400"></i>' : ''}
                                                  </div>
                                              `;
                                          }).join('')}
                                      </div>
                                  </div>
                              `).join('')}
                          </div>
                          
                          ${completionPercentage === 100 ? `
                              <button onclick="generateCertificate('${course.id}')" class="btn-primary w-full mt-6">
                                  <i class="fas fa-certificate mr-2"></i>Gerar Certificado
                              </button>
                          ` : ''}
                      </div>
                      
                      <!-- Área Principal do Player -->
                      <div class="flex-1 flex flex-col">
                          <!-- Header da Aula -->
                          <div class="p-6 border-b border-gray-600">
                              <h2 class="text-2xl font-bold text-white mb-2">${currentLesson.title}</h2>
                              <div class="flex items-center space-x-4 text-gray-400">
                                  <span><i class="fas fa-${getLessonIcon(currentLesson.type)} mr-2"></i>${getLessonTypeLabel(currentLesson.type)}</span>
                                  <span><i class="fas fa-clock mr-2"></i>${currentLesson.duration}</span>
                                  <span>Módulo ${moduleIndex + 1} - Aula ${lessonIndex + 1}</span>
                              </div>
                          </div>
                          
                          <!-- Conteúdo da Aula -->
                          <div class="flex-1 p-6 overflow-y-auto" id="lessonContent">
                              ${generateLessonContent(currentLesson)}
                          </div>
                          
                          <!-- Controles de Navegação -->
                          <div class="p-6 border-t border-gray-600 flex justify-between items-center">
                              <button onclick="previousLesson()" 
                                      class="btn-secondary ${moduleIndex === 0 && lessonIndex === 0 ? 'opacity-50 cursor-not-allowed' : ''}"
                                      ${moduleIndex === 0 && lessonIndex === 0 ? 'disabled' : ''}>
                                  <i class="fas fa-chevron-left mr-2"></i>Anterior
                              </button>
                              
                              <div class="flex space-x-3">
                                  <button onclick="markLessonCompleted(${moduleIndex}, ${lessonIndex})" class="btn-primary">
                                      <i class="fas fa-check mr-2"></i>Marcar como Concluída
                                  </button>
                                  <button onclick="addBookmark(${moduleIndex}, ${lessonIndex})" class="btn-secondary">
                                      <i class="fas fa-bookmark mr-2"></i>Favoritar
                                  </button>
                              </div>
                              
                              <button onclick="nextLesson()" class="btn-primary">
                                  Próximo<i class="fas fa-chevron-right ml-2"></i>
                              </button>
                          </div>
                      </div>
                  </div>
              `;
              
              document.body.appendChild(modal);
          }

          function downloadCertificate(courseId) {
              generateCertificate(courseId);
          }

          // === FUNÇÕES AUXILIARES DO CURSO ===
          
          function getLessonIcon(type) {
              const icons = {
                  'video': 'play-circle',
                  'quiz': 'question-circle',
                  'exercise': 'edit',
                  'exam': 'graduation-cap',
                  'case-study': 'briefcase',
                  'project': 'project-diagram'
              };
              return icons[type] || 'file-alt';
          }

          function getLessonTypeLabel(type) {
              const labels = {
                  'video': 'Vídeo Aula',
                  'quiz': 'Quiz',
                  'exercise': 'Exercício',
                  'exam': 'Avaliação',
                  'case-study': 'Estudo de Caso',
                  'project': 'Projeto'
              };
              return labels[type] || 'Conteúdo';
          }

          function generateLessonContent(lesson) {
              switch (lesson.type) {
                  case 'video':
                      return `
                          <div class="text-center">
                              <div class="bg-gray-800 rounded-lg p-8 mb-6 aspect-video flex items-center justify-center relative overflow-hidden">
                                  <div class="absolute inset-0 bg-gradient-to-br from-blue-600 to-purple-600 opacity-20"></div>
                                  <div class="text-center z-10">
                                      <i class="fas fa-play-circle text-6xl text-blue-400 mb-4 cursor-pointer hover:text-blue-300 transition-colors animate-pulse"
                                         onclick="playVideo('${lesson.id}')"></i>
                                      <p class="text-white text-lg font-semibold">Clique para reproduzir o vídeo</p>
                                      <p class="text-gray-300">${lesson.title}</p>
                                      <div class="mt-4 flex justify-center space-x-4 text-sm text-gray-400">
                                          <span><i class="fas fa-clock mr-1"></i>${lesson.duration}</span>
                                          <span><i class="fas fa-hd-video mr-1"></i>HD Quality</span>
                                      </div>
                                  </div>
                              </div>
                              <div class="text-left bg-gray-800 bg-opacity-30 p-6 rounded-lg">
                                  <h4 class="text-white font-semibold mb-3 flex items-center">
                                      <i class="fas fa-info-circle mr-2 text-blue-400"></i>Sobre esta aula
                                  </h4>
                                  <p class="text-gray-300 leading-relaxed">${lesson.content}</p>
                                  <div class="mt-4 flex space-x-3">
                                      <button onclick="toggleTranscript()" class="btn-secondary text-sm">
                                          <i class="fas fa-closed-captioning mr-1"></i>Transcrição
                                      </button>
                                      <button onclick="toggleNotes()" class="btn-secondary text-sm">
                                          <i class="fas fa-sticky-note mr-1"></i>Anotações
                                      </button>
                                  </div>
                              </div>
                          </div>
                      `;
                  case 'quiz':
                      return generateQuizContent(lesson);
                  case 'exercise':
                      return generateExerciseContent(lesson);
                  case 'exam':
                      return generateExamContent(lesson);
                  case 'case-study':
                      return `
                          <div class="max-w-3xl mx-auto">
                              <div class="text-center mb-8">
                                  <i class="fas fa-briefcase text-5xl text-orange-400 mb-4"></i>
                                  <h4 class="text-white font-bold text-xl mb-2">Estudo de Caso</h4>
                                  <p class="text-gray-400">${lesson.content}</p>
                              </div>
                              
                              <div class="bg-gray-800 p-6 rounded-lg mb-6">
                                  <h5 class="text-white font-semibold mb-4">Cenário:</h5>
                                  <p class="text-gray-300 mb-4">
                                      Uma empresa de médio porte está enfrentando dificuldades no atendimento ao cliente.
                                      As reclamações aumentaram 40% nos últimos 3 meses e a satisfação caiu para 2.1/5.
                                  </p>
                                  <h6 class="text-white font-medium mb-2">Dados importantes:</h6>
                                  <ul class="text-gray-300 space-y-1">
                                      <li>• Tempo médio de resposta: 48 horas</li>
                                      <li>• Taxa de resolução na primeira chamada: 35%</li>
                                      <li>• Equipe de atendimento: 8 pessoas</li>
                                      <li>• Volume médio: 200 chamadas/dia</li>
                                  </ul>
                              </div>
                              
                              <div class="space-y-4">
                                  <div class="bg-gray-800 p-4 rounded-lg">
                                      <h6 class="text-white font-medium mb-2">Questão 1: Qual é o principal problema?</h6>
                                      <textarea class="w-full h-20 bg-gray-700 text-white p-3 rounded border-gray-600" 
                                                placeholder="Analise os dados e identifique o problema principal..."></textarea>
                                  </div>
                                  
                                  <div class="bg-gray-800 p-4 rounded-lg">
                                      <h6 class="text-white font-medium mb-2">Questão 2: Proposta de solução:</h6>
                                      <textarea class="w-full h-32 bg-gray-700 text-white p-3 rounded border-gray-600" 
                                                placeholder="Descreva sua proposta de melhoria..."></textarea>
                                  </div>
                              </div>
                              
                              <button onclick="submitCaseStudy()" class="btn-primary w-full mt-6">
                                  <i class="fas fa-paper-plane mr-2"></i>Enviar Análise
                              </button>
                          </div>
                      `;
                  default:
                      return `
                          <div class="max-w-4xl mx-auto">
                              <div class="bg-gray-800 bg-opacity-30 p-8 rounded-lg">
                                  <h4 class="text-white font-semibold mb-4 flex items-center">
                                      <i class="fas fa-book-open mr-3 text-green-400"></i>Conteúdo da Aula
                                  </h4>
                                  <div class="prose prose-invert max-w-none">
                                      <p class="text-gray-300 leading-relaxed text-lg">${lesson.content}</p>
                                  </div>
                                  <div class="mt-6 p-4 bg-blue-900 bg-opacity-30 rounded-lg border-l-4 border-blue-400">
                                      <p class="text-blue-100 text-sm">
                                          <i class="fas fa-lightbulb mr-2"></i>
                                          <strong>Dica:</strong> Tome notas durante o estudo para melhor fixação do conteúdo.
                                      </p>
                                  </div>
                              </div>
                          </div>
                      `;
              }
          }

          function generateQuizContent(lesson) {
              const questions = [
                  {
                      question: "Qual é o principal objetivo do atendimento ao cliente?",
                      options: [
                          "Vender mais produtos",
                          "Resolver problemas e satisfazer necessidades",
                          "Reduzir custos operacionais",
                          "Aumentar o tempo de chamada"
                      ],
                      correct: 1
                  },
                  {
                      question: "Qual técnica é mais eficaz para lidar com clientes irritados?",
                      options: [
                          "Argumentar e defender a empresa",
                          "Escuta ativa e empatia",
                          "Transferir para outro setor",
                          "Dar desconto imediatamente"
                      ],
                      correct: 1
                  },
                  {
                      question: "O que significa 'primeira chamada resolvida'?",
                      options: [
                          "Atender rapidamente",
                          "Resolver o problema na primeira tentativa",
                          "Ser educado no atendimento",
                          "Registrar corretamente a chamada"
                      ],
                      correct: 1
                  }
              ];
              
              return `
                  <div class="max-w-3xl mx-auto">
                      <div class="text-center mb-8">
                          <i class="fas fa-question-circle text-5xl text-yellow-400 mb-4"></i>
                          <h4 class="text-white font-bold text-xl mb-2">Quiz de Conhecimento</h4>
                          <p class="text-gray-400">${lesson.content}</p>
                          <div class="mt-4 flex justify-center space-x-6 text-sm">
                              <span class="text-gray-300"><i class="fas fa-clock mr-1"></i>15 minutos</span>
                              <span class="text-gray-300"><i class="fas fa-question mr-1"></i>${questions.length} questões</span>
                              <span class="text-gray-300"><i class="fas fa-percentage mr-1"></i>70% para passar</span>
                          </div>
                      </div>
                      
                      <div id="quizContainer" class="space-y-6">
                          ${questions.map((q, index) => `
                              <div class="quiz-question bg-gray-800 p-6 rounded-lg border border-gray-600">
                                  <h5 class="text-white font-semibold mb-4">
                                      Pergunta ${index + 1} de ${questions.length}
                                  </h5>
                                  <p class="text-gray-300 mb-4 text-lg">${q.question}</p>
                                  <div class="space-y-3">
                                      ${q.options.map((option, optIndex) => `
                                          <label class="flex items-center space-x-3 cursor-pointer p-3 rounded hover:bg-gray-700 transition-colors">
                                              <input type="radio" name="q${index}" value="${optIndex}" class="text-blue-500">
                                              <span class="text-gray-300">${option}</span>
                                          </label>
                                      `).join('')}
                                  </div>
                              </div>
                          `).join('')}
                      </div>
                      
                      <div class="text-center mt-8">
                          <button onclick="submitQuiz()" class="btn-primary text-lg px-8 py-3">
                              <i class="fas fa-check mr-2"></i>Enviar Respostas
                          </button>
                          <p class="text-gray-400 text-sm mt-2">
                              Certifique-se de responder todas as perguntas antes de enviar.
                          </p>
                      </div>
                  </div>
              `;
          }

          function generateExerciseContent(lesson) {
              return `
                  <div class="max-w-4xl mx-auto">
                      <div class="text-center mb-8">
                          <i class="fas fa-edit text-5xl text-green-400 mb-4"></i>
                          <h4 class="text-white font-bold text-xl mb-2">Exercício Prático</h4>
                          <p class="text-gray-400">${lesson.content}</p>
                      </div>
                      
                      <div class="bg-gray-800 p-6 rounded-lg mb-6 border border-gray-600">
                          <h5 class="text-white font-semibold mb-4 flex items-center">
                              <i class="fas fa-scenario mr-2 text-blue-400"></i>Situação Prática
                          </h5>
                          <div class="bg-gray-900 p-4 rounded-lg mb-4">
                              <p class="text-gray-300 mb-3">
                                  <strong>Cenário:</strong> Um cliente liga reclamando que seu produto chegou com defeito há 3 dias, 
                                  mas ainda não teve retorno do primeiro contato. Ele está visivelmente irritado e ameaça cancelar a compra.
                              </p>
                              <p class="text-gray-300">
                                  <strong>Sua missão:</strong> Resolva esta situação aplicando as técnicas de atendimento aprendidas.
                              </p>
                          </div>
                      </div>
                      
                      <div class="space-y-6">
                          <div class="bg-gray-800 p-6 rounded-lg">
                              <h6 class="text-white font-medium mb-3">1. Como você iniciaria a conversa?</h6>
                              <textarea class="w-full h-24 bg-gray-700 text-white p-3 rounded border-gray-600" 
                                        placeholder="Escreva como você cumprimentaria e abordaria o cliente..."></textarea>
                          </div>
                          
                          <div class="bg-gray-800 p-6 rounded-lg">
                              <h6 class="text-white font-medium mb-3">2. Que perguntas você faria para entender o problema?</h6>
                              <textarea class="w-full h-24 bg-gray-700 text-white p-3 rounded border-gray-600" 
                                        placeholder="Liste as perguntas que faria para coletar informações..."></textarea>
                          </div>
                          
                          <div class="bg-gray-800 p-6 rounded-lg">
                              <h6 class="text-white font-medium mb-3">3. Qual seria sua proposta de solução?</h6>
                              <textarea class="w-full h-32 bg-gray-700 text-white p-3 rounded border-gray-600" 
                                        placeholder="Descreva detalhadamente como resolveria o problema..."></textarea>
                          </div>
                          
                          <div class="bg-gray-800 p-6 rounded-lg">
                              <h6 class="text-white font-medium mb-3">4. Como encerraria a conversa?</h6>
                              <textarea class="w-full h-24 bg-gray-700 text-white p-3 rounded border-gray-600" 
                                        placeholder="Como garantiria a satisfação e finalizaria o atendimento..."></textarea>
                          </div>
                      </div>
                      
                      <div class="text-center mt-8">
                          <button onclick="submitExercise()" class="btn-primary text-lg px-8 py-3">
                              <i class="fas fa-paper-plane mr-2"></i>Enviar Exercício
                          </button>
                          <div class="mt-4 p-4 bg-yellow-900 bg-opacity-30 rounded-lg border-l-4 border-yellow-400">
                              <p class="text-yellow-100 text-sm">
                                  <i class="fas fa-info-circle mr-2"></i>
                                  Seu exercício será avaliado com feedback personalizado em até 24 horas.
                              </p>
                          </div>
                      </div>
                  </div>
              `;
          }

          function generateExamContent(lesson) {
              return `
                  <div class="max-w-3xl mx-auto text-center">
                      <i class="fas fa-graduation-cap text-6xl text-purple-400 mb-6"></i>
                      <h4 class="text-white font-bold text-2xl mb-4">Avaliação Final</h4>
                      <p class="text-gray-400 mb-8 text-lg">${lesson.content}</p>
                      
                      <div class="bg-gray-800 p-8 rounded-lg mb-8 border border-gray-600">
                          <h5 class="text-white font-semibold mb-6">Informações da Avaliação</h5>
                          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-sm">
                              <div class="bg-gray-700 p-4 rounded-lg">
                                  <i class="fas fa-clock text-blue-400 text-2xl mb-2"></i>
                                  <p class="text-white font-medium">Duração</p>
                                  <p class="text-gray-300">30 minutos</p>
                              </div>
                              <div class="bg-gray-700 p-4 rounded-lg">
                                  <i class="fas fa-question text-green-400 text-2xl mb-2"></i>
                                  <p class="text-white font-medium">Questões</p>
                                  <p class="text-gray-300">15 questões</p>
                              </div>
                              <div class="bg-gray-700 p-4 rounded-lg">
                                  <i class="fas fa-percentage text-yellow-400 text-2xl mb-2"></i>
                                  <p class="text-white font-medium">Nota Mínima</p>
                                  <p class="text-gray-300">70% (10.5 pontos)</p>
                              </div>
                              <div class="bg-gray-700 p-4 rounded-lg">
                                  <i class="fas fa-redo text-red-400 text-2xl mb-2"></i>
                                  <p class="text-white font-medium">Tentativas</p>
                                  <p class="text-gray-300">Máximo 2</p>
                              </div>
                          </div>
                      </div>
                      
                      <div class="bg-blue-900 bg-opacity-30 p-6 rounded-lg mb-8 border-l-4 border-blue-400">
                          <h6 class="text-blue-100 font-medium mb-2">Dicas para a avaliação:</h6>
                          <ul class="text-blue-100 text-sm text-left space-y-1">
                              <li>• Revise todo o conteúdo antes de começar</li>
                              <li>• Leia as questões com atenção</li>
                              <li>• Gerencie bem o tempo disponível</li>
                              <li>• Não deixe questões em branco</li>
                          </ul>
                      </div>
                      
                      <button onclick="startExam()" class="btn-primary text-xl px-12 py-4 mb-4">
                          <i class="fas fa-play mr-3"></i>Iniciar Avaliação
                      </button>
                      
                      <p class="text-gray-400 text-sm">
                          Ao iniciar a avaliação, o cronômetro começará automaticamente.
                      </p>
                  </div>
              `;
          }

          // Funcionalidades VeloPonto
          function registerPoint(type) {
              const now = new Date();
              const timeString = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
              const types = {
                  'entry': '🟢 Entrada registrada',
                  'break_start': '🟡 Início da pausa',
                  'break_end': '🟢 Fim da pausa',
                  'exit': '🔴 Saída registrada'
              };
              
              showNotification(`${types[type]} às ${timeString}`, 'success');
              
              // Atualizar display
              updatePointDisplay(type, timeString);
              
              // Simular sincronização
              setTimeout(() => {
                  showNotification('☁️ Dados sincronizados com o servidor', 'info');
              }, 3000);
          }

          function updatePointDisplay(type, time) {
              // Atualizar elementos visuais do ponto
              const statusElement = document.querySelector('#pointStatus');
              if (statusElement) {
                  const statusTexts = {
                      'entry': 'Trabalhando',
                      'break_start': 'Em Pausa',
                      'break_end': 'Trabalhando',
                      'exit': 'Finalizado'
                  };
                  statusElement.textContent = statusTexts[type];
              }
          }

          function exportPointReport() {
              showNotification('📊 Gerando relatório de ponto...', 'info');
              setTimeout(() => {
                  showNotification('📄 Relatório exportado com sucesso!', 'success');
                  // Simular download do relatório
                  const link = document.createElement('a');
                  link.href = '#';
                  link.download = 'relatorio-ponto-janeiro-2025.pdf';
                  document.body.appendChild(link);
                  link.click();
                  document.body.removeChild(link);
              }, 2500);
          }

          // Funcionalidades de Processos
          function openProcess(processId) {
              const processes = {
                  'proc1': 'Atendimento ao Cliente',
                  'proc2': 'Política de Vendas',
                  'proc3': 'Segurança da Informação',
                  'proc4': 'Recursos Humanos',
                  'proc5': 'Qualidade Total'
              };
              
              const processName = processes[processId] || 'Processo';
              showNotification(`📋 Abrindo processo: ${processName}`, 'info');
              
              // Simular abertura de documento
              setTimeout(() => {
                  showNotification('📖 Documento carregado com sucesso!', 'success');
              }, 1500);
          }

          function downloadProcess(processId) {
              showNotification('⬬ Baixando documento...', 'info');
              setTimeout(() => {
                  showNotification('✅ Download concluído!', 'success');
              }, 2000);
          }

          // Sistema de Dashboard Inteligente
          function refreshDashboard() {
              showNotification('🔄 Atualizando dados do dashboard...', 'info');
              
              // Simular atualização de métricas
              setTimeout(() => {
                  updateDashboardMetrics();
                  showNotification('📊 Dashboard atualizado!', 'success');
              }, 2000);
          }

          function updateDashboardMetrics() {
              // Atualizar métricas simuladas
              const metrics = document.querySelectorAll('.metric-value');
              metrics.forEach(metric => {
                  const currentValue = parseInt(metric.textContent);
                  const variation = Math.floor(Math.random() * 10) - 5; // -5 a +5
                  const newValue = Math.max(0, currentValue + variation);
                  
                  metric.textContent = newValue;
                  metric.classList.add('animate-pulse');
                  setTimeout(() => metric.classList.remove('animate-pulse'), 1000);
              });
          }

          // Sistema de Notificações em Tempo Real
          function addRealTimeNotification(type, title, message) {
              const notification = {
                  id: Date.now(),
                  type: type,
                  title: title,
                  message: message,
                  time: 'Agora',
                  read: false
              };
              
              notifications.unshift(notification);
              updateNotificationBadge();
              
              // Mostrar notificação visual
              showNotification(`${title}: ${message}`, type === 'alert' ? 'error' : 'info');
          }

          // Simulador de Atividade em Tempo Real
          function simulateRealTimeActivity() {
              const activities = [
                  { type: 'user', title: 'Nova Mensagem', message: 'Você tem uma nova mensagem de Maria Silva' },
                  { type: 'system', title: 'Backup Completo', message: 'Backup automático realizado com sucesso' },
                  { type: 'alert', title: 'Meta Atingida', message: 'Parabéns! Você atingiu sua meta diária' },
                  { type: 'user', title: 'Reunião Agendada', message: 'Nova reunião agendada para amanhã às 14h' },
                  { type: 'system', title: 'Sistema Atualizado', message: 'Nova funcionalidade disponível no VeloNet' }
              ];
              
              const randomActivity = activities[Math.floor(Math.random() * activities.length)];
              addRealTimeNotification(randomActivity.type, randomActivity.title, randomActivity.message);
          }

          // Funcionalidades Administrativas Avançadas
          function generateSystemReport() {
              showNotification('📈 Gerando relatório do sistema...', 'info');
              setTimeout(() => {
                  showNotification('📊 Relatório gerado com sucesso!', 'success');
              }, 3000);
          }

          function backupSystem() {
              showNotification('💾 Iniciando backup do sistema...', 'info');
              setTimeout(() => {
                  showNotification('✅ Backup concluído com sucesso!', 'success');
              }, 4000);
          }

          function optimizePerformance() {
              showNotification('⚡ Otimizando performance...', 'info');
              setTimeout(() => {
                  showNotification('🚀 Sistema otimizado! +25% de velocidade', 'success');
              }, 3500);
          }

          // === SISTEMA DE WIDGETS PERSONALIZÁVEIS ===
          let isEditMode = false;
          let widgets = [
              { id: 'phone', type: 'metric', data: { title: 'Telefone Hoje', value: 47, trend: '+12%', color: 'blue' } },
              { id: 'tickets', type: 'metric', data: { title: 'Tickets Hoje', value: 23, trend: '+8%', color: 'green' } },
              { id: 'satisfaction', type: 'metric', data: { title: 'Satisfação', value: '4.8/5', trend: '+2%', color: 'purple' } },
              { id: 'tma', type: 'metric', data: { title: 'TMA Médio', value: '3m 45s', trend: '-5%', color: 'orange' } }
          ];

          function toggleEditMode() {
              isEditMode = !isEditMode;
              const editBtn = document.getElementById('editModeBtn');
              const widgetPanel = document.getElementById('widgetPanel');
              
              if (isEditMode) {
                                  editBtn.innerHTML = '<i class="fas fa-save mr-2"></i>Salvar';
                editBtn.className = 'btn-primary';
                widgetPanel.classList.remove('hidden');
                showNotification('🎨 Modo de edição ativado! Arraste os widgets para reorganizar.', 'info');
                enableDragAndDropReal();
              } else {
                  editBtn.innerHTML = '<i class="fas fa-edit mr-2"></i>Personalizar';
                  editBtn.className = 'btn-secondary';
                  widgetPanel.classList.add('hidden');
                  showNotification('✅ Layout salvo com sucesso!', 'success');
                  disableDragAndDrop();
              }
          }

          function addWidget() {
              if (!isEditMode) {
                  toggleEditMode();
              }
              showNotification('📊 Selecione um widget para adicionar ao dashboard', 'info');
          }

          function addSpecificWidget(type) {
              const widgetTemplates = {
                  'performance': { title: 'Performance Geral', value: '94%', trend: '+3%', color: 'blue', icon: 'chart-line' },
                  'weather': { title: 'Clima Atual', value: '24°C', trend: 'Ensolarado', color: 'green', icon: 'sun' },
                  'tasks': { title: 'Tarefas Pendentes', value: '12', trend: '3 urgentes', color: 'purple', icon: 'tasks' },
                  'calendar': { title: 'Próximo Evento', value: '15:30', trend: 'Reunião', color: 'orange', icon: 'calendar' },
                  'news': { title: 'Últimas Notícias', value: '5 novas', trend: 'Hoje', color: 'red', icon: 'newspaper' },
                  'team': { title: 'Equipe Online', value: '18/25', trend: '72% online', color: 'yellow', icon: 'users' },
                  'analytics': { title: 'Conversões', value: '3.2%', trend: '+0.8%', color: 'indigo', icon: 'chart-pie' },
                  'clock': { title: 'Horário Local', value: new Date().toLocaleTimeString('pt-BR', {hour: '2-digit', minute: '2-digit'}), trend: 'São Paulo', color: 'pink', icon: 'clock' }
              };

              const template = widgetTemplates[type];
              if (template) {
                  const newWidget = {
                      id: `widget_${Date.now()}`,
                      type: 'custom',
                      data: template
                  };
                  widgets.push(newWidget);
                  renderWidgets();
                  showNotification(`📊 Widget "${template.title}" adicionado!`, 'success');
              }
          }

          function renderWidgets() {
              const container = document.getElementById('widgetsContainer');
              if (!container) return;

              container.innerHTML = widgets.map(widget => `
                  <div class="metric-card p-6 ${isEditMode ? 'drag-enabled' : ''} cursor-pointer hover:scale-105 transition-transform" 
                       draggable="${isEditMode}" 
                       data-widget-id="${widget.id}"
                       onclick="${!isEditMode ? `openWidgetDetails('${widget.id}')` : ''}"
                       ondragstart="handleWidgetDragStart(event)"
                       ondragover="handleWidgetDragOver(event)"
                       ondrop="handleWidgetDrop(event)">
                      ${isEditMode ? `
                          <div class="widget-controls absolute top-2 right-2 flex space-x-1">
                              <button onclick="editWidget('${widget.id}')" class="text-blue-400 hover:text-blue-300 p-1">
                                  <i class="fas fa-edit"></i>
                              </button>
                              <button onclick="refreshWidget('${widget.id}')" class="text-green-400 hover:text-green-300 p-1">
                                  <i class="fas fa-sync-alt"></i>
                              </button>
                              <button onclick="removeWidget('${widget.id}')" class="text-red-400 hover:text-red-300 p-1">
                                  <i class="fas fa-times"></i>
                              </button>
                          </div>
                      ` : ''}
                      <div class="flex items-center justify-between">
                          <div>
                              <p class="text-gray-400 text-sm">${widget.data.title}</p>
                              <p class="text-3xl font-bold text-white widget-value" id="widget-value-${widget.id}">${widget.data.value}</p>
                              <p class="text-${widget.data.color}-400 text-xs widget-trend" id="widget-trend-${widget.id}">${widget.data.trend}</p>
                          </div>
                          <div class="w-16 h-16 bg-${widget.data.color}-500 bg-opacity-20 rounded-xl flex items-center justify-center widget-icon">
                              <i class="fas fa-${widget.data.icon || 'chart-bar'} text-${widget.data.color}-400 text-2xl"></i>
                          </div>
                      </div>
                      <div class="progress-bar mt-4">
                          <div class="progress-fill widget-progress" style="width: ${widget.data.progress || Math.random() * 100}%" id="widget-progress-${widget.id}"></div>
                      </div>
                      ${!isEditMode ? `
                          <div class="widget-actions mt-4 pt-4 border-t border-gray-600 hidden">
                              <div class="flex space-x-2">
                                  <button onclick="expandWidget('${widget.id}')" class="btn-secondary text-xs px-2 py-1">
                                      <i class="fas fa-expand-alt mr-1"></i>Expandir
                                  </button>
                                  <button onclick="shareWidget('${widget.id}')" class="btn-secondary text-xs px-2 py-1">
                                      <i class="fas fa-share mr-1"></i>Compartilhar
                                  </button>
                              </div>
                          </div>
                      ` : ''}
                  </div>
              `).join('');
              
              // Add drag and drop event listeners if in edit mode
              if (isEditMode) {
                  enableDragAndDropReal();
              }
          }

          function removeWidget(widgetId) {
              widgets = widgets.filter(w => w.id !== widgetId);
              renderWidgets();
              showNotification('🗑️ Widget removido!', 'info');
          }

          // === DRAG AND DROP REAL IMPLEMENTATION ===
          let draggedWidget = null;
          
          function enableDragAndDropReal() {
              showNotification('🖱️ Arrastar e soltar habilitado - Reorganize os widgets!', 'info');
          }

          function disableDragAndDrop() {
              draggedWidget = null;
              showNotification('🔒 Arrastar e soltar desabilitado', 'info');
          }

          function handleWidgetDragStart(event) {
              if (!isEditMode) return;
              draggedWidget = event.target.closest('[data-widget-id]');
              event.dataTransfer.effectAllowed = 'move';
              event.dataTransfer.setData('text/html', draggedWidget.outerHTML);
              draggedWidget.classList.add('widget-dragging');
              showNotification('📦 Widget selecionado para mover', 'info');
          }

          function handleWidgetDragOver(event) {
              if (!isEditMode || !draggedWidget) return;
              event.preventDefault();
              event.dataTransfer.dropEffect = 'move';
              
              const target = event.target.closest('[data-widget-id]');
              if (target && target !== draggedWidget) {
                  target.classList.add('widget-drag-over');
              }
          }

          function handleWidgetDrop(event) {
              if (!isEditMode || !draggedWidget) return;
              event.preventDefault();
              
              const target = event.target.closest('[data-widget-id]');
              if (target && target !== draggedWidget) {
                  // Swap widgets in array
                  const draggedId = draggedWidget.dataset.widgetId;
                  const targetId = target.dataset.widgetId;
                  
                  const draggedIndex = widgets.findIndex(w => w.id === draggedId);
                  const targetIndex = widgets.findIndex(w => w.id === targetId);
                  
                  if (draggedIndex !== -1 && targetIndex !== -1) {
                      [widgets[draggedIndex], widgets[targetIndex]] = [widgets[targetIndex], widgets[draggedIndex]];
                      renderWidgets();
                      showNotification('✅ Widgets reorganizados!', 'success');
                  }
              }
              
              // Cleanup
              document.querySelectorAll('.widget-drag-over').forEach(el => {
                  el.classList.remove('widget-drag-over');
              });
              if (draggedWidget) {
                  draggedWidget.classList.remove('widget-dragging');
              }
              draggedWidget = null;
          }

          // === WIDGET INTERACTIONS ===
          
          function openWidgetDetails(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              // Show widget actions
              const actionsDiv = document.querySelector(`[data-widget-id="${widgetId}"] .widget-actions`);
              if (actionsDiv) {
                  actionsDiv.classList.toggle('hidden');
              }
              
              showNotification(`📊 Widget "${widget.data.title}" - Clique novamente para ocultar ações`, 'info');
          }

          function editWidget(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              const newTitle = prompt('Novo título do widget:', widget.data.title);
              if (newTitle && newTitle !== widget.data.title) {
                  widget.data.title = newTitle;
                  renderWidgets();
                  showNotification(`✏️ Widget "${newTitle}" atualizado!`, 'success');
              }
          }

          function refreshWidget(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              showNotification('🔄 Atualizando widget...', 'info');
              
              // Simulate data refresh
              setTimeout(() => {
                  updateWidgetData(widgetId);
                  showNotification('✅ Widget atualizado com novos dados!', 'success');
              }, 1000);
          }

          function updateWidgetData(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              // Generate new random data based on widget type
              switch (widget.data.title) {
                  case 'Telefone Hoje':
                      widget.data.value = Math.floor(Math.random() * 50) + 30;
                      widget.data.trend = `${Math.random() > 0.5 ? '+' : '-'}${Math.floor(Math.random() * 20)}% vs ontem`;
                      break;
                  case 'Tickets Hoje':
                      widget.data.value = Math.floor(Math.random() * 30) + 15;
                      widget.data.trend = `${Math.random() > 0.5 ? '+' : '-'}${Math.floor(Math.random() * 15)}% vs ontem`;
                      break;
                  case 'Satisfação':
                      widget.data.value = (Math.random() * 2 + 3).toFixed(1) + '/5';
                      widget.data.trend = `${Math.random() > 0.5 ? '+' : '-'}${Math.floor(Math.random() * 5)}%`;
                      break;
                  case 'TMA Médio':
                      const minutes = Math.floor(Math.random() * 5) + 2;
                      const seconds = Math.floor(Math.random() * 60);
                      widget.data.value = `${minutes}m ${seconds}s`;
                      widget.data.trend = `${Math.random() > 0.5 ? '-' : '+'}${Math.floor(Math.random() * 10)}%`;
                      break;
                  case 'Performance Geral':
                      widget.data.value = Math.floor(Math.random() * 20) + 80 + '%';
                      widget.data.trend = `${Math.random() > 0.5 ? '+' : '-'}${Math.floor(Math.random() * 5)}%`;
                      break;
                  case 'Clima Atual':
                      const temps = ['22°C', '23°C', '24°C', '25°C', '26°C'];
                      widget.data.value = temps[Math.floor(Math.random() * temps.length)];
                      const weathers = ['Ensolarado', 'Nublado', 'Parcialmente nublado'];
                      widget.data.trend = weathers[Math.floor(Math.random() * weathers.length)];
                      break;
                  case 'Tarefas Pendentes':
                      widget.data.value = Math.floor(Math.random() * 20) + 5;
                      widget.data.trend = `${Math.floor(Math.random() * 5)} urgentes`;
                      break;
                  case 'Equipe Online':
                      const online = Math.floor(Math.random() * 10) + 15;
                      const total = 25;
                      widget.data.value = `${online}/${total}`;
                      widget.data.trend = `${Math.floor((online/total)*100)}% online`;
                      break;
                  default:
                      widget.data.value = Math.floor(Math.random() * 100);
                      widget.data.trend = `${Math.random() > 0.5 ? '+' : '-'}${Math.floor(Math.random() * 10)}%`;
              }
              
              widget.data.progress = Math.random() * 100;
              
              // Update DOM elements
              const valueElement = document.getElementById(`widget-value-${widgetId}`);
              const trendElement = document.getElementById(`widget-trend-${widgetId}`);
              const progressElement = document.getElementById(`widget-progress-${widgetId}`);
              
              if (valueElement) {
                  valueElement.textContent = widget.data.value;
                  valueElement.classList.add('animate-pulse');
                  setTimeout(() => valueElement.classList.remove('animate-pulse'), 1000);
              }
              
              if (trendElement) {
                  trendElement.textContent = widget.data.trend;
              }
              
              if (progressElement) {
                  progressElement.style.width = widget.data.progress + '%';
              }
          }

          function expandWidget(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              // Create expanded modal
              const modal = document.createElement('div');
              modal.className = 'fixed inset-0 bg-black bg-opacity-50 backdrop-filter backdrop-blur-sm z-50 flex items-center justify-center';
              modal.innerHTML = `
                  <div class="glass-panel p-8 max-w-2xl w-full m-4 max-h-96 overflow-y-auto">
                      <div class="flex justify-between items-center mb-6">
                          <h3 class="text-2xl font-bold text-white">${widget.data.title} - Detalhes</h3>
                          <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-white">
                              <i class="fas fa-times text-xl"></i>
                          </button>
                      </div>
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                          <div class="space-y-4">
                              <div>
                                  <h4 class="text-white font-semibold mb-2">Valor Atual</h4>
                                  <p class="text-4xl font-bold text-${widget.data.color}-400">${widget.data.value}</p>
                              </div>
                              <div>
                                  <h4 class="text-white font-semibold mb-2">Tendência</h4>
                                  <p class="text-${widget.data.color}-400">${widget.data.trend}</p>
                              </div>
                              <div>
                                  <h4 class="text-white font-semibold mb-2">Progresso</h4>
                                  <div class="progress-bar">
                                      <div class="progress-fill" style="width: ${widget.data.progress || 0}%"></div>
                                  </div>
                                  <p class="text-gray-400 text-sm mt-1">${Math.floor(widget.data.progress || 0)}% do objetivo</p>
                              </div>
                          </div>
                          <div class="space-y-4">
                              <div>
                                  <h4 class="text-white font-semibold mb-2">Ações Disponíveis</h4>
                                  <div class="space-y-2">
                                      <button onclick="refreshWidget('${widgetId}'); this.closest('.fixed').remove();" class="btn-primary w-full">
                                          <i class="fas fa-sync-alt mr-2"></i>Atualizar Dados
                                      </button>
                                      <button onclick="exportWidgetData('${widgetId}')" class="btn-secondary w-full">
                                          <i class="fas fa-download mr-2"></i>Exportar Dados
                                      </button>
                                      <button onclick="configureWidget('${widgetId}')" class="btn-secondary w-full">
                                          <i class="fas fa-cog mr-2"></i>Configurar
                                      </button>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              `;
              
              document.body.appendChild(modal);
              showNotification(`📈 Detalhes expandidos do widget "${widget.data.title}"`, 'info');
          }

          function shareWidget(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              const shareData = {
                  title: `VeloNet - ${widget.data.title}`,
                  text: `${widget.data.title}: ${widget.data.value} (${widget.data.trend})`,
                  url: window.location.href
              };
              
              if (navigator.share) {
                  navigator.share(shareData);
              } else {
                  navigator.clipboard.writeText(`${shareData.title} - ${shareData.text}`);
                  showNotification('📋 Dados do widget copiados para área de transferência!', 'success');
              }
          }

          function exportWidgetData(widgetId) {
              const widget = widgets.find(w => w.id === widgetId);
              if (!widget) return;
              
              const data = {
                  widget: widget.data.title,
                  valor: widget.data.value,
                  tendencia: widget.data.trend,
                  progresso: widget.data.progress + '%',
                  exportadoEm: new Date().toLocaleString('pt-BR')
              };
              
              const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
              const url = URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              a.download = `widget-${widget.data.title.toLowerCase().replace(/\s+/g, '-')}-${Date.now()}.json`;
              document.body.appendChild(a);
              a.click();
              document.body.removeChild(a);
              URL.revokeObjectURL(url);
              
              showNotification(`💾 Dados do widget "${widget.data.title}" exportados!`, 'success');
          }

          function configureWidget(widgetId) {
              showNotification('⚙️ Configuração avançada de widgets em desenvolvimento', 'info');
          }

          // === AUTO-UPDATE SYSTEM ===
          
          function updateAllWidgetsData() {
              if (isEditMode) return; // Don't update during edit mode
              
              widgets.forEach(widget => {
                  updateWidgetData(widget.id);
              });
              
              console.log('🔄 Todos os widgets atualizados automaticamente');
          }

          // === WIDGET TEMPLATES MELHORADOS ===
          
          function addSpecificWidget(type) {
              const now = new Date();
              const timeString = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
              
              const widgetTemplates = {
                  'performance': { 
                      title: 'Performance Geral', 
                      value: Math.floor(Math.random() * 20) + 80 + '%', 
                      trend: '+3% vs ontem', 
                      color: 'blue', 
                      icon: 'chart-line',
                      progress: Math.random() * 100
                  },
                  'weather': { 
                      title: 'Clima Atual', 
                      value: '24°C', 
                      trend: 'Ensolarado', 
                      color: 'green', 
                      icon: 'sun',
                      progress: 75
                  },
                  'tasks': { 
                      title: 'Tarefas Pendentes', 
                      value: Math.floor(Math.random() * 15) + 5, 
                      trend: '3 urgentes', 
                      color: 'purple', 
                      icon: 'tasks',
                      progress: Math.random() * 100
                  },
                  'calendar': { 
                      title: 'Próximo Evento', 
                      value: '15:30', 
                      trend: 'Reunião Equipe', 
                      color: 'orange', 
                      icon: 'calendar',
                      progress: 60
                  },
                  'news': { 
                      title: 'Últimas Notícias', 
                      value: '5 novas', 
                      trend: 'Hoje', 
                      color: 'red', 
                      icon: 'newspaper',
                      progress: 100
                  },
                  'team': { 
                      title: 'Equipe Online', 
                      value: '18/25', 
                      trend: '72% online', 
                      color: 'yellow', 
                      icon: 'users',
                      progress: 72
                  },
                  'analytics': { 
                      title: 'Conversões', 
                      value: '3.2%', 
                      trend: '+0.8% vs ontem', 
                      color: 'indigo', 
                      icon: 'chart-pie',
                      progress: Math.random() * 100
                  },
                  'clock': { 
                      title: 'Horário Local', 
                      value: timeString, 
                      trend: 'São Paulo', 
                      color: 'pink', 
                      icon: 'clock',
                      progress: (now.getMinutes() / 60) * 100
                  }
              };

              const template = widgetTemplates[type];
              if (template) {
                  const newWidget = {
                      id: `widget_${Date.now()}`,
                      type: 'custom',
                      data: template
                  };
                  widgets.push(newWidget);
                  renderWidgets();
                  showNotification(`📊 Widget "${template.title}" adicionado e funcionando!`, 'success');
                  
                  // Auto-save widgets
                  saveWidgetLayout();
              }
          }

          // === WIDGET REAL-TIME FEATURES ===
          
          function startWidgetRealTimeUpdates() {
              // Update clock widget every minute
              setInterval(() => {
                  const clockWidget = widgets.find(w => w.data.title === 'Horário Local');
                  if (clockWidget) {
                      const now = new Date();
                      clockWidget.data.value = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
                      clockWidget.data.progress = (now.getMinutes() / 60) * 100;
                      
                      const valueElement = document.getElementById(`widget-value-${clockWidget.id}`);
                      const progressElement = document.getElementById(`widget-progress-${clockWidget.id}`);
                      
                      if (valueElement) valueElement.textContent = clockWidget.data.value;
                      if (progressElement) progressElement.style.width = clockWidget.data.progress + '%';
                  }
              }, 60000);
              
              // Update weather widget every 10 minutes
              setInterval(() => {
                  const weatherWidget = widgets.find(w => w.data.title === 'Clima Atual');
                  if (weatherWidget) {
                      updateWidgetData(weatherWidget.id);
                  }
              }, 600000);
          }

          function saveWidgetLayout() {
              localStorage.setItem('velonet_widgets', JSON.stringify(widgets));
              showNotification('💾 Layout de widgets salvo!', 'success');
          }

          // === SISTEMA DE CHAT INTERNO AVANÇADO ===
          let activeChat = null;
          let chatUsers = {
              'maria.silva': { name: 'Maria Silva', role: 'Supervisora de Qualidade', status: 'online' },
              'joao.santos': { name: 'João Santos', role: 'Analista de Sistemas', status: 'online' },
              'ana.costa': { name: 'Ana Costa', role: 'Gestora de RH', status: 'away' }
          };

          function openChat(userId) {
              activeChat = userId;
              const user = chatUsers[userId];
              
              // Atualizar header do chat
              document.getElementById('activeChatName').textContent = user.name;
              document.getElementById('activeChatStatus').textContent = user.status === 'online' ? 'Online' : 'Ausente';
              document.getElementById('activeChatAvatar').src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${userId}`;
              
              // Simular carregamento de mensagens
              loadChatMessages(userId);
              showNotification(`💬 Chat aberto com ${user.name}`, 'info');
          }

          function openGroupChat(groupId) {
              const groups = {
                  'equipe-vendas': 'Equipe Vendas',
                  'suporte-tecnico': 'Suporte Técnico'
              };
              showNotification(`👥 Abrindo chat do grupo: ${groups[groupId]}`, 'info');
          }

          function loadChatMessages(userId) {
              // Simular mensagens do chat
              const messages = [
                  { sender: userId, message: 'Olá! Como está o projeto?', time: '14:30' },
                  { sender: 'me', message: 'Está indo muito bem! Implementei novas funcionalidades.', time: '14:32' },
                  { sender: userId, message: 'Excelente! Posso testar?', time: '14:33' }
              ];
              
              // Atualizar interface com mensagens simuladas
              setTimeout(() => {
                  showNotification('📥 Mensagens carregadas', 'success');
              }, 500);
          }

          function sendChatMessage() {
              const input = document.getElementById('chatInput');
              const message = input.value.trim();
              
              if (message && activeChat) {
                  // Adicionar mensagem à interface
                  addMessageToChat('me', message);
                  input.value = '';
                  
                  // Simular resposta automática
                  setTimeout(() => {
                      const responses = [
                          'Entendi! Vou verificar isso.',
                          'Ótima ideia! Vamos implementar.',
                          'Perfeito! Obrigado pela informação.',
                          'Concordo totalmente contigo.',
                          'Vou analisar e te retorno.'
                      ];
                      const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                      addMessageToChat(activeChat, randomResponse);
                  }, 2000);
                  
                  showNotification('📤 Mensagem enviada!', 'success');
              }
          }

          function addMessageToChat(sender, message) {
              const chatMessages = document.getElementById('chatMessages');
              const time = new Date().toLocaleTimeString('pt-BR', {hour: '2-digit', minute: '2-digit'});
              
              const messageElement = document.createElement('div');
              messageElement.className = sender === 'me' ? 'chat-message-sent' : 'chat-message-received';
              
              if (sender === 'me') {
                  messageElement.innerHTML = `
                      <div class="flex items-start space-x-3 justify-end">
                          <div class="max-w-xs bg-blue-500 bg-opacity-80 rounded-lg p-3">
                              <div class="text-white text-sm">${message}</div>
                              <div class="text-blue-100 text-xs mt-1">${time} ✓✓</div>
                          </div>
                          <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=user" class="w-8 h-8 rounded-full">
                      </div>
                  `;
              } else {
                  messageElement.innerHTML = `
                      <div class="flex items-start space-x-3">
                          <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=${sender}" class="w-8 h-8 rounded-full">
                          <div class="max-w-xs bg-white bg-opacity-10 rounded-lg p-3">
                              <div class="text-white text-sm">${message}</div>
                              <div class="text-gray-400 text-xs mt-1">${time}</div>
                          </div>
                      </div>
                  `;
              }
              
              chatMessages.appendChild(messageElement);
              chatMessages.scrollTop = chatMessages.scrollHeight;
          }

          function handleChatKeyPress(event) {
              if (event.key === 'Enter') {
                  sendChatMessage();
              }
          }

          function startVideoCall() {
              if (activeChat) {
                  const user = chatUsers[activeChat];
                  showNotification(`📹 Iniciando chamada de vídeo com ${user.name}...`, 'info');
                  setTimeout(() => {
                      showNotification('🎥 Chamada conectada!', 'success');
                  }, 2000);
              }
          }

          function startVoiceCall() {
              if (activeChat) {
                  const user = chatUsers[activeChat];
                  showNotification(`📞 Iniciando chamada de voz com ${user.name}...`, 'info');
                  setTimeout(() => {
                      showNotification('🔊 Chamada conectada!', 'success');
                  }, 1500);
              }
          }

          function startGroupChat() {
              showNotification('👥 Criando novo grupo...', 'info');
              const groupName = prompt('Nome do grupo:');
              if (groupName) {
                  showNotification(`✅ Grupo "${groupName}" criado com sucesso!`, 'success');
              }
          }

          function toggleChatStatus() {
              showNotification('🔄 Alternando status online/ausente...', 'info');
          }

          function toggleEmojiPicker() {
              showNotification('😊 Seletor de emojis em desenvolvimento', 'info');
          }

          function attachFile() {
              showNotification('📎 Anexar arquivo em desenvolvimento', 'info');
          }

          function startVoiceMessage() {
              showNotification('🎤 Gravação de áudio em desenvolvimento', 'info');
          }

          function toggleChatInfo() {
              showNotification('ℹ️ Informações do chat em desenvolvimento', 'info');
          }

          // === SISTEMA DE COMANDOS DE VOZ AVANÇADO ===
          let recognition = null;
          let isListening = false;
          let voiceCommands = {
              // Navegação
              'abrir dashboard': () => showSection('dashboard'),
              'ir para dashboard': () => showSection('dashboard'),
              'abrir velonews': () => showSection('velonews'),
              'ir para notícias': () => showSection('velonews'),
              'abrir processos': () => showSection('processos'),
              'abrir veloacademy': () => showSection('veloacademy'),
              'ir para treinamentos': () => showSection('veloacademy'),
              'abrir veloponto': () => showSection('veloponto'),
              'ir para ponto': () => showSection('veloponto'),
              'abrir chat': () => showSection('chat'),
              'abrir velochat': () => showSection('chat'),
              'abrir calendário': () => showSection('calendario'),
              'abrir perfil': () => showSection('perfil'),
              'abrir administração': () => showSection('admin'),
              
              // Ações do Dashboard
              'atualizar dashboard': () => refreshDashboard(),
              'adicionar widget': () => addWidget(),
              'personalizar dashboard': () => toggleEditMode(),
              'gerar relatório': () => generateSystemReport(),
              
              // Notificações
              'abrir notificações': () => showNotificationCenter(),
              'fechar notificações': () => closeNotificationCenter(),
              'marcar todas como lidas': () => markAllAsRead(),
              
              // Sistema
              'fazer backup': () => backupSystem(),
              'otimizar sistema': () => optimizePerformance(),
              'limpar cache': () => clearSystemCache(),
              
              // VeloPonto
              'registrar entrada': () => registerPoint('entry'),
              'registrar saída': () => registerPoint('exit'),
              'iniciar pausa': () => registerPoint('break_start'),
              'finalizar pausa': () => registerPoint('break_end'),
              'exportar relatório de ponto': () => exportPointReport(),
              
              // Chat
              'enviar mensagem': () => focusChatInput(),
              'nova conversa': () => startGroupChat(),
              
              // Diversos
              'qual é o horário': () => speakCurrentTime(),
              'como está o tempo': () => speakWeatherInfo(),
              'status do sistema': () => speakSystemStatus(),
              'ajuda': () => showVoiceHelp(),
              'parar escuta': () => stopVoiceRecognition()
          };

          function initializeVoiceRecognition() {
              if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                  recognition = new SpeechRecognition();
                  
                  recognition.continuous = true;
                  recognition.interimResults = false;
                  recognition.lang = 'pt-BR';
                  
                  recognition.onstart = () => {
                      isListening = true;
                      document.getElementById('voiceIndicator').classList.remove('hidden');
                      showNotification('🎤 Escutando comandos de voz...', 'info');
                  };
                  
                  recognition.onend = () => {
                      isListening = false;
                      document.getElementById('voiceIndicator').classList.add('hidden');
                  };
                  
                  recognition.onresult = (event) => {
                      const command = event.results[event.results.length - 1][0].transcript.toLowerCase().trim();
                      processVoiceCommand(command);
                  };
                  
                  recognition.onerror = (event) => {
                      showNotification('❌ Erro no reconhecimento de voz: ' + event.error, 'error');
                      isListening = false;
                      document.getElementById('voiceIndicator').classList.add('hidden');
                  };
                  
                  showNotification('🎤 Sistema de comandos de voz inicializado!', 'success');
              } else {
                  showNotification('❌ Comandos de voz não suportados neste navegador', 'error');
              }
          }

          function toggleVoiceCommands() {
              if (!recognition) {
                  initializeVoiceRecognition();
                  return;
              }
              
              if (isListening) {
                  stopVoiceRecognition();
              } else {
                  startVoiceRecognition();
              }
          }

          function startVoiceRecognition() {
              if (recognition && !isListening) {
                  recognition.start();
                  speak('Sistema de voz ativado. Diga um comando.');
              }
          }

          function stopVoiceRecognition() {
              if (recognition && isListening) {
                  recognition.stop();
                  speak('Sistema de voz desativado.');
                  showNotification('🔇 Comandos de voz desativados', 'info');
              }
          }

          function processVoiceCommand(command) {
              showNotification(`🎤 Comando ouvido: "${command}"`, 'info');
              
              // Buscar comando exato
              if (voiceCommands[command]) {
                  voiceCommands[command]();
                  speak(`Executando: ${command}`);
                  return;
              }
              
              // Buscar comando similar
              for (const [key, action] of Object.entries(voiceCommands)) {
                  if (command.includes(key.split(' ')[0]) || key.includes(command.split(' ')[0])) {
                      action();
                      speak(`Executando: ${key}`);
                      return;
                  }
              }
              
              // Comando não reconhecido
              speak('Comando não reconhecido. Diga "ajuda" para ver os comandos disponíveis.');
              showNotification('❓ Comando não reconhecido. Diga "ajuda" para ver os comandos.', 'warning');
          }

          function speak(text) {
              if ('speechSynthesis' in window) {
                  const utterance = new SpeechSynthesisUtterance(text);
                  utterance.lang = 'pt-BR';
                  utterance.rate = 0.9;
                  utterance.pitch = 1;
                  speechSynthesis.speak(utterance);
              }
          }

          function speakCurrentTime() {
              const now = new Date();
              const timeString = now.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
              speak(`São ${timeString}`);
              showNotification(`🕐 Horário atual: ${timeString}`, 'info');
          }

          function speakWeatherInfo() {
              speak('Temperatura atual: 24 graus, ensolarado em São Paulo');
              showNotification('☀️ 24°C - Ensolarado em São Paulo', 'info');
          }

          function speakSystemStatus() {
              speak('Sistema VeloNet funcionando normalmente. Todos os serviços online.');
              showNotification('✅ Sistema funcionando normalmente', 'success');
          }

          function showVoiceHelp() {
              const helpCommands = [
                  'Comandos disponíveis:',
                  '• "Abrir [seção]" - Navegar para seções',
                  '• "Atualizar dashboard" - Atualizar métricas',
                  '• "Abrir notificações" - Ver notificações',
                  '• "Registrar entrada/saída" - Controle de ponto',
                  '• "Qual é o horário" - Falar horário',
                  '• "Status do sistema" - Verificar sistema',
                  '• "Parar escuta" - Desativar comandos'
              ];
              
              speak('Comandos de voz disponíveis foram exibidos na tela');
              showNotification(helpCommands.join('\n'), 'info');
          }

          function focusChatInput() {
              const chatInput = document.getElementById('chatInput');
              if (chatInput) {
                  chatInput.focus();
                  speak('Campo de mensagem focado');
              }
          }

          function clearSystemCache() {
              showNotification('🧹 Limpando cache do sistema...', 'info');
              setTimeout(() => {
                  showNotification('✅ Cache limpo com sucesso!', 'success');
                  speak('Cache do sistema limpo');
              }, 2000);
          }

          // === CORREÇÕES E MELHORIAS ===
          
          // Mobile Menu Toggle
          function toggleMobileMenu() {
              const sidebar = document.querySelector('.sidebar');
              if (sidebar) {
                  sidebar.classList.toggle('mobile-open');
                  showNotification('📱 Menu mobile alterado', 'info');
              }
          }

          // Error Boundary Function
          function handleError(error, context) {
              console.error(`Erro em ${context}:`, error);
              showNotification(`❌ Erro em ${context}. Tente novamente.`, 'error');
              
              // Log error for debugging
              if (typeof error === 'object') {
                  console.error('Stack trace:', error.stack);
              }
          }

          // Safe DOM manipulation
          function safeGetElement(id) {
              try {
                  const element = document.getElementById(id);
                  if (!element) {
                      console.warn(`Elemento não encontrado: ${id}`);
                  }
                  return element;
              } catch (error) {
                  handleError(error, `safeGetElement(${id})`);
                  return null;
              }
          }

          // Improved section navigation with error handling
          function safeShowSection(sectionId) {
              try {
                  // Hide all sections
                  document.querySelectorAll('.content-section').forEach(section => {
                      section.classList.remove('active');
                  });
                  
                  // Show target section
                  const targetSection = safeGetElement(sectionId);
                  if (targetSection) {
                      targetSection.classList.add('active');
                      updatePageTitle(sectionId);
                      
                      // Close mobile menu if open
                      const sidebar = document.querySelector('.sidebar');
                      if (sidebar && sidebar.classList.contains('mobile-open')) {
                          sidebar.classList.remove('mobile-open');
                      }
                  } else {
                      showNotification(`❌ Seção '${sectionId}' não encontrada`, 'error');
                  }
              } catch (error) {
                  handleError(error, 'safeShowSection');
              }
          }

          // Improved notification system with better error handling
          function safeShowNotification(message, type = 'info', duration = 5000) {
              try {
                  if (!message || typeof message !== 'string') {
                      console.warn('Mensagem de notificação inválida:', message);
                      return;
                  }
                  
                  showNotification(message, type, duration);
              } catch (error) {
                  console.error('Erro ao mostrar notificação:', error);
                  // Fallback para alert se notificações falharem
                  alert(`${type.toUpperCase()}: ${message}`);
              }
          }

          // Browser compatibility check
          function checkBrowserCompatibility() {
              const features = {
                  localStorage: typeof Storage !== 'undefined',
                  speechRecognition: 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window,
                  speechSynthesis: 'speechSynthesis' in window,
                  webAudio: typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined',
                  dragAndDrop: 'draggable' in document.createElement('div'),
                  fileAPI: typeof FileReader !== 'undefined'
              };
              
              const unsupported = Object.keys(features).filter(feature => !features[feature]);
              
              if (unsupported.length > 0) {
                  console.warn('Recursos não suportados pelo navegador:', unsupported);
                  showNotification(`⚠️ Alguns recursos podem não funcionar: ${unsupported.join(', ')}`, 'warning', 8000);
              }
              
              return features;
          }

          // Performance monitoring
          function monitorPerformance() {
              if ('performance' in window) {
                  const navigation = performance.getEntriesByType('navigation')[0];
                  const loadTime = navigation.loadEventEnd - navigation.loadEventStart;
                  
                  if (loadTime > 3000) {
                      console.warn(`Tempo de carregamento lento: ${loadTime}ms`);
                  }
                  
                  // Memory usage (if available)
                  if ('memory' in performance) {
                      const memInfo = performance.memory;
                      console.log('Uso de memória:', {
                          used: Math.round(memInfo.usedJSHeapSize / 1048576) + 'MB',
                          total: Math.round(memInfo.totalJSHeapSize / 1048576) + 'MB',
                          limit: Math.round(memInfo.jsHeapSizeLimit / 1048576) + 'MB'
                      });
                  }
              }
          }

          // Auto-save user preferences
          function saveUserPreferences() {
              try {
                  const preferences = {
                      theme: localStorage.getItem('velonet-theme') || 'dark',
                      widgets: JSON.parse(localStorage.getItem('velonet_widgets') || '[]'),
                      notifications: JSON.parse(localStorage.getItem('velonet-notifications') || '[]'),
                      lastLogin: new Date().toISOString()
                  };
                  
                  localStorage.setItem('velonet-preferences', JSON.stringify(preferences));
                  console.log('Preferências salvas:', preferences);
              } catch (error) {
                  handleError(error, 'saveUserPreferences');
              }
          }

          // Load user preferences
          function loadUserPreferences() {
              try {
                  const preferences = JSON.parse(localStorage.getItem('velonet-preferences') || '{}');
                  
                  if (preferences.widgets && Array.isArray(preferences.widgets)) {
                      widgets = preferences.widgets;
                      renderWidgets();
                  }
                  
                  console.log('Preferências carregadas:', preferences);
                  return preferences;
              } catch (error) {
                  handleError(error, 'loadUserPreferences');
                  return {};
              }
          }

          // Cleanup function for better memory management
          function cleanup() {
              // Remove event listeners if needed
              // Clear intervals
              // Reset global variables
              console.log('Sistema limpo para melhor performance');
          }

          // Window unload cleanup
          window.addEventListener('beforeunload', function() {
              saveUserPreferences();
              cleanup();
          });

         // Inicialização quando a página carrega
        document.addEventListener('DOMContentLoaded', function() {
            // Mostrar tela de loading
            showLoadingState(true);
            
            // Simular carregamento inicial
            setTimeout(() => {
                const userInfo = localStorage.getItem('velonet-user');
                
                if (userInfo) {
                    // Usuário já logado
                    showLoadingState(false);
                    document.getElementById('loginScreen').classList.add('hidden');
                    document.getElementById('mainApp').classList.remove('hidden');
                    updateUserInfo();
                    initializeApp();
                } else {
                    // Mostrar tela de login
                    showLoadingState(false);
                    document.getElementById('loginScreen').classList.remove('hidden');
                }
            }, 2500);
        });

        // === FUNÇÃO GENERATECERTIFICATE ===
        function generateCertificate(courseId) {
            const course = courseDatabase[courseId];
            if (!course) return;
            
            const completion = calculateCourseCompletion(courseId);
            
            if (completion < 100) {
                showNotification('⚠️ Complete todas as aulas para gerar o certificado!', 'warning');
                return;
            }
            
            showNotification('📜 Gerando certificado digital...', 'info');
            
            setTimeout(() => {
                // Adicionar certificado à lista do usuário
                const certificate = {
                    id: `cert_${Date.now()}`,
                    courseId: courseId,
                    courseName: course.title,
                    instructor: course.instructor,
                    completionDate: new Date().toISOString(),
                    score: Math.floor(Math.random() * 20) + 80 // 80-100%
                };
                
                userCertificates.push(certificate);
                localStorage.setItem('userCertificates', JSON.stringify(userCertificates));
                
                // Simular download
                const link = document.createElement('a');
                link.href = '#';
                link.download = `certificado-${course.title.toLowerCase().replace(/\s+/g, '-')}.pdf`;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification(`🎉 Certificado de "${course.title}" gerado e baixado!`, 'success');
            }, 3000);
        }

        // === FUNÇÕES AUXILIARES ADICIONAIS ===
        function toggleTranscript() {
            showNotification('📄 Transcrição do vídeo carregada!', 'info');
        }

        function toggleNotes() {
            showNotification('📝 Bloco de anotações aberto!', 'info');
        }

        function playVideo(lessonId) {
            showNotification('🎬 Simulando reprodução de vídeo...', 'info');
            setTimeout(() => {
                showNotification('▶️ Vídeo iniciado! (Simulação)', 'success');
            }, 1000);
        }

        function submitQuiz() {
            showNotification('📝 Enviando respostas do quiz...', 'info');
            setTimeout(() => {
                const score = Math.floor(Math.random() * 30) + 70; // 70-100%
                showNotification(`🎯 Quiz concluído! Sua nota: ${score}%`, 'success');
            }, 2000);
        }

        function submitExercise() {
            showNotification('📋 Enviando exercício para avaliação...', 'info');
            setTimeout(() => {
                showNotification('✅ Exercício enviado! Feedback em 24h.', 'success');
            }, 1500);
        }

        function startExam() {
            showNotification('🎓 Iniciando avaliação final...', 'info');
            setTimeout(() => {
                showNotification('📝 Avaliação carregada! (Simulação)', 'success');
            }, 2000);
        }

        function submitCaseStudy() {
            showNotification('📋 Enviando estudo de caso...', 'info');
            setTimeout(() => {
                showNotification('✅ Análise enviada com sucesso!', 'success');
            }, 1500);
        }
    </script>
</body>
</html> 